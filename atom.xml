<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>heshang</title>
  <icon>https://www.gravatar.com/avatar/ff0fad28696a2c137c9f67b2f18f359f</icon>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://heshang.ink/"/>
  <updated>2019-05-27T03:48:24.287Z</updated>
  <id>https://heshang.ink/</id>
  
  <author>
    <name>å’Œå°š</name>
    <email>914727235@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ï¼ˆè½¬ï¼‰PicGo+GitHubå›¾åºŠ+å¾®åšå›¾åºŠ</title>
    <link href="https://heshang.ink/2019/05/27/%EF%BC%88%E8%BD%AC%EF%BC%89PicGo-GitHub%E5%9B%BE%E5%BA%8A-%E5%BE%AE%E5%8D%9A%E5%9B%BE%E5%BA%8A/"/>
    <id>https://heshang.ink/2019/05/27/ï¼ˆè½¬ï¼‰PicGo-GitHubå›¾åºŠ-å¾®åšå›¾åºŠ/</id>
    <published>2019-05-27T03:16:18.000Z</published>
    <updated>2019-05-27T03:48:24.287Z</updated>
    
    <content type="html"><![CDATA[<p>PicGoå›¾åºŠä¸Šä¼ å·¥å…·ï¼Œé…ç½®GitHubå›¾åºŠã€å¾®åšå›¾åºŠï¼ˆåœ¨csdnå’Œåšå®¢ä¸Šä¸æ˜¾ç¤ºå‡ºæ¥ï¼Œè¢«åäº†ï¼‰</p><a id="more"></a><h2 id="PicGoä»‹ç»"><a href="#PicGoä»‹ç»" class="headerlink" title="PicGoä»‹ç»"></a>PicGoä»‹ç»</h2><p>è¿™æ˜¯ä¸€æ¬¾å›¾ç‰‡ä¸Šä¼ çš„å·¥å…·ï¼Œç›®å‰æ”¯æŒå¾®åšå›¾åºŠï¼Œä¸ƒç‰›å›¾åºŠï¼Œè…¾è®¯äº‘ï¼Œåˆæ‹äº‘ï¼ŒGitHubç­‰å›¾åºŠï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå›¾åºŠã€‚</p><p>æ‰€ä»¥è§£å†³é—®é¢˜çš„æ€è·¯å°±æ˜¯ï¼Œå°†æœ¬åœ°çš„æ–‡ä»¶ï¼Œæˆ–è€…å‰ªåˆ‡æ¿ä¸Šé¢çš„æˆªå›¾å‘é€å›¾åºŠï¼Œç„¶åç”Ÿæˆåœ¨çº¿å›¾ç‰‡çš„é“¾æ¥ï¼Œèµ°åˆ°å“ªå°±å¯ä»¥ç”¨åˆ°å“ªğŸ˜Šã€‚</p><p><img src="https://raw.githubusercontent.com/heshangcode/Figurebed/master/img/20190527112234.png?token=AJOTJVWTC3UPRDXFFXPAV3245NMDS" alt=""></p><h3 id="ä¸€ã€GitHubå›¾åºŠï¼š"><a href="#ä¸€ã€GitHubå›¾åºŠï¼š" class="headerlink" title="ä¸€ã€GitHubå›¾åºŠï¼š"></a>ä¸€ã€GitHubå›¾åºŠï¼š</h3><h5 id="1-åˆ›å»ºGitHubå›¾åºŠä¹‹å‰ï¼Œéœ€è¦æ³¨å†Œ-ç™»é™†GitHubè´¦å·"><a href="#1-åˆ›å»ºGitHubå›¾åºŠä¹‹å‰ï¼Œéœ€è¦æ³¨å†Œ-ç™»é™†GitHubè´¦å·" class="headerlink" title="1. åˆ›å»ºGitHubå›¾åºŠä¹‹å‰ï¼Œéœ€è¦æ³¨å†Œ/ç™»é™†GitHubè´¦å·"></a>1. åˆ›å»ºGitHubå›¾åºŠä¹‹å‰ï¼Œéœ€è¦æ³¨å†Œ/ç™»é™†GitHubè´¦å·</h5><p>ç”³è¯·GitHubè´¦å·å¾ˆç®€å•ï¼Œæˆ‘å°±ä¸æ¼”ç¤ºäº†</p><h5 id="2-åˆ›å»ºRepository"><a href="#2-åˆ›å»ºRepository" class="headerlink" title="2. åˆ›å»ºRepository"></a>2. åˆ›å»ºRepository</h5><p><img src="https://raw.githubusercontent.com/heshangcode/Figurebed/master/img/20190527113405.png?token=AJOTJVXOEXCCNYZF3IW7WCC45NNPK" alt=""></p><p><img src="https://raw.githubusercontent.com/heshangcode/Figurebed/master/img/20190527113517.png?token=AJOTJVSDDXLFPDWF23YNIO245NNTK" alt=""></p><h5 id="3-ç”Ÿæˆä¸€ä¸ªTokenç”¨äºæ“ä½œGitHub-repository"><a href="#3-ç”Ÿæˆä¸€ä¸ªTokenç”¨äºæ“ä½œGitHub-repository" class="headerlink" title="3.ç”Ÿæˆä¸€ä¸ªTokenç”¨äºæ“ä½œGitHub repository"></a>3.ç”Ÿæˆä¸€ä¸ªTokenç”¨äºæ“ä½œGitHub repository</h5><p><img src="https://raw.githubusercontent.com/heshangcode/Figurebed/master/img/20190527113631.png?token=AJOTJVWLF6X5T4B6GKRZIBC45NNX6" alt=""></p><p><img src="https://raw.githubusercontent.com/heshangcode/Figurebed/master/img/20190527113724.png?token=AJOTJVUNYEKBU6DGJ6XBXL245NN4A" alt=""></p><p><img src="https://raw.githubusercontent.com/heshangcode/Figurebed/master/img/20190527113945.png?token=AJOTJVSYYIFWYWHRRL2Q3B245NOEC" alt=""></p><p><img src="https://raw.githubusercontent.com/heshangcode/Figurebed/master/img/20190527114018.png?token=AJOTJVRZMN65CYLYACLU3T245NOGG" alt=""></p><p>æ³¨ï¼šåˆ›å»ºæˆåŠŸåï¼Œä¼šç”Ÿæˆä¸€ä¸²tokenï¼Œè¿™ä¸²tokenä¹‹åä¸ä¼šå†æ˜¾ç¤ºï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡çœ‹åˆ°çš„æ—¶å€™ï¼Œå°±è¦å¥½å¥½ä¿å­˜</p><h2 id="é…ç½®PicGo"><a href="#é…ç½®PicGo" class="headerlink" title="é…ç½®PicGo"></a>é…ç½®PicGo</h2><h5 id="1-ä¸‹è½½è¿è¡ŒPicGo"><a href="#1-ä¸‹è½½è¿è¡ŒPicGo" class="headerlink" title="1. ä¸‹è½½è¿è¡ŒPicGo"></a>1. ä¸‹è½½è¿è¡ŒPicGo</h5><p><a href="https://github.com/Molunerfinn/PicGo/releases" target="_blank" rel="noopener">ä¸‹è½½</a></p><h5 id="2-é…ç½®å›¾åºŠ"><a href="#2-é…ç½®å›¾åºŠ" class="headerlink" title="2. é…ç½®å›¾åºŠ"></a>2. é…ç½®å›¾åºŠ</h5><p><img src="https://raw.githubusercontent.com/heshangcode/Figurebed/master/img/20190527114239.png?token=AJOTJVUOE7GTBLGDBT2VMMK45NOO6" alt=""></p><p>ã€‚è®¾å®šä»“åº“åçš„æ—¶å€™ï¼Œæ˜¯æŒ‰ç…§â€œè´¦æˆ·å/ä»“åº“åçš„æ ¼å¼å¡«å†™â€<br>ã€‚åˆ†æ”¯åç»Ÿä¸€å¡«å†™â€œmasterâ€<br>ã€‚å°†ä¹‹å‰çš„Tokené»è´´åœ¨è¿™é‡Œ<br>ã€‚å­˜å‚¨çš„è·¯å¾„å¯ä»¥æŒ‰ç…§æˆ‘è¿™æ ·å­å†™ï¼Œå°±ä¼šåœ¨repositoryä¸‹åˆ›å»ºä¸€ä¸ªâ€œimgâ€æ–‡ä»¶å¤¹</p><p>ã€‚è‡ªå®šä¹‰åŸŸåçš„ä½œç”¨æ˜¯ï¼Œåœ¨ä¸Šä¼ å›¾ç‰‡åæˆåŠŸåï¼ŒPicGoä¼šå°†â€œè‡ªå®šä¹‰åŸŸå+ä¸Šä¼ çš„å›¾ç‰‡åâ€ç”Ÿæˆçš„è®¿é—®é“¾æ¥ï¼Œæ”¾åˆ°å‰ªåˆ‡æ¿ä¸Š<a href="https://raw.githubusercontent.com/ç”¨æˆ·å/RepositoryName/åˆ†æ”¯åï¼Œï¼Œè‡ªå®šä¹‰åŸŸåéœ€è¦æŒ‰ç…§è¿™æ ·å»å¡«å†™" target="_blank" rel="noopener">https://raw.githubusercontent.com/ç”¨æˆ·å/RepositoryName/åˆ†æ”¯åï¼Œï¼Œè‡ªå®šä¹‰åŸŸåéœ€è¦æŒ‰ç…§è¿™æ ·å»å¡«å†™</a></p><h3 id="äºŒã€å¾®åšå›¾åºŠ"><a href="#äºŒã€å¾®åšå›¾åºŠ" class="headerlink" title="äºŒã€å¾®åšå›¾åºŠ"></a>äºŒã€å¾®åšå›¾åºŠ</h3><p>ä¸Šä¼ çš„å›¾ç‰‡ä¸ä¼šå‡ºç°åœ¨ä½ çš„å¾®åšç›¸å†Œé‡Œã€‚å¯ä»¥é€‰æ‹©é“¾æ¥çš„å›¾ç‰‡è´¨é‡ï¼Œè¿™æ ·åœ¨å¤åˆ¶åˆ°å‰ªè´´æ¿é‡Œçš„å›¾ç‰‡å°†ä¼šå¯¹åº”ä¿®æ”¹æˆå¯¹åº”çš„é“¾æ¥åœ°å€ã€‚è®¾ç½®ä½ çš„å¾®åšå›¾åºŠå¯ä»¥é€‰æ‹©ä¸¤ç§æ¨¡å¼ï¼š</p><p>åªéœ€å¡«å†™ä½ çš„å¾®åšç”¨æˆ·åå¯†ç å³å¯ã€‚ç¼ºç‚¹ï¼šä¸Šä¼ é€Ÿåº¦ä¼šæ…¢ï¼ˆå°¤å…¶windowså¹³å°ï¼‰ï¼Œå› ä¸ºè¦ç»è¿‡å¾ˆå¤šå±‚éªŒè¯ã€‚å¹¶ä¸”å¦‚æœå‡ºç°éœ€è¦éªŒè¯ç çš„æƒ…å†µæ— æ³•è§£å†³ã€‚</p><p>åªéœ€Cookieä¸Šä¼ ï¼ˆPicGo v1.3.2åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒï¼‰ã€‚åˆ‡æ¢æˆcookieæ¨¡å¼ã€‚ç„¶åå…ˆç™»å½•å¾®åšï¼ˆå¿…é¡»å…ˆç™»å½•ï¼‰ï¼Œä¹‹åæ‰“å¼€minipublishï¼ˆminipublishé“¾æ¥åœ°å€ï¼‰é¡µé¢ï¼Œå¦‚æœä½ æ˜¯macç”¨æˆ·ï¼Œä½¿ç”¨command+alt+iï¼Œå¦‚æœä½ æ˜¯windowsç”¨æˆ·ï¼Œä½¿ç”¨F12æ‰“å¼€æ§åˆ¶å°ï¼Œé€‰æ‹©Networkæ ‡ç­¾æ ã€‚ç„¶ååˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œæ‰¾åˆ°Networké‡Œçš„minipublishä¸€é¡¹ï¼Œå†æ‰¾åˆ°minipublishå³ä¾§çš„Cookieä¸€é¡¹ï¼ŒæŠŠCookieå†’å·åçš„å€¼å…¨éƒ¨å¤åˆ¶ï¼ˆä¸è¦æŠŠCookie:è¿™ä¸ªä¹Ÿå¤åˆ¶äº†ï¼‰ç„¶åå¡«å…¥PicGoé‡Œçš„Cookieä¸€æ ã€‚è¿™æ ·å°±è¡Œäº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;PicGoå›¾åºŠä¸Šä¼ å·¥å…·ï¼Œé…ç½®GitHubå›¾åºŠã€å¾®åšå›¾åºŠï¼ˆåœ¨csdnå’Œåšå®¢ä¸Šä¸æ˜¾ç¤ºå‡ºæ¥ï¼Œè¢«åäº†ï¼‰&lt;/p&gt;
    
    </summary>
    
      <category term="æ‚ä¸ƒæ‚å…«" scheme="https://heshang.ink/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"/>
    
    
      <category term="å›¾åºŠ" scheme="https://heshang.ink/tags/%E5%9B%BE%E5%BA%8A/"/>
    
      <category term="PicGo" scheme="https://heshang.ink/tags/PicGo/"/>
    
  </entry>
  
  <entry>
    <title>JVMï¼ˆä¸€ï¼‰JVMæ„æˆåŠç®€å•å…¥é—¨</title>
    <link href="https://heshang.ink/2019/04/12/JVM%EF%BC%88%E4%B8%80%EF%BC%89JVM%E6%9E%84%E6%88%90%E5%8F%8A%E7%AE%80%E5%8D%95%E5%85%A5%E9%97%A8/"/>
    <id>https://heshang.ink/2019/04/12/JVMï¼ˆä¸€ï¼‰JVMæ„æˆåŠç®€å•å…¥é—¨/</id>
    <published>2019-04-12T11:07:41.000Z</published>
    <updated>2019-05-26T12:07:01.973Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨JVMã€JVMæ„æˆï¼ˆæ–¹æ³•åŒºã€å †å†…å­˜ã€çº¿ç¨‹ç‹¬æœ‰çš„ï¼ˆçº¿ç¨‹æ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€PCè®¡æ•°å™¨ï¼‰ï¼‰</p><a id="more"></a><h2 id="ä»HelloWordè§’åº¦ç†è§£JVM"><a href="#ä»HelloWordè§’åº¦ç†è§£JVM" class="headerlink" title="ä»HelloWordè§’åº¦ç†è§£JVM"></a>ä»HelloWordè§’åº¦ç†è§£JVM</h2><h3 id="1-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è™šæ‹Ÿæœº-JVM"><a href="#1-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è™šæ‹Ÿæœº-JVM" class="headerlink" title="1.ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è™šæ‹Ÿæœº(JVM)"></a>1.ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è™šæ‹Ÿæœº(JVM)</h3><p>è™šæ‹Ÿé™¤äº†ä¸€å°æ‹¥æœ‰å’ŒçœŸå®è®¡ç®—æœºç›¸åŒèƒ½åŠ›çš„æœºå™¨ï¼Œåªä¸è¿‡ä»–é‡Œé¢çš„ä»»ä½•ç¡¬ä»¶éƒ½æ˜¯è™šæ‹Ÿå‡ºæ¥çš„ï¼Œé€šè¿‡è™šæ‹Ÿæœºæ¥ä¿è¯äº†çœŸå®æœºå™¨çš„å®‰å…¨ï¼ŒJVMåŒæ—¶ä¹Ÿæ˜¯javaè·¨å¹³å°è¿è¡Œçš„åŸºç¡€ã€‚</p><h3 id="2-JVMæ„æˆ"><a href="#2-JVMæ„æˆ" class="headerlink" title="2.JVMæ„æˆ"></a>2.JVMæ„æˆ</h3><p><img src="assets\c31cbfc9ly1fuctukx2o3j20hz0a7aa6.jpg" alt=""></p><ol><li>æ–¹æ³•åŒºé‡Œä¼šæœ‰å¸¸é‡æ± </li><li>å †å†…å­˜ï¼šå¤šçº¿ç¨‹å…±äº«ï¼Œä¼šå‘ç”Ÿå¹¶å‘</li><li>å¦å¤–ä¸€å—æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œä¸ä¼šå‘ç”Ÿå¹¶å‘<ul><li>çº¿ç¨‹æ ˆï¼šæ–¹æ³•å‹æ ˆåˆ°è¿™é‡Œé¢æ‰§è¡Œ,å…ˆè¿›åå‡º</li><li>PCè®¡æ•°å™¨ï¼šè®°å½•ç¨‹åºæŒ‡ä»¤æ‰§è¡Œåˆ°å“ª</li><li>æœ¬åœ°æ–¹æ³•æ ˆï¼šJNIï¼ŒæŠŠcå’Œc++çš„å‡½æ•°å‹åˆ°æœ¬åœ°æ ˆé‡Œæ‰§è¡Œ</li><li>è¿˜æœ‰æ ˆä¸Šåˆ†é…å¯¹è±¡(æœªç”»å‡º):å¼€è¾Ÿä¸€ä¸ªç©ºé—´ï¼Œçº¿ç¨‹é¦–å…ˆåœ¨è¿™ä¸ªç©ºé—´é‡Œè¿è¡Œï¼Œå¦‚æœä¸èƒ½æ»¡è¶³ï¼Œå†å»å †å†…å­˜è¿è¡Œï¼Œé¿å…åœ¨å †å†…å­˜ä¸­å¤šçº¿ç¨‹å¹¶å‘é—®é¢˜</li></ul></li></ol><h3 id="3-å­—èŠ‚ç åœ¨ç±»åŠ è½½å™¨çš„è¿‡ç¨‹"><a href="#3-å­—èŠ‚ç åœ¨ç±»åŠ è½½å™¨çš„è¿‡ç¨‹" class="headerlink" title="3.å­—èŠ‚ç åœ¨ç±»åŠ è½½å™¨çš„è¿‡ç¨‹"></a>3.å­—èŠ‚ç åœ¨ç±»åŠ è½½å™¨çš„è¿‡ç¨‹</h3><p><img src="assets/5ce9fc592eab359799.jpg" alt=""></p><ol><li>åŠ è½½</li><li>éªŒè¯ï¼š<ul><li>classæ–‡ä»¶çš„ç‰ˆæœ¬èƒ½ä¸èƒ½å…¼å®¹å½“å‰JVMç‰ˆæœ¬ï¼Œeg:jdk1.9çš„æ–‡ä»¶åˆ°jdk1.7çš„è¿è¡Œ</li><li>classæ–‡ä»¶æ˜¯å¦æ»¡è¶³jvmè§„èŒƒ(classçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶ä¸ºâ€™é­”æ•°â€™å€¼)ä¸ºåå…­è¿›åˆ¶çš„ä»£ç </li></ul></li><li>å‡†å¤‡ï¼šæŠŠ<code>ç±»æˆå‘˜</code>åˆå§‹åŒ–ä¸ºåˆå§‹å€¼ã€‚finalçš„ç±»å˜é‡é™¤å¤–ï¼Œfinalå˜é‡ç›´æ¥åˆå§‹åŒ–ä¸ºå˜é‡å€¼</li><li>è§£æï¼š<ul><li>æŠŠç¬¦å·å¼•ç”¨è§£æä¸ºç›´æ¥å¼•ç”¨</li><li>ç¬¦å·å¼•ç”¨ï¼šå°±æ˜¯æˆ‘ä»¬å†™çš„xxå˜é‡ xxxå¯¹è±¡çš„å¼•ç”¨ å¦‚Integer xxx = new Integer();</li><li>è§£æå°±æ˜¯è¦æŠŠç±»ä¼¼äºxxxï¼Œxxè¿™ç§ç¬¦å·å¼•ç”¨å˜ä¸ºç›´æ¥å¼•ç”¨å³å†…å­˜åœ°å€</li></ul></li><li>åˆå§‹åŒ–ï¼šæŠŠæˆ‘ä»¬å®šä¹‰çš„staticå˜é‡æˆ–è€…staticé™æ€ä»£ç å—æŒ‰é¡ºåºç»„ç»‡æˆ&lt;clinit&gt;æ„é€ å™¨(ä¹Ÿç§°ä½œç±»æ„é€ å™¨)æ¥åˆå§‹åŒ–å˜é‡</li><li>æœ€ååˆ°æ–¹æ³•åŒºï¼Œæ‰€æœ‰å…³äºç±»çš„ä¿¡æ¯å…¨éƒ¨ä¿å­˜åœ¨æ–¹æ³•åŒºã€‚é€šè¿‡å¸¸é‡æ± æ¥ä¿å­˜ï¼Œç”Ÿæˆäº†ä¸€ä¸ªä»£è¡¨æ‰€æœ‰ç±»ä¿¡æ¯çš„å¯¹è±¡classInstance</li></ol><h3 id="4-åˆ†æHello-Wordåœ¨jvmä¸­æ‰§è¡Œè¿‡ç¨‹"><a href="#4-åˆ†æHello-Wordåœ¨jvmä¸­æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="4.åˆ†æHello Wordåœ¨jvmä¸­æ‰§è¡Œè¿‡ç¨‹"></a>4.åˆ†æHello Wordåœ¨jvmä¸­æ‰§è¡Œè¿‡ç¨‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"hello word"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>mainæ–¹æ³•å‹æ ˆåˆ°å †æ ˆé‡Œï¼Œæ‰§è¡Œä»–</li><li>è°ƒç”¨ä»–ï¼Œé‡Œé¢çš„Systemç±»åˆåŠ è½½åˆ°æ–¹æ³•åŒºé‡Œï¼Œè¿™ä¸ªç±»é‡Œä¸€ä¸ªoutçš„é™æ€å˜é‡ï¼Œç„¶åè°ƒç”¨äº†printlnæ–¹æ³•(è¿™ä¸ªä¹Ÿæ˜¯åœ¨æ–¹æ³•åŒºé‡Œ)</li></ol><h3 id="5-åç¼–è¯‘åˆ†æhello-Wordå­—èŠ‚ç "><a href="#5-åç¼–è¯‘åˆ†æhello-Wordå­—èŠ‚ç " class="headerlink" title="5.åç¼–è¯‘åˆ†æhello Wordå­—èŠ‚ç "></a>5.åç¼–è¯‘åˆ†æhello Wordå­—èŠ‚ç </h3><p>cmdæŒ‡ä»¤ javap -c xxx</p><p>å°†æŒ‡å®šå­—èŠ‚ç åç¼–è¯‘ä¸ºå­—èŠ‚ç æŒ‡ä»¤è¾“å‡º</p><p><img src="assets/5ce9fc576883680330.jpg" alt=""></p><p>åˆ†æä¸‹é¢çš„æŒ‡ä»¤ï¼š</p><ol><li>0ï¼šgetstatic    #2    å­—é¢æ„æ€ï¼Œè·å–é™æ€ï¼Œå°±æ˜¯åœ¨æ–¹æ³•åŒºä»Systemè¿™ä¸ªç±»ä¸­å–2å·ä½å¸¸é‡æ± Fieldä¸­çš„outå¯¹è±¡çš„å¼•ç”¨å‹æ ˆåˆ°å †æ ˆä¸­</li><li>3ï¼šldc         #3      æŠŠ3å·ä½Stringçš„å¼•ç”¨å‹æ ˆåˆ°å †æ ˆä¸­</li><li>5ï¼šinvokevirtual        #4        æ¿€æ´»outå¯¹è±¡é‡Œçš„printlnæ–¹æ³•</li><li>8ï¼šreturn     ç¨‹åºç»“æŸå®Œæ¯•</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ºä»€ä¹ˆè¦ä½¿ç”¨JVMã€JVMæ„æˆï¼ˆæ–¹æ³•åŒºã€å †å†…å­˜ã€çº¿ç¨‹ç‹¬æœ‰çš„ï¼ˆçº¿ç¨‹æ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€PCè®¡æ•°å™¨ï¼‰ï¼‰&lt;/p&gt;
    
    </summary>
    
      <category term="JVM" scheme="https://heshang.ink/categories/JVM/"/>
    
    
      <category term="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨JVM" scheme="https://heshang.ink/tags/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8JVM/"/>
    
      <category term="JVMæ„æˆ" scheme="https://heshang.ink/tags/JVM%E6%9E%84%E6%88%90/"/>
    
      <category term="ç±»åŠ è½½å™¨" scheme="https://heshang.ink/tags/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/"/>
    
      <category term="æ–¹æ³•åŒº" scheme="https://heshang.ink/tags/%E6%96%B9%E6%B3%95%E5%8C%BA/"/>
    
      <category term="å †å†…å­˜" scheme="https://heshang.ink/tags/%E5%A0%86%E5%86%85%E5%AD%98/"/>
    
      <category term="çº¿ç¨‹æ ˆï¼ˆå †æ ˆï¼‰" scheme="https://heshang.ink/tags/%E7%BA%BF%E7%A8%8B%E6%A0%88%EF%BC%88%E5%A0%86%E6%A0%88%EF%BC%89/"/>
    
      <category term="æœ¬åœ°æ–¹æ³•æ ˆ" scheme="https://heshang.ink/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88/"/>
    
      <category term="PCè®¡æ•°å™¨" scheme="https://heshang.ink/tags/PC%E8%AE%A1%E6%95%B0%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>å‡ºç§Ÿè½¦é¡¹ç›®æŠ€æœ¯æ€»ç»“</title>
    <link href="https://heshang.ink/2019/03/16/%E5%87%BA%E7%A7%9F%E8%BD%A6%E9%A1%B9%E7%9B%AE%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/"/>
    <id>https://heshang.ink/2019/03/16/å‡ºç§Ÿè½¦é¡¹ç›®æŠ€æœ¯æ€»ç»“/</id>
    <published>2019-03-16T04:01:14.000Z</published>
    <updated>2019-05-27T02:38:48.915Z</updated>
    
    <content type="html"><![CDATA[<p>2018.10-2019.1</p><p>é¡¹ç›®æè¿°ï¼šå‡ºç§Ÿè½¦å…¬å¸çš„ç®¡ç†ç³»ç»Ÿï¼Œå®ç°è½¦è¾†æ¡£æ¡ˆç®¡ç†ã€è½¦è¾†æ”¶è´¹ã€å…¬å¸æŠ¥è¡¨ã€è®¾å¤‡å’Œ sim å‡ºå…¥åº“æŠ¥åºŸã€å­—å…¸è®¾ ç½®ã€æƒé™ç®¡ç†ï¼Œæ‰“å°ç­‰ </p><p>æŠ€æœ¯ï¼šSpring+SpringMvc+MyBatis+MySQL+shiro+Bootstrap3+HTML5+CSS3+JQueryAjax</p><a id="more"></a><p>[TOC]</p><h5 id="1-ä¸åŒå…¬å¸çš„äººåªèƒ½çœ‹è§å®ƒå…¬å¸çš„ç›¸å…³ä¿¡æ¯æˆ–è€…å­å…¬å¸çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿›è¡Œä¸€ä¸ªæ•°æ®è¿‡æ»¤"><a href="#1-ä¸åŒå…¬å¸çš„äººåªèƒ½çœ‹è§å®ƒå…¬å¸çš„ç›¸å…³ä¿¡æ¯æˆ–è€…å­å…¬å¸çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿›è¡Œä¸€ä¸ªæ•°æ®è¿‡æ»¤" class="headerlink" title="1.ä¸åŒå…¬å¸çš„äººåªèƒ½çœ‹è§å®ƒå…¬å¸çš„ç›¸å…³ä¿¡æ¯æˆ–è€…å­å…¬å¸çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿›è¡Œä¸€ä¸ªæ•°æ®è¿‡æ»¤"></a>1.ä¸åŒå…¬å¸çš„äººåªèƒ½çœ‹è§å®ƒå…¬å¸çš„ç›¸å…³ä¿¡æ¯æˆ–è€…å­å…¬å¸çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿›è¡Œä¸€ä¸ªæ•°æ®è¿‡æ»¤</h5><p>è§£å†³åŠæ³•ï¼šæ•°æ®åº“è®¾è®¡è¿‡æ»¤</p><ul><li>ç»™å…¬å¸å­—æ®µåŠ å…¥æ˜¯å‡ çº§å…¬å¸ï¼Œå…¬å¸å/å…¬å¸ç¼–ç ï¼ˆæˆ–å…¶ä»–å”¯ä¸€çš„ï¼‰</li><li>ç»™äººçš„å­—æ®µåŠ å…¥æ‰€åœ¨å…¬å¸çš„å±‚æ¬¡çº§åˆ«å’Œå…¬å¸å</li><li>ç»™è¿™ä¸ªå…¬å¸çš„ç›¸å…³äº§å“åŠ ä¸Šå…¬å¸åå’Œçº§åˆ«å­—æ®µ</li></ul><p>æ¡ˆä¾‹ï¼š</p><p>â€‹    å…¬å¸è¡¨ï¼š</p><p><img src="https://i.loli.net/2019/05/27/5ceb4d766368f10186.jpg" alt=""></p><p>â€‹    å…¬å¸å‘˜å·¥è¡¨ï¼š</p><p><img src="https://i.loli.net/2019/05/27/5ceb4d75379fc62564.jpg" alt=""></p><p>â€‹    å…¬å¸çš„è½¦è¾†è¡¨ï¼š</p><p><img src="https://i.loli.net/2019/05/27/5ceb4d7247cdc86628.jpg" alt=""></p><p>åˆ†æï¼š</p><ul><li>æœ¬è¿‡æ»¤ç”¨äºï¼Œå¤šå°‘çº§å…¬å¸å…·ä½“çŸ¥é“</li><li>ç®¡ç†å‘˜ç»™å‘˜å·¥è´¦å·åˆ†é…å…¬å¸ï¼Œå‘˜å·¥ä¸‰ä¸ªå­—æ®µå°±å‡ºæ¥äº†</li><li>å‘˜å·¥ç™»å½•ç³»ç»Ÿï¼ŒæŸ¥çœ‹è½¦è¾†ï¼Œä»sessioné‡Œå–å‡ºç™»å½•äººæ‰€åœ¨å…¬å¸çº§åˆ«å’Œå…¬å¸ç¼–ç ï¼Œå¦‚æœä¸º1çº§å…¬å¸ï¼Œå°±æ˜¯level1=å…¬å¸ç¼–ç ï¼Œ2çº§å…¬å¸å°±æ˜¯level2=å…¬å¸ç¼–ç â€¦.</li><li>æ·»åŠ è½¦è¾†æ—¶ï¼Œå–ç™»å½•äººæ‰€åœ¨å…¬å¸çº§åˆ«å’Œå…¬å¸ç¼–ç ï¼Œç„¶åä½œä¸ºæ•°æ®æ”¾è¿›å„ä¸ªè¡¨é‡Œï¼Œå¦‚æœä»–ä¸æ˜¯æ€»å…¬å¸ï¼Œå°±å¾—æŠŠä»–çš„çˆ¶å…¬å¸ç¼–ç å¡«è¿›ç›¸åº”çš„å­—æ®µã€‚</li></ul><h5 id="2-æ ¹æ®è®¿é—®ipè·å–æ‰€åœ¨åœ°æ–¹çš„ä¿¡æ¯-ç™¾åº¦API"><a href="#2-æ ¹æ®è®¿é—®ipè·å–æ‰€åœ¨åœ°æ–¹çš„ä¿¡æ¯-ç™¾åº¦API" class="headerlink" title="2.æ ¹æ®è®¿é—®ipè·å–æ‰€åœ¨åœ°æ–¹çš„ä¿¡æ¯(ç™¾åº¦API)"></a>2.æ ¹æ®è®¿é—®ipè·å–æ‰€åœ¨åœ°æ–¹çš„ä¿¡æ¯(ç™¾åº¦API)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">url : <span class="string">'http://api.map.baidu.com/location/ip?ak=ia6HfFL660Bvh43exmH9LrI6'</span>,</span><br><span class="line">type : <span class="string">'GET'</span>,</span><br><span class="line">dataType : <span class="string">'jsonp'</span>,</span><br><span class="line"><span class="keyword">async</span> : <span class="literal">false</span>,</span><br><span class="line">success : <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¾“å‡º====ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"address"</span>: <span class="string">"CN|å‰æ—|é•¿æ˜¥|None|UNICOM|0|0"</span>,</span><br><span class="line">    <span class="attr">"content"</span>: &#123;</span><br><span class="line">        <span class="attr">"address_detail"</span>: &#123;</span><br><span class="line">            <span class="attr">"province"</span>: <span class="string">"å‰æ—çœ"</span>,</span><br><span class="line">            <span class="attr">"city"</span>: <span class="string">"é•¿æ˜¥å¸‚"</span>,</span><br><span class="line">            <span class="attr">"district"</span>: <span class="string">""</span>,</span><br><span class="line">            <span class="attr">"street"</span>: <span class="string">""</span>,</span><br><span class="line">            <span class="attr">"street_number"</span>: <span class="string">""</span>,</span><br><span class="line">            <span class="attr">"city_code"</span>: xx</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"address"</span>: <span class="string">"å‰æ—çœé•¿æ˜¥å¸‚"</span>,</span><br><span class="line">        <span class="attr">"point"</span>: &#123;</span><br><span class="line">            <span class="attr">"y"</span>: <span class="string">"xxx"</span>,</span><br><span class="line">            <span class="attr">"x"</span>: <span class="string">"xx"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"status"</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-åŠ¨æ€æ‹¼æ¥HTML"><a href="#3-åŠ¨æ€æ‹¼æ¥HTML" class="headerlink" title="3.åŠ¨æ€æ‹¼æ¥HTML"></a>3.åŠ¨æ€æ‹¼æ¥HTML</h5><p>æœ‰äº›æ•°æ®éœ€è¦ä»æ•°æ®åº“é‡ŒåŠ¨æ€å¯¼å‡ºæ¥ï¼Œè¿™é‡Œå°±éœ€è¦ç”¨åˆ°åŠ¨æ€æ‹¼æ¥è¡¨å•å…ƒç´ ï¼Œå¯èƒ½ä¼šç”¨åˆ°append()å‡½æ•°ç­‰ï¼Œå¾ˆå¤šæ—¶å€™å…³äºå…ƒç´ çš„å®šä½ï¼Œæ‰¾ä»–ä¸Šä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦ç”¨åˆ°next()ã€parents()ã€children()ç­‰å‡½æ•°æ¥è·å–æ•°æ®</p><h5 id="4-é¡µé¢ä¸Šå‡ºç°å¿«é€ŸæŸ¥è¯¢åŠŸèƒ½ï¼ˆjQuery-UIçš„autocompleteï¼‰"><a href="#4-é¡µé¢ä¸Šå‡ºç°å¿«é€ŸæŸ¥è¯¢åŠŸèƒ½ï¼ˆjQuery-UIçš„autocompleteï¼‰" class="headerlink" title="4.é¡µé¢ä¸Šå‡ºç°å¿«é€ŸæŸ¥è¯¢åŠŸèƒ½ï¼ˆjQuery UIçš„autocompleteï¼‰"></a>4.é¡µé¢ä¸Šå‡ºç°å¿«é€ŸæŸ¥è¯¢åŠŸèƒ½ï¼ˆjQuery UIçš„autocompleteï¼‰</h5><p><em>å…è®¸ç”¨æˆ·åœ¨é”®å…¥æ—¶å¿«é€ŸæŸ¥æ‰¾å’Œé€‰æ‹©é¢„å…ˆå¡«å……çš„å€¼åˆ—è¡¨ï¼Œåˆ©ç”¨æœç´¢å’Œè¿‡æ»¤ã€‚</em></p><p><a href="http://www.runoob.com/jqueryui/example-autocomplete.html" target="_blank" rel="noopener">jQuery UI å®ä¾‹ â€“ è‡ªåŠ¨å®Œæˆï¼ˆAutocompleteï¼‰ | èœé¸Ÿæ•™ç¨‹</a> </p><p><a href="http://jqueryui.com/autocomplete/" target="_blank" rel="noopener">è‡ªåŠ¨å®Œæˆ| jQuery UI</a></p><p><img src="https://i.loli.net/2019/05/27/5ceb4d72e570e64983.gif" alt=""></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>jQuery UI è‡ªåŠ¨å®Œæˆï¼ˆAutocompleteï¼‰ - é»˜è®¤åŠŸèƒ½<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//code.jquery.com/jquery-1.9.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//code.jquery.com/ui/1.10.4/jquery-ui.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"http://jqueryui.com/resources/demos/style.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> availableTags = [</span></span><br><span class="line"><span class="javascript">      <span class="string">"ActionScript"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"AppleScript"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Asp"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"BASIC"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"C"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"C++"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Clojure"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"COBOL"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"ColdFusion"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Erlang"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Fortran"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Groovy"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Haskell"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Java"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"JavaScript"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Lisp"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Perl"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"PHP"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Python"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Ruby"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Scala"</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">"Scheme"</span></span></span><br><span class="line"><span class="undefined">    ];</span></span><br><span class="line"><span class="javascript">    $( <span class="string">"#tags"</span> ).autocomplete(&#123;</span></span><br><span class="line"><span class="xml">      source: availableTags   <span class="comment">&lt;!--availableTagsæ•°æ®æºï¼Œä¹Ÿå¯ä»¥ä»åå°ä¼ å›æ¥ä¸€ä¸ªlisté›†åˆçš„jsonæ•°æ®--&gt;</span></span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">  &#125;);</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ui-widget"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"tags"</span>&gt;</span>æ ‡ç­¾ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"tags"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="5-å‰ç«¯é¡µé¢æ‰“å°"><a href="#5-å‰ç«¯é¡µé¢æ‰“å°" class="headerlink" title="5.å‰ç«¯é¡µé¢æ‰“å°"></a>5.å‰ç«¯é¡µé¢æ‰“å°</h5><h6 id="1-åˆ©ç”¨printå‡½æ•°"><a href="#1-åˆ©ç”¨printå‡½æ•°" class="headerlink" title="1.åˆ©ç”¨printå‡½æ•°"></a>1.åˆ©ç”¨printå‡½æ•°</h6><p><a href="https://www.cnblogs.com/java-spring/p/7791800.html" target="_blank" rel="noopener">åˆ©ç”¨å‰ç«¯å®ç°æ‰“å°åŠŸèƒ½</a></p><h6 id="2-åˆ©ç”¨å‰ç«¯æ‰“å°æ§ä»¶lodop"><a href="#2-åˆ©ç”¨å‰ç«¯æ‰“å°æ§ä»¶lodop" class="headerlink" title="2.åˆ©ç”¨å‰ç«¯æ‰“å°æ§ä»¶lodop"></a>2.åˆ©ç”¨å‰ç«¯æ‰“å°æ§ä»¶lodop</h6><p><a href="https://blog.csdn.net/m0_37942145/article/details/72780965" target="_blank" rel="noopener">å‰ç«¯æ‰“å°æ§ä»¶lodopçš„ç›¸å…³ä½¿ç”¨é—®é¢˜å’Œç›¸å…³çš„çŸ¥è¯†é¢†åŸŸ</a></p><p><a href="http://www.lodop.net/" target="_blank" rel="noopener">lodopå®˜ç½‘</a></p><h5 id="6-è™šæ‹Ÿè·¯å¾„ï¼ˆè§£å†³å›¾ç‰‡ä¸ä¿å­˜åœ¨tomcatä¸‹ï¼Œç¡¬ç›˜å…¶ä»–åœ°æ–¹ï¼Œé‡å¯tomcatï¼Œå›¾ç‰‡æ–‡ä»¶è¿˜åœ¨ï¼‰"><a href="#6-è™šæ‹Ÿè·¯å¾„ï¼ˆè§£å†³å›¾ç‰‡ä¸ä¿å­˜åœ¨tomcatä¸‹ï¼Œç¡¬ç›˜å…¶ä»–åœ°æ–¹ï¼Œé‡å¯tomcatï¼Œå›¾ç‰‡æ–‡ä»¶è¿˜åœ¨ï¼‰" class="headerlink" title="6.è™šæ‹Ÿè·¯å¾„ï¼ˆè§£å†³å›¾ç‰‡ä¸ä¿å­˜åœ¨tomcatä¸‹ï¼Œç¡¬ç›˜å…¶ä»–åœ°æ–¹ï¼Œé‡å¯tomcatï¼Œå›¾ç‰‡æ–‡ä»¶è¿˜åœ¨ï¼‰"></a>6.è™šæ‹Ÿè·¯å¾„ï¼ˆè§£å†³å›¾ç‰‡ä¸ä¿å­˜åœ¨tomcatä¸‹ï¼Œç¡¬ç›˜å…¶ä»–åœ°æ–¹ï¼Œé‡å¯tomcatï¼Œå›¾ç‰‡æ–‡ä»¶è¿˜åœ¨ï¼‰</h5><p>1.ä¿®æ”¹tomcatä¸‹çš„server.xmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Valve</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.valves.AccessLogValve"</span> <span class="attr">directory</span>=<span class="string">"logs"</span> <span class="attr">pattern</span>=<span class="string">"%h %l %u %t &amp;quot;%r&amp;quot; %s %b"</span> <span class="attr">prefix</span>=<span class="string">"localhost_access_log"</span> <span class="attr">suffix</span>=<span class="string">".txt"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--docBase:çœŸå®è·¯å¾„ï¼Œpathï¼šè™šæ‹Ÿè·¯å¾„ï¼ˆæ–‡ä»¶è®¿é—®ç›´æ¥/photoï¼‰ï¼ŒreloadableæŒ‡æœ‰æ–‡ä»¶æ›´æ–°æ—¶ï¼Œæ˜¯å¦é‡æ–°åŠ è½½   --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">debug</span>=<span class="string">"0"</span> <span class="attr">docBase</span>=<span class="string">"D:\upphoto\"</span> <span class="attr">path</span>=<span class="string">"/photo"</span> <span class="attr">reloadable</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><a href="https://blog.csdn.net/m0_37942145/article/details/72780965" target="_blank" rel="noopener">tomcaté…ç½®è™šæ‹Ÿè·¯å¾„ä¿å­˜ã€è®¿é—®å›¾ç‰‡ - å°å“¥z - åšå®¢å›­</a></p></blockquote><h5 id="7-å®ç°excelå¯¼å…¥å¯¼å‡ºåŠŸèƒ½"><a href="#7-å®ç°excelå¯¼å…¥å¯¼å‡ºåŠŸèƒ½" class="headerlink" title="7.å®ç°excelå¯¼å…¥å¯¼å‡ºåŠŸèƒ½"></a>7.å®ç°excelå¯¼å…¥å¯¼å‡ºåŠŸèƒ½</h5><h5 id="8-åœ¨åå°ç»™åŠ å…¥ä¸€ä¸ªbuttonï¼ŒæŒ‰é’®åœ¨å‰å°æ˜¾ç¤ºå‡ºæ¥"><a href="#8-åœ¨åå°ç»™åŠ å…¥ä¸€ä¸ªbuttonï¼ŒæŒ‰é’®åœ¨å‰å°æ˜¾ç¤ºå‡ºæ¥" class="headerlink" title="8.åœ¨åå°ç»™åŠ å…¥ä¸€ä¸ªbuttonï¼ŒæŒ‰é’®åœ¨å‰å°æ˜¾ç¤ºå‡ºæ¥"></a>8.åœ¨åå°ç»™åŠ å…¥ä¸€ä¸ªbuttonï¼ŒæŒ‰é’®åœ¨å‰å°æ˜¾ç¤ºå‡ºæ¥</h5><p>ç»™æ•°æ®åº“åŠ ä¸ªå­—æ®µï¼Œç„¶åå†åå°ç»§ç»­æ‹¼æ¥htmlå…ƒç´ å­˜å…¥æ•°æ®åº“ï¼Œä½†æ˜¯éœ€è¦å•åŒå¼•å·çš„é—®é¢˜</p><p>eg:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String buttonStr = "<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">'but'</span> <span class="attr">id</span>=<span class="string">'xx'</span>&gt;</span>"+æŸä¸ªå€¼æˆ–è€…ä»€ä¹ˆçš„+"<span class="tag">&lt;/<span class="name">button</span>&gt;</span>"</span><br></pre></td></tr></table></figure><h5 id="9-bootstrapçš„æ ‡ç­¾é¡µ-é€‰é¡¹å¡"><a href="#9-bootstrapçš„æ ‡ç­¾é¡µ-é€‰é¡¹å¡" class="headerlink" title="9.bootstrapçš„æ ‡ç­¾é¡µ(é€‰é¡¹å¡)"></a>9.bootstrapçš„æ ‡ç­¾é¡µ(é€‰é¡¹å¡)</h5><p><img src="https://i.loli.net/2019/05/27/5ceb4d745f59344098.gif" alt=""></p><p><a href="http://www.runoob.com/bootstrap/bootstrap-tab-plugin.html" target="_blank" rel="noopener">é€‰é¡¹å¡demo</a></p><h5 id="10-bootstrapçš„æ—¶é—´æ§ä»¶-datetimepicker"><a href="#10-bootstrapçš„æ—¶é—´æ§ä»¶-datetimepicker" class="headerlink" title="10.bootstrapçš„æ—¶é—´æ§ä»¶(datetimepicker)"></a>10.bootstrapçš„æ—¶é—´æ§ä»¶(datetimepicker)</h5><p><img src="https://i.loli.net/2019/05/27/5ceb4d739014922053.gif" alt=""></p><p><a href="http://www.bootcss.com/p/bootstrap-datetimepicker/" target="_blank" rel="noopener">DateTime Picker Â· Bootstrap</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=<span class="string">"crecordtime"</span>&gt;</span><br><span class="line">$(<span class="string">'#crecordtime'</span>).datetimepicker(&#123;</span><br><span class="line">format : <span class="string">'yyyy-mm-dd'</span>, <span class="comment">//æ—¶é—´æ ¼å¼</span></span><br><span class="line">todayBtn : <span class="literal">true</span>,<span class="comment">//todayæŒ‰é’®æ˜¾ç¤º</span></span><br><span class="line">language : <span class="string">'zh-CN'</span>,<span class="comment">//è¯­è¨€è®¾ç½®ä¸­æ–‡</span></span><br><span class="line">autoclose : <span class="literal">true</span>, <span class="comment">// é€‰ä¸­æ—¶é—´åè‡ªåŠ¨å…³é—­</span></span><br><span class="line">todayHighlight : <span class="literal">true</span>, <span class="comment">// å½“å¤©æ—¶é—´é«˜äº®</span></span><br><span class="line">minView : <span class="number">2</span>,<span class="comment">//æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨æ‰€èƒ½å¤Ÿæä¾›çš„æœ€ç²¾ç¡®çš„æ—¶é—´é€‰æ‹©è§†å›¾ã€‚</span></span><br><span class="line">maxView : <span class="number">1</span>,<span class="comment">//æœ€å¤§è§†å›¾</span></span><br><span class="line">startView : <span class="number">1</span><span class="comment">//ç‚¹å‡»æ’ä»¶ä¸€å‡ºæ¥çš„æ—¥æœŸé€‰æ‹©è§†å›¾</span></span><br><span class="line">    <span class="comment">//forceParse</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="11-å¤šå›¾ç‰‡ä¸Šä¼ ï¼ˆå¹¶ä¸”æŠŠå›¾ç‰‡é€‰æ‹©äº†å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ï¼‰"><a href="#11-å¤šå›¾ç‰‡ä¸Šä¼ ï¼ˆå¹¶ä¸”æŠŠå›¾ç‰‡é€‰æ‹©äº†å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ï¼‰" class="headerlink" title="11.å¤šå›¾ç‰‡ä¸Šä¼ ï¼ˆå¹¶ä¸”æŠŠå›¾ç‰‡é€‰æ‹©äº†å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ï¼‰"></a>11.å¤šå›¾ç‰‡ä¸Šä¼ ï¼ˆå¹¶ä¸”æŠŠå›¾ç‰‡é€‰æ‹©äº†å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ï¼‰</h5><p>å‰å°ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tab-pane fade"</span> <span class="attr">id</span>=<span class="string">"picture"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span> <span class="attr">style</span>=<span class="string">"text-align:center;"</span>&gt;</span>è½¦è¾†å›¾ç‰‡ä¸Šä¼ <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"inpform"</span> <span class="attr">id</span>=<span class="string">"uploadForm"</span> <span class="attr">method</span>=<span class="string">"post"</span></span></span><br><span class="line"><span class="tag"><span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span> <span class="attr">multipart</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"detail-img"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"carfile"</span> <span class="attr">multiple</span>=<span class="string">"multiple"</span> <span class="attr">name</span>=<span class="string">"file"</span></span></span><br><span class="line"><span class="tag"><span class="attr">onchange</span>=<span class="string">"xmTanUploadImg(this)"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"img-follow2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"msg"</span> <span class="attr">style</span>=<span class="string">"display: none;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"panel-footer text-right bg-light lter"</span></span></span><br><span class="line"><span class="tag"><span class="attr">style</span>=<span class="string">"margin-top:102px;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"upload"</span> <span class="attr">class</span>=<span class="string">"btn btn-success btn-s-xs"</span>&gt;</span>ä¸Šä¼ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ˜¾ç¤ºé€‰æ‹©çš„å›¾ç‰‡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">xmTanUploadImg</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"><span class="comment">/* alert("asdasdasd"); */</span></span><br><span class="line"><span class="keyword">var</span> fileInput = <span class="string">"&lt;input type=â€™file' multiple='multiple' name='file' onchange='xmTanUploadImg(this)'/&gt;"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(fileInput);</span><br><span class="line"><span class="comment">/* $("#uploadForm").append(fileInput); */</span></span><br><span class="line">$(<span class="string">'#detail-img'</span>).append(<span class="string">'&lt;input type="file" multiple="multiple" name="file" onchange="xmTanUploadImg(this)" class="detail-img"/&gt;'</span>);</span><br><span class="line"><span class="keyword">var</span> fl = obj.files.length;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; fl; i++) &#123;</span><br><span class="line"><span class="keyword">var</span> file = obj.files[i];</span><br><span class="line"><span class="comment">//FileReaderç”¨æ¥æŠŠæ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œå¹¶ä¸”è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">// FileReaderæ¥å£æä¾›äº†ä¸€ä¸ªå¼‚æ­¥APIï¼Œä½¿ç”¨è¯¥APIå¯ä»¥åœ¨æµè§ˆå™¨ä¸»çº¿ç¨‹ä¸­å¼‚æ­¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼Œè¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line"><span class="comment">//è¯»å–æ–‡ä»¶è¿‡ç¨‹æ–¹æ³•</span></span><br><span class="line">reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line"><span class="comment">//ä¸å¤ªæ˜ç™½e.target.resultä»£è¡¨ä»€ä¹ˆï¼ˆä¸€å¤§ä¸²æ•°å­—ï¼‰å¥½åƒæ˜¯å›¾ç‰‡è½¬åŒ–ä¸ºbase64</span></span><br><span class="line"><span class="keyword">var</span> imgstr = <span class="string">'&lt;img  style="width:200px;height:200px;" src="'</span> + e.target.result + <span class="string">'"/&gt;'</span>;</span><br><span class="line">$(<span class="string">"#img-follow2"</span>).append(<span class="string">"&lt;div class=\"img\" style='display:inline-block;margin:20px 0px 20px 20px;'&gt;"</span></span><br><span class="line">                                            + <span class="string">"&lt;div class=\"img-bg\"&gt;"</span></span><br><span class="line">+ <span class="string">""</span></span><br><span class="line">+ imgstr</span><br><span class="line">+ <span class="string">""</span></span><br><span class="line">+ <span class="string">"&lt;/div&gt;&lt;button type=\"button\" onclick=\"delbtn(this)\" &gt;åˆ é™¤&lt;/button&gt;"</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//è¯»å–æ–‡ä»¶å†…å®¹ï¼Œç»“æœç”¨data:urlçš„å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤º</span></span><br><span class="line">reader.readAsDataURL(file);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠå›¾ç‰‡å±•ç¤ºå‡ºæ¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showpic</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> file = obj.files[<span class="number">0</span>];</span><br><span class="line"><span class="comment">//FileReaderç”¨æ¥æŠŠæ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œå¹¶ä¸”è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">// FileReaderæ¥å£æä¾›äº†ä¸€ä¸ªå¼‚æ­¥APIï¼Œä½¿ç”¨è¯¥APIå¯ä»¥åœ¨æµè§ˆå™¨ä¸»çº¿ç¨‹ä¸­å¼‚æ­¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼Œè¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line"><span class="comment">//è¯»å–æ–‡ä»¶è¿‡ç¨‹æ–¹æ³•</span></span><br><span class="line">reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line"><span class="comment">//ä¸å¤ªæ˜ç™½e.target.resultä»£è¡¨ä»€ä¹ˆï¼ˆä¸€å¤§ä¸²æ•°å­—ï¼‰å¥½åƒæ˜¯å›¾ç‰‡è½¬åŒ–ä¸ºbase64</span></span><br><span class="line"><span class="keyword">var</span> imgstr = <span class="string">'&lt;img  style="width:200px;height:200px;" src="'</span> + e.target.result + <span class="string">'"/&gt;'</span>;</span><br><span class="line">$(<span class="string">"div"</span>).remove(<span class="string">".img"</span>);</span><br><span class="line">$(<span class="string">"#img-follow"</span>).append(<span class="string">"&lt;div class=\"img\"&gt;"</span> + <span class="string">"&lt;div class=\"img-bg\"&gt;"</span> + <span class="string">""</span></span><br><span class="line">+ imgstr + <span class="string">""</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//è¯»å–æ–‡ä»¶å†…å®¹ï¼Œç»“æœç”¨data:urlçš„å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤º</span></span><br><span class="line">reader.readAsDataURL(file);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤åŠŸèƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delbtn</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> index = $(obj).parents(<span class="string">".img"</span>).index();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ç¬¬å‡ ä¸ªï¼š"</span>+index);</span><br><span class="line">$(<span class="string">"#detail-img input[type=file]"</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i,j</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (index == i) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"åˆ é™¤çš„æ˜¯ç¬¬å‡ ä¸ª"</span>+i);</span><br><span class="line"><span class="keyword">this</span>.remove();</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _this = $(obj);</span><br><span class="line">_this.parents(<span class="string">".img"</span>).remove();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//ç‚¹å‡»ä¸Šä¼ </span></span><br><span class="line">$(<span class="string">"#upload"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> formData = <span class="keyword">new</span> FormData($(<span class="string">"#uploadForm"</span>)[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">//formData.append("cplateid", $("#cplateid").val()); //å¦‚æœè¿™é‡Œè¿˜æœ‰å…¶ä»–çš„æ•°æ®ä¹‹ç±»çš„è¯</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">type : <span class="string">"post"</span>,</span><br><span class="line">url : rootPath + <span class="string">'/car/upload.shtml'</span>,</span><br><span class="line">data : formData,</span><br><span class="line"><span class="keyword">async</span> : <span class="literal">false</span>,</span><br><span class="line">contentType : <span class="literal">false</span>,<span class="comment">// jQueryä¸è¦å»è®¾ç½®Content-Typeè¯·æ±‚å¤´</span></span><br><span class="line">processData : <span class="literal">false</span>,<span class="comment">// jQueryä¸è¦å»å¤„ç†å‘é€çš„æ•°æ®</span></span><br><span class="line">dataType : <span class="string">"json"</span>,</span><br><span class="line">success : <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (data == <span class="string">"success"</span>) &#123;</span><br><span class="line">layer.msg(<span class="string">'ä¸Šä¼ æˆåŠŸ!'</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">layer.msg(<span class="string">'æ·»åŠ å¤±è´¥ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åå°ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"upload"</span>)</span><br><span class="line"><span class="comment">// å‡¡éœ€è¦å¤„ç†ä¸šåŠ¡é€»è¾‘çš„.éƒ½éœ€è¦è®°å½•æ“ä½œæ—¥å¿—</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(@RequestParam(value = <span class="string">"file"</span>, required = <span class="keyword">false</span>)</span> MultipartFile[] file,HttpServletRequest request)</span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰è·¯å¾„</span></span><br><span class="line">String path = <span class="string">"D:/upphoto/carimg"</span>;</span><br><span class="line"><span class="comment">// 4.å»ºç«‹è”ç³»</span></span><br><span class="line">File folder = <span class="keyword">new</span> File(path);</span><br><span class="line"><span class="comment">// 5.åˆ¤æ–­è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="keyword">if</span> (!folder.exists()) &#123;</span><br><span class="line">folder.mkdirs(); <span class="comment">// åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"æ–‡ä»¶æ•°é‡å¤§å°+++++"</span> + file.length);</span><br><span class="line"></span><br><span class="line">String newFileName = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (MultipartFile mf : file) &#123;</span><br><span class="line"><span class="keyword">if</span> (!mf.isEmpty()) &#123;</span><br><span class="line"><span class="comment">// 6,è·å–ä¸Šä¼ æ–‡ä»¶çš„åç¼€åç§°</span></span><br><span class="line">String contentType = mf.getContentType();</span><br><span class="line">String ext = contentType.substring(contentType.indexOf(<span class="string">"/"</span>) + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// 7.åˆ›å»ºæ–°çš„æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="comment">// String newFileName = UUID.randomUUID().toString() + "." + ext;</span></span><br><span class="line"><span class="comment">// æˆ–è€…ç”¨æ—¶é—´æˆ³åˆ›å»ºåç§°</span></span><br><span class="line">newFileName = <span class="keyword">new</span> Date().getTime() + <span class="string">"_"</span> + <span class="keyword">new</span> Random().nextInt(<span class="number">100000</span>) + <span class="string">"."</span> + ext;</span><br><span class="line"><span class="comment">// 8.æ–‡ä»¶ä¸Šä¼ ï¼ŒFile.separatorä¸ºæ–œçº¿</span></span><br><span class="line">String newPath = path + <span class="string">"/"</span> + newFileName;</span><br><span class="line">mf.transferTo(<span class="keyword">new</span> File(newPath));</span><br><span class="line">System.out.println(<span class="string">"æœ€ç»ˆè·¯å¾„+++++++"</span> + newPath);</span><br><span class="line"><span class="comment">//ä¹‹åå¯ä»¥è¿›è¡Œå­˜å…¥æ•°æ®åº“ç­‰æ“ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯”è¾ƒå¥½çš„demo</p><p>1.<a href="https://github.com/gaoyuyue/MyUploader" target="_blank" rel="noopener">https://github.com/gaoyuyue/MyUploader</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2018.10-2019.1&lt;/p&gt;
&lt;p&gt;é¡¹ç›®æè¿°ï¼šå‡ºç§Ÿè½¦å…¬å¸çš„ç®¡ç†ç³»ç»Ÿï¼Œå®ç°è½¦è¾†æ¡£æ¡ˆç®¡ç†ã€è½¦è¾†æ”¶è´¹ã€å…¬å¸æŠ¥è¡¨ã€è®¾å¤‡å’Œ sim å‡ºå…¥åº“æŠ¥åºŸã€å­—å…¸è®¾ ç½®ã€æƒé™ç®¡ç†ï¼Œæ‰“å°ç­‰ &lt;/p&gt;
&lt;p&gt;æŠ€æœ¯ï¼šSpring+SpringMvc+MyBatis+MySQL+shiro+Bootstrap3+HTML5+CSS3+JQueryAjax&lt;/p&gt;
    
    </summary>
    
      <category term="é¡¹ç›®æ€»ç»“" scheme="https://heshang.ink/categories/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSMå®æˆ˜" scheme="https://heshang.ink/tags/SSM%E5%AE%9E%E6%88%98/"/>
    
      <category term="è™šæ‹Ÿè·¯å¾„" scheme="https://heshang.ink/tags/%E8%99%9A%E6%8B%9F%E8%B7%AF%E5%BE%84/"/>
    
      <category term="å›¾ç‰‡æ–‡ä»¶ä¸Šä¼ " scheme="https://heshang.ink/tags/%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
  </entry>
  
  <entry>
    <title>win10é‡è£…æ¢å¤æ‰‹å†Œ</title>
    <link href="https://heshang.ink/2018/10/23/win10%E9%87%8D%E8%A3%85%E6%81%A2%E5%A4%8D%E6%89%8B%E5%86%8C/"/>
    <id>https://heshang.ink/2018/10/23/win10é‡è£…æ¢å¤æ‰‹å†Œ/</id>
    <published>2018-10-23T15:03:47.000Z</published>
    <updated>2019-05-27T02:40:03.805Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯ä¸€æ¬¡é‡è£…ç³»ç»Ÿä¹‹åï¼Œå°±è¦æŠŠå„ç§è½¯ä»¶é‡æ–°è£…ä¸€éï¼Œç„¶åè‡ªå·±çš„è½¯ä»¶è¿˜å¤šï¼Œä¸çŸ¥é“åˆ°åº•æœ‰å“ªäº›ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ä¸ªæ–‡ç« ï¼Œä¸€ç›´æŒç»­æ›´æ–°ä¸­</p><a id="more"></a><p>é¦–å…ˆè¿˜æ˜¯çŒ®ä¸Šè‡ªå·±çš„æ¡Œé¢å¸ƒå±€</p><p><img src="https://i.loli.net/2019/05/27/5ceb4e040286443951.jpg" alt=""></p><h3 id="ä¸€ã€ç¯å¢ƒï¼š"><a href="#ä¸€ã€ç¯å¢ƒï¼š" class="headerlink" title="ä¸€ã€ç¯å¢ƒï¼š"></a>ä¸€ã€ç¯å¢ƒï¼š</h3><ul><li>javaçš„ç¯å¢ƒ</li><li>mysql</li><li>mavençš„é…ç½®</li><li>tomcat</li><li>åšå®¢ç”¨çš„node.js</li><li>git</li><li>æˆ‘çš„åšå®¢æ¢å¤</li></ul><h3 id="äºŒã€è½¯ä»¶å·¥å…·"><a href="#äºŒã€è½¯ä»¶å·¥å…·" class="headerlink" title="äºŒã€è½¯ä»¶å·¥å…·"></a>äºŒã€è½¯ä»¶å·¥å…·</h3><ul><li>ideaï¼šjavaå¼€å‘å·¥å…·ã€ideaçš„å„ç§é…ç½®</li><li>eclipseï¼šjavaå¼€å‘å·¥å…·</li><li>Navicat Premiumï¼šç®¡ç†å„ç§æ•°æ®åº“</li><li>notepad++ï¼šç¥å™¨èˆ¬çš„æ‰“å¼€å„ç§æ–‡ä»¶</li><li>everythingï¼šå¿«é€Ÿçš„æœç´¢å„ç§è½¯ä»¶</li><li>sublime text3ï¼šå¯ä»¥ç”¨æ¥å†™å„ç§HTMLå•Š</li><li>Snipasteï¼šä¸€ä¸ªéå¸¸ç‰›é€¼çš„æˆªå›¾å’Œè´´å›¾è½¯ä»¶</li><li>Officeï¼šåŠå…¬å…¨å¥—  <a href="https://account.microsoft.com/services/" target="_blank" rel="noopener">https://account.microsoft.com/services/</a></li><li>OneNoteï¼šç”¨æ¥åšç¬”è®°çš„</li><li>bandizipï¼šå‹ç¼©è½¯ä»¶</li><li>VMï¼šè™šæ‹Ÿæœº</li><li>Visioï¼šå¯ä»¥æ¥æ¢æµç¨‹å›¾ï¼ŒUMlå›¾ï¼Œå„ç§å›¾</li><li>è°·æ­Œæµè§ˆå™¨ã€360æé€Ÿæµè§ˆå™¨</li><li>SupportAssistï¼šæˆ´å°”å®˜æ–¹çš„æ¸…ç†è½¯ä»¶ <a href="https://www.dell.com/support/contents/cn/zh/cnbsd1/article/product-support/self-support-knowledgebase/software-and-downloads/supportassist" target="_blank" rel="noopener">https://www.dell.com/support/contents/cn/zh/cnbsd1/article/product-support/self-support-knowledgebase/software-and-downloads/supportassist</a></li><li>Xmind 8 å’ŒXmind Zenï¼šç”»æ€ç»´å¯¼å›¾</li><li>LICEcapï¼šå½•åˆ¶ç”µè„‘çš„gif</li><li>PicGoï¼šä¿å­˜å›¾ç‰‡åˆ°å„å¤§å›¾åºŠ</li><li>Typoraï¼šä¸€ä¸ªå¼ºå¤§çš„markdownç¼–è¾‘å™¨</li><li><p>ç™¾åº¦äº‘ä¸‹è½½å·¥å…·ï¼š</p><ul><li>é€Ÿç›˜</li><li>pandownload</li><li>çˆ±å¥‡è‰ºä¸‡èƒ½æ’­æ”¾å™¨</li></ul></li><li><p>ç¿»å¢™ï¼š</p><ul><li>è“ç¯ Lantern</li><li>èµ›é£ psiphon3</li></ul></li><li><p>MaxxAudioProï¼šç”µè„‘è°ƒå„ç§éŸ³æ•ˆçš„è½¯ä»¶ <a href="http://del.ly/6528DC6l4" target="_blank" rel="noopener">http://del.ly/6528DC6l4</a></p></li><li>Sticky Notesï¼šwin10è‡ªå¸¦çš„å°ä¾¿ç­¾</li><li>æœç‹—è¾“å…¥æ³•</li><li>å¾®ä¿¡ã€QQã€TIM</li><li>EVå½•å±</li></ul><h3 id="ä¸‰ã€å„ç§è®¾ç½®"><a href="#ä¸‰ã€å„ç§è®¾ç½®" class="headerlink" title="ä¸‰ã€å„ç§è®¾ç½®"></a>ä¸‰ã€å„ç§è®¾ç½®</h3><ul><li>å…³é—­äº†æ‰“å¼€ä¸€ä¸ªè½¯ä»¶çš„æç¤ºæ¡† <a href="https://jingyan.baidu.com/article/a681b0de5abddc3b18434681.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/a681b0de5abddc3b18434681.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¯ä¸€æ¬¡é‡è£…ç³»ç»Ÿä¹‹åï¼Œå°±è¦æŠŠå„ç§è½¯ä»¶é‡æ–°è£…ä¸€éï¼Œç„¶åè‡ªå·±çš„è½¯ä»¶è¿˜å¤šï¼Œä¸çŸ¥é“åˆ°åº•æœ‰å“ªäº›ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ä¸ªæ–‡ç« ï¼Œä¸€ç›´æŒç»­æ›´æ–°ä¸­&lt;/p&gt;
    
    </summary>
    
      <category term="å·¥å…·è½¯ä»¶" scheme="https://heshang.ink/categories/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6/"/>
    
    
      <category term="ç³»ç»Ÿé‡è£…æ¢å¤" scheme="https://heshang.ink/tags/%E7%B3%BB%E7%BB%9F%E9%87%8D%E8%A3%85%E6%81%A2%E5%A4%8D/"/>
    
  </entry>
  
  <entry>
    <title>mavené¡¹ç›®æ‰¾ä¸åˆ°resourcesä¸‹çš„èµ„æºæ–‡ä»¶</title>
    <link href="https://heshang.ink/2018/09/14/maven%E9%A1%B9%E7%9B%AE%E6%89%BE%E4%B8%8D%E5%88%B0resources%E4%B8%8B%E7%9A%84%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6/"/>
    <id>https://heshang.ink/2018/09/14/mavené¡¹ç›®æ‰¾ä¸åˆ°resourcesä¸‹çš„èµ„æºæ–‡ä»¶/</id>
    <published>2018-09-14T09:05:52.000Z</published>
    <updated>2018-09-14T09:55:44.003Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨å†™SSMæ•´åˆï¼Œæµ‹è¯•çš„æ—¶å€™ï¼Œå‘ç°resourcesä¸‹çš„SpringMvc.xmlæ²¡æœ‰æ‰«æåˆ°ã€‚</p><a id="more"></a><p>é¦–å…ˆåœ¨web.xmlä¸­springmvc.xmlçš„è·¯å¾„å¦‚ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§°--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>/WEB-INF/springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--&lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;--&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--å¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™å°±å¯¹DispatcherServletè¿›è¡Œå®ä¾‹åŒ–æ“ä½œ--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>2<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘å†™çš„<code>/WEB-INF/springmvc.xml</code>ï¼ŒæŠŠspringmvc.xmlæ”¾åœ¨WEB-INFä¸‹ï¼Œä¹Ÿä¾ç„¶ä¸èƒ½è®¿é—®ï¼ŒæŠ¥çš„é”™è¯¯ä¹Ÿå¾ˆå¥‡æ€ªï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Handler processing failed; nested exception is java.lang.NoClassDefFoundError: javax/servlet/jsp/jstl/core/Config</span><br></pre></td></tr></table></figure><p>è‡ªå·±ç™¾åº¦äº†ï¼Œéƒ½è¯´æ˜¯å°‘äº†jstlçš„åŒ…ï¼Œä½†æ˜¯æˆ‘pom.xmlä¾èµ–é‡ŒåŠ äº†jstlçš„ä¾èµ–çš„ï¼Œå¤ªå¥‡æ€ªäº†ï¼Œæœ€åä¸€ä¸ªè§£å†³åŠæ³•ï¼Œåœ¨pom.xmlä¸­åŠ å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--æ‰«æåˆ°resourcesä¸‹çš„xmlç­‰èµ„æºæ–‡ä»¶--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åŠ å…¥è¿™ä¸ªä»£ç ï¼Œä¸ç®¡xmlæ–‡ä»¶æ”¾åœ¨resourcesä¸‹è¿˜æ˜¯WEB-INFä¸‹ï¼Œéƒ½èƒ½æ‰«æåˆ°ã€‚</p><p>ä½†æ˜¯è¿˜æ˜¯æ¯”è¾ƒçº ç»“æŠ¥é”™çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆæŠ¥é‚£ä¸ªé”™è¯¯ï¼ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åœ¨å†™SSMæ•´åˆï¼Œæµ‹è¯•çš„æ—¶å€™ï¼Œå‘ç°resourcesä¸‹çš„SpringMvc.xmlæ²¡æœ‰æ‰«æåˆ°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="maven" scheme="https://heshang.ink/categories/maven/"/>
    
    
      <category term="MyBatis" scheme="https://heshang.ink/tags/MyBatis/"/>
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="SpringMvc" scheme="https://heshang.ink/tags/SpringMvc/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>VMå®‰è£…ã€Ubuntuçš„å®‰è£…ã€Ubuntuè®¾ç½®ä¸ºä¸­æ–‡</title>
    <link href="https://heshang.ink/2018/09/14/VM%E5%AE%89%E8%A3%85%E3%80%81Ubuntu%E7%9A%84%E5%AE%89%E8%A3%85%E3%80%81Ubuntu%E8%AE%BE%E7%BD%AE%E4%B8%BA%E4%B8%AD%E6%96%87/"/>
    <id>https://heshang.ink/2018/09/14/VMå®‰è£…ã€Ubuntuçš„å®‰è£…ã€Ubuntuè®¾ç½®ä¸ºä¸­æ–‡/</id>
    <published>2018-09-14T08:58:30.000Z</published>
    <updated>2019-05-27T02:46:10.989Z</updated>
    
    <content type="html"><![CDATA[<p>vmä¸‹è½½åŠç ´è§£ï¼šé“¾æ¥: <a href="https://pan.baidu.com/s/1znunnWwNIdgrmmd_LGm0-g" target="_blank" rel="noopener">https://pan.baidu.com/s/1znunnWwNIdgrmmd_LGm0-g</a> å¯†ç : d23j</p><p>Ubuntué•œåƒä¸‹è½½ï¼š<a href="https://cn.ubuntu.com/desktop/" target="_blank" rel="noopener">https://cn.ubuntu.com/desktop/</a></p><a id="more"></a><p><strong>é‡ç‚¹ï¼ï¼ï¼ï¼Œå®‰è£…Ubuntuçš„æ—¶å€™ï¼Œåƒä¸‡ä¸èƒ½è”ç½‘ï¼Œè‡ªå·±åƒäº†ä¸€ä¸ªå¤§äºï¼ï¼ï¼ï¼ï¼ï¼Œå…¶ä»–æ­¥éª¤éƒ½å¯ä»¥è”ç½‘æ“ä½œï¼Œå®‰è£…Ubuntuæœ‰äº›åœ°æ–¹ä¼šå¾ˆæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…</strong></p><h3 id="1-å®‰è£…vm"><a href="#1-å®‰è£…vm" class="headerlink" title="1.å®‰è£…vm"></a>1.å®‰è£…vm</h3><p>ä¸‹è½½å¥½äº†vmè½¯ä»¶ï¼ŒåŒå‡»</p><p><img src="/images/c31cbfc9ly1fv94vbzwf8j20dr0ao3zm.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv94wwotjmj20dn0aedg6.jpg" alt=""></p><p>é€‰æ‹©å®‰è£…ä½ç½®</p><p><img src="/images/c31cbfc9ly1fv94xzgfdbj20do0audfx.jpg" alt=""></p><p>æŠŠè¿™ä¸¤ä¸ªâˆšå»æ‰ï¼Œé¿å…æ›´æ–°</p><p><img src="/images/c31cbfc9ly1fv94zmdai0j20dr0axdg1.jpg" alt=""></p><p>ç‚¹å‡»è¿™ä¸ªè¾“å…¥è®¸å¯è¯å³ok</p><p><img src="/images/c31cbfc9ly1fv953hngczj20dp0ant9n.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv9573r4ygj20fe0870tl.jpg" alt=""></p><h3 id="2-å®‰è£…Ubuntu"><a href="#2-å®‰è£…Ubuntu" class="headerlink" title="2.å®‰è£…Ubuntu"></a>2.å®‰è£…Ubuntu</h3><p>å®˜ç½‘ä¸‹è½½Ubuntuçš„é•œåƒï¼Œç„¶ååœ¨æ‰“å¼€è™šæ‹Ÿæœºï¼Œä¸¤ç§æ–¹å¼æ–°å»ºè™šæ‹Ÿæœºã€‚</p><p><img src="/images/c31cbfc9ly1fv95ej640pj21020jcabu.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95fjvmncj20es0cemxv.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95hovkusj20fe0e3tac.jpg" alt=""></p><p>è¿™ä¸ªå…³é”®ï¼Œä¸€å®šå‹¾é€‰è¿™ä¸ªï¼Œå¦‚æœé€‰æ‹©äº†ç¬¬äºŒä¸ªï¼Œåœ¨åé¢å¯èƒ½ä¼šå‡ºé”™ï¼Œå¡ä½ï¼Œ</p><p><img src="/images/c31cbfc9ly1fv95itaipaj20hd0exjty.jpg" alt=""></p><p>è¿™é‡Œé€‰æ‹©ä½ éœ€è¦è£…çš„ç³»ç»Ÿ</p><p><img src="/images/c31cbfc9ly1fv95k6vgz1j20fe0c9gn3.jpg" alt=""></p><p>é€‰æ‹©ä½ ç³»ç»Ÿè£…çš„ä½ç½®å’Œåç§°</p><p><img src="/images/c31cbfc9ly1fv95klqbs4j20fe0cpt9s.jpg" alt=""></p><p>é€‰æ‹©ä½ ç³»ç»Ÿçš„é…ç½®å¤§å°</p><p><img src="/images/c31cbfc9ly1fv95ljkt9sj20fe0bnq3w.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95lzsktcj20e90cpwet.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95mauyzcj20fe0cgacg.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95mlaoagj20fe0bvwfu.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95mtp5xgj20ej0dg3yo.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95n52xrij20em0d7mxg.jpg" alt=""></p><p>ç»™è™šæ‹Ÿæœºåˆ†é…çš„ç£ç›˜ç©ºé—´å¤§å°</p><p><img src="/images/c31cbfc9ly1fv95nhz4qej20fe0cbdih.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95o2ieu6j20f90ce3yn.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95ofskk0j20eq0c9aab.jpg" alt=""></p><p>ç„¶åç‚¹å‡»å®Œæˆï¼Œæ¥ä¸‹æ¥æ”¾å…¥ç³»ç»Ÿé•œåƒ</p><p><img src="/images/c31cbfc9ly1fv95p2hdmjj20fe0ab75k.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95paqk4fj20fe09gabk.jpg" alt=""></p><p>ç„¶åç‚¹å‡»ç¡®å®šï¼Œç„¶åå¼€å¯æ­¤è™šæ‹Ÿæœºç”µæºï¼Œæ…¢æ…¢ç­‰å¾…å‡ºç°ï¼Œ</p><p><img src="/images/c31cbfc9ly1fv95q5gkztj20fe08wdh4.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95qfakxrj20fe07cmxv.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95qn8330j20fe08q75w.jpg" alt=""></p><p>è¿™é‡Œè¾“å…¥ä½ çš„è™šæ‹Ÿæœºç³»ç»Ÿåç§°å’Œå¯†ç ï¼Œç„¶åcontinueï¼Œæœ€åä¼šæé†’ä½ é‡å¯ï¼Œå³é‡å¯ï¼Œç„¶åå†æ¬¡æ‰“å¼€è™šæ‹Ÿæœºï¼Œå³å®‰è£…å®Œæˆ</p><p><img src="/images/c31cbfc9ly1fv95s8vj8qj20lj0fxgno.jpg" alt=""></p><h3 id="3-è®¾ç½®Ubuntuç³»ç»Ÿä¸ºä¸­æ–‡"><a href="#3-è®¾ç½®Ubuntuç³»ç»Ÿä¸ºä¸­æ–‡" class="headerlink" title="3.è®¾ç½®Ubuntuç³»ç»Ÿä¸ºä¸­æ–‡"></a>3.è®¾ç½®Ubuntuç³»ç»Ÿä¸ºä¸­æ–‡</h3><p>æ‰“å¼€è™šæ‹Ÿæœº</p><p><img src="/images/c31cbfc9ly1fv95uuei7vj20fe088ju4.jpg" alt=""></p><p><img src="/images/c31cbfc9ly1fv95v39ek3j20fe086myc.jpg" alt=""></p><p>è¿™é‡Œä¼šæé†’ä½ ä¸‹è½½è¯­è¨€åŒ…ï¼Œç„¶åç­‰å¾…ä¸‹è½½ï¼Œå¯èƒ½ä¼šå¾ˆæ…¢ã€‚ä¸‹è½½æˆåŠŸä¹‹åï¼Œåœ¨é‡Œé¢å‹¾é€‰Chineseã€‚</p><p><img src="/images/c31cbfc9ly1fv95ygo07ej20fe08egng.jpg" alt=""></p><p>å¦‚æœè¿™é‡Œå‡ºç°æ±‰è¯­ï¼Œä½†æ˜¯å´æ˜¯ç°è‰²ï¼Œé¼ æ ‡æŠŠä»–æ‹–ä¸Šé¢å»ï¼Œå°±å˜é»‘äº†ï¼Œç„¶åå³okã€‚</p><p><img src="/images/c31cbfc9ly1fv95zg6l81j20fe08l0uk.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;vmä¸‹è½½åŠç ´è§£ï¼šé“¾æ¥: &lt;a href=&quot;https://pan.baidu.com/s/1znunnWwNIdgrmmd_LGm0-g&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://pan.baidu.com/s/1znunnWwNIdgrmmd_LGm0-g&lt;/a&gt; å¯†ç : d23j&lt;/p&gt;
&lt;p&gt;Ubuntué•œåƒä¸‹è½½ï¼š&lt;a href=&quot;https://cn.ubuntu.com/desktop/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://cn.ubuntu.com/desktop/&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://heshang.ink/categories/Linux/"/>
    
    
      <category term="Ubuntuå®‰è£…" scheme="https://heshang.ink/tags/Ubuntu%E5%AE%89%E8%A3%85/"/>
    
      <category term="VMå®‰è£…" scheme="https://heshang.ink/tags/VM%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>SSMæ¡†æ¶æ€»ç»“â€”å­¦ä¹ è·¯çº¿</title>
    <link href="https://heshang.ink/2018/09/04/SSM%E6%A1%86%E6%9E%B6%E6%80%BB%E7%BB%93%E2%80%94%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/"/>
    <id>https://heshang.ink/2018/09/04/SSMæ¡†æ¶æ€»ç»“â€”å­¦ä¹ è·¯çº¿/</id>
    <published>2018-09-04T12:50:42.000Z</published>
    <updated>2019-05-26T13:59:29.648Z</updated>
    
    <content type="html"><![CDATA[<p>MyBatis,Spring,SpringMvc,å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œæ—¥å¿—æ¡†æ¶Log4J</p><a id="more"></a><p>æ€ç»´å¯¼å›¾æºæ–‡ä»¶è·å–ï¼Œç”¨xmind 8 æ‰“å¼€<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><p><img src="/images/c31cbfc9ly1fuxszb7lr5j21av5x57wl.jpg" alt=""></p><h2 id="MyBatisæ¡†æ¶"><a href="#MyBatisæ¡†æ¶" class="headerlink" title="MyBatisæ¡†æ¶"></a>MyBatisæ¡†æ¶</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li>MyBatisæ˜¯ä¸€ä¸ªæŒä¹…å±‚æ¡†æ¶/ORMæ¡†æ¶ï¼Œä¼šå¯¹ç»“æœé›†(æŸ¥è¯¢)æ˜ å°„ï¼Œå¯¹JDBCç®€å•çš„å°è£…<ul><li>insert</li><li>update</li><li>delete</li><li>selectOne</li><li>selectList</li></ul></li><li>æŒä¹…åŒ–<ul><li>ç‹­ä¹‰ï¼šå°†æ•°æ®æ°¸ä¹…çš„ä¿å­˜åˆ°æ•°æ®åº“/ç£ç›˜ç­‰åª’ä»‹</li><li>å¹¿ä¹‰ï¼šé’ˆå¯¹äºæ•°æ®çš„æ“ä½œéƒ½ç§°ä¹‹æŒä¹…åŒ–æ“ä½œ</li><li>å®ä½“Bean == æŒä¹…åŒ–ç±»</li></ul></li><li>éœ€è¦çš„jaråŒ…<ul><li>mybatis-3.4.6.jar</li><li>mysql-connector-java-5.1.45-bin.jar</li></ul></li></ul><h3 id="CRUDæ“ä½œ"><a href="#CRUDæ“ä½œ" class="headerlink" title="CRUDæ“ä½œ"></a>CRUDæ“ä½œ</h3><ul><li><p>é’ˆå¯¹äºCUDæ“ä½œï¼ŒMyBatiséœ€è¦æ‰‹åŠ¨æäº¤äº‹åŠ¡</p></li><li><p>MyBatisçš„APIè°ƒç”¨è¿‡ç¨‹</p></li><li><blockquote><p>package com.hs.util;</p></blockquote></li><li><blockquote><p>/**</p></blockquote></li><li><blockquote><ul><li>çŸ¥è¯†ç‚¹ï¼š</li></ul></blockquote></li><li><blockquote><ul><li>finalä¿®é¥°ç±»ï¼šä¸èƒ½è¢«ç»§æ‰¿</li></ul></blockquote></li><li><blockquote><ul><li>ä¿®é¥°æ–¹æ³•ï¼šä¸èƒ½è¢«é‡å†™</li></ul></blockquote></li><li><blockquote><ul><li>ä¿®é¥°å˜é‡ï¼šå¸¸é‡ä¸å¯ç”¨å˜ï¼Œä½†å¦‚æœæ˜¯å¯¹è±¡ï¼Œå¯¹è±¡é‡Œçš„å€¼å¯ä»¥å˜</li></ul></blockquote></li><li><blockquote><p>*</p></blockquote></li><li><blockquote><p>*/</p></blockquote></li><li><blockquote><p>import org.apache.ibatis.io.Resources;</p></blockquote></li><li><blockquote><p>import org.apache.ibatis.session.SqlSession;</p></blockquote></li><li><blockquote><p>import org.apache.ibatis.session.SqlSessionFactory;</p></blockquote></li><li><blockquote><p>import org.apache.ibatis.session.SqlSessionFactoryBuilder;</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>import java.io.IOException;</p></blockquote></li><li><blockquote><p>import java.io.InputStream;</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>public class MyBatisUtils {</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>private MyBatisUtils() { }  //ä¸å…è®¸å®ä¾‹åŒ–</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>private static final String PATH = â€œmybatis-config.xmlâ€;</p></blockquote></li><li><blockquote><p>private static InputStream inputStream;</p></blockquote></li><li><blockquote><p>private static SqlSessionFactory sqlSessionFactory;</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>static { //1.é™æ€ä»£ç å—ï¼Œåªæ˜¯åŠ è½½ä¸€æ¬¡</p></blockquote></li><li><blockquote><p>try {</p></blockquote></li><li><blockquote><p>//è¾“å…¥æµ è¯»æ–‡ä»¶</p></blockquote></li><li><blockquote><p>//1.è¯»å–æ ¸å¿ƒé…ç½®æ–‡ä»¶</p></blockquote></li><li><blockquote><p>inputStream = Resources.getResourceAsStream(PATH);</p></blockquote></li><li><blockquote><p>//2.åˆ›å»ºSqlSessionå·¥å‚(SqlSessionFactory)ç›¸å½“äºConnection</p></blockquote></li><li><blockquote><p>sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</p></blockquote></li><li><blockquote><p>} catch (IOException e) {</p></blockquote></li><li><blockquote><p>e.printStackTrace();</p></blockquote></li><li><blockquote><p>throw new RuntimeException(â€œåŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶å¤±è´¥â€);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>/**</p></blockquote></li><li><blockquote><p>*3.è·å–SqlSession ç›¸å½“äº æ‰§è¡ŒSQLè¯­å¥å¯¹è±¡PreparedStamenté¢„å¤„ç†å¯¹è±¡</p></blockquote></li><li><blockquote><ul><li>SqlSessionå®Œæˆæ‰€æœ‰çš„æŒä¹…åŒ–æ“ä½œCRUD</li></ul></blockquote></li><li><blockquote><p>*/</p></blockquote></li><li><blockquote><p>public static SqlSession getSqlsession() {</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>return sqlSessionFactory.openSession();</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>/**</p></blockquote></li><li><blockquote><p>*6.å…³é—­èµ„æº</p></blockquote></li><li><blockquote><p>*/</p></blockquote></li><li><blockquote><p>public static void closeSqlSession(SqlSession sqlSession) {</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>if (sqlSession != null) {</p></blockquote></li><li><blockquote><p>sqlSession.close();</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote></blockquote><ul><li><p>1.è¯»å–æ ¸å¿ƒé…ç½®æ–‡ä»¶ classpath(src)/mybatis-config.xml</p><ul><li><p>åŠ è½½æ•°æ®åº“ä¿¡æ¯å±æ€§æ–‡ä»¶jdbc.propertiesï¼Œ${key}è·å–å€¼</p></li><li><blockquote><properties resource="jdbc.properties"></properties></blockquote></li><li><p>è‡ªå®šä¹‰è®¾ç½®ç±»å‹çš„åˆ«å</p></li><li><blockquote><!--è‡ªå®šä¹‰è®¾ç½®ç±»å‹çš„åˆ«åï¼Œä¹Ÿå°±æ˜¯resultMapé‡Œçš„typeï¼Œé¿å…åŒ…åå·²ä¿®æ”¹ï¼Œåœ¨æ˜ å°„æ–‡ä»¶é‡Œä¿®æ”¹å¤šå¤„åœ°æ–¹--></blockquote></li><li><blockquote><typealiases></typealiases></blockquote></li><li><blockquote><!-- æ–¹å¼ä¸€ã€com.hs.model.Skillè¿™ä¸ªç±»è®¾ç½®äº†åˆ«åhsï¼Œä¹‹åè¦ç”¨è¿™ä¸ªçš„è¯ï¼Œç›´æ¥å†™hs --></blockquote></li><li><blockquote><!--<typeAlias type="com.hs.model.Skill" alias="hs"/> --></blockquote></li><li><blockquote><!-- æ–¹å¼äºŒã€com.hs.modelè¿™ä¸ªåŒ…ä¸‹çš„ç±»ï¼Œè¦ç”¨çš„æ—¶å€™ç›´æ¥å†™ç±»åï¼Œæ¯”å¦‚ç”¨com.hs.model.Skillï¼Œç›´æ¥å†™Skill --></blockquote></li><li><blockquote><package name="com.hs.model"></package></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>é…ç½®æ•°æ®åº“çš„ç¯å¢ƒ</p></li><li><blockquote><environments default="development"></environments></blockquote></li><li><blockquote><environment id="development"></environment></blockquote></li><li><blockquote><!--äº‹åŠ¡ç®¡ç†å™¨:ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§  --></blockquote></li><li><blockquote><!--æ¡†æ¶ï¼šé»˜è®¤æƒ…å†µä¸‹CUDæ“ä½œéœ€è¦æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼ˆå¦‚åŒåœ¨Navicatä¸­è¡¨ä¸­è¾“å…¥äº†æ•°æ®ï¼Œæ²¡æœ‰ç‚¹é‚£ä¸ªå°âˆšï¼Œå°±æ˜¯æ²¡æœ‰æäº¤äº‹åŠ¡ï¼Œä½†æ˜¯è¾“å…¥insertè¯­å¥ï¼Œå°±è‡ªåŠ¨æäº¤äº‹åŠ¡äº†ï¼‰  --></blockquote></li><li><blockquote><transactionmanager type="JDBC"></transactionmanager></blockquote></li><li><blockquote><!--ä½¿ç”¨çš„æ˜¯è¿æ¥æ± ï¼šç™¾åº¦javaå¦‚ä½•å®è¡Œè¿æ¥æ± çš„åŸç†ï¼Ÿ  --></blockquote></li><li><blockquote><datasource type="POOLED"></datasource></blockquote></li><li><blockquote><property name="driver" value="${jdbc.mysql.driver}"></property></blockquote></li><li><blockquote><property name="url" value="${jdbc.mysql.url}"></property></blockquote></li><li><blockquote><property name="username" value="${jdbc.mysql.username}"></property></blockquote></li><li><blockquote><property name="password" value="${jdbc.mysql.password}"></property></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>åŠ è½½æ˜ å°„æ–‡ä»¶</p></li><li><blockquote><mappers></mappers></blockquote></li><li><blockquote><!--å‘ŠçŸ¥æ˜ å°„æ–‡ä»¶æ–¹å¼1ï¼Œä¸€ä¸ªä¸€ä¸ªçš„é…ç½®--></blockquote></li><li><blockquote><mapper resource="com/hs/model/UserMapper.xml"></mapper></blockquote></li><li><blockquote><!-- å‘ŠçŸ¥æ˜ å°„æ–‡ä»¶æ–¹å¼2ï¼Œè‡ªåŠ¨æ‰«æåŒ…å†…çš„Mapperæ¥å£ä¸é…ç½®æ–‡ä»¶ --></blockquote></li><li><blockquote><!--<package name="com.hs.model"/>--></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li><li><p>2.åˆ›å»ºSqlSessionå·¥å‚ == SqlSessionFactory</p></li><li><p>3.è·å–SqlSession</p><ul><li>è¿æ¥æ•°æ®åº“</li><li>å®Œæˆé’ˆå¯¹äºæ•°æ®çš„CRUDæ“ä½œ</li></ul></li><li><p>4.æ‰§è¡Œå®šåˆ¶çš„SQLè¯­å¥</p><ul><li>ä¼ ç»Ÿæ–¹å¼<ul><li>å‘½åç©ºé—´namespaceæŒä¹…åŒ–ç±»çš„å…¨è·¯å¾„</li><li>.</li><li>æ˜ å°„æ–‡ä»¶çš„ID</li></ul></li><li>æ¥å£ä»£ç†æ¨¡å¼â€”â€”æ¨è<ul><li>å‘½åç©ºé—´namespaceå›ºå®šå¿…é¡»ä¸ºæ¥å£çš„å…¨è·¯å¾„</li><li>æ˜ å°„æ–‡ä»¶ä¸­çš„IDéœ€è¦è·Ÿæ¥å£ä¸­çš„æ–¹æ³•åä¿æŒä¸€è‡´</li><li>æŸ¥è¯¢æ“ä½œï¼šæ ¹æ®ä½ çš„æ¥å£çš„è¿”å›å€¼<ul><li>selectOne</li><li>selectList</li></ul></li></ul></li></ul></li><li><p>5.äº‹åŠ¡çš„æäº¤</p><ul><li>Springæ¡†æ¶ä¸­æœ‰äº‹åŠ¡çš„ç®¡ç†</li></ul></li><li><p>6.å…³é—­èµ„æº</p></li></ul></li><li><p>æå–å…¬å…±çš„å­—æ®µä»£ç </p><ul><li><p>æ— åˆ«å</p></li><li><blockquote><sql id="sys_role_columns"></sql></blockquote></li><li><blockquote><p>role_id,role_name,role_key,status</p></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>æœ‰åˆ«å</p></li><li><blockquote><sql id="sys_role_columns_alias"></sql></blockquote></li><li><blockquote><p>${alias}.role_id,${alias}.role_name,${alias}.role_key,${alias}.status</p></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>æ¦‚è¦: å¦‚ä½•ç”¨</p></li><li><blockquote></blockquote></li><li><blockquote><include refid="sys_role_columns"></include></blockquote></li><li><blockquote><include refid="sys_role_colums_alias"></include></blockquote></li><li><blockquote><property name="alias" value="r"></property></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li><li><p>æŸ¥è¯¢æ“ä½œ</p><ul><li><p>ç»“æœé›†çš„å¤„ç†æ–¹å¼</p><ul><li>resultType</li><li>resultMap</li></ul></li><li><p>ç»“æœé›†å¯ä»¥å¤„ç†æˆä»€ä¹ˆæ–¹å¼ï¼Ÿ</p><ul><li><p>è¿”å›Mapç±»å‹</p><ul><li>resultType=â€mapâ€æˆ–è€…resultType=â€java.util.Mapâ€</li><li>resultMapå±æ€§å»æ‰¾resultMapæ ‡ç­¾<ul><li>é»˜è®¤æƒ…å†µæ˜¯è‡ªåŠ¨æ˜ å°„</li><li>å¯ä»¥è®¾ç½®åˆ«å</li></ul></li></ul></li><li><p>è¿”å›Listç±»å‹â€“&gt;ä¾æ—§ä½¿ç”¨Mapå¤„ç†ç»“æœ</p><ul><li>åªæ˜¯åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ä½¿ç”¨selectListå³å¯</li></ul></li><li><p>è¿”å›å¯¹è±¡</p><ul><li><p>å¯ä»¥ä½¿ç”¨åˆ«åæ–¹å¼ï¼Œä¿è¯æŸ¥è¯¢çš„å­—æ®µåç§°å’Œç±»ä¸­çš„å±æ€§åç§°ä¸€è‡´å³å¯ä½¿ç”¨resultTypeå®Œæˆå¯¹è±¡çš„æ˜ å°„</p></li><li><p>é‡ç‚¹resultMapå±æ€§</p><ul><li><p>ä¸€å¯¹ä¸€å’Œå¤šå¯¹ä¸€çš„å…³è”æ ‡ç­¾association</p><ul><li><p>selectæ–¹å¼</p></li><li><blockquote><p><resultmap id="SimpleResultMapper" type="User" extends="BaseResultMapper"> <!-- extendsç»§æ‰¿äº†BaseResultMapperï¼ŒåŒjavaç»§æ‰¿ä¸€æ · --></resultmap></p></blockquote></li><li><blockquote><!--é…ç½®å…³è”å¯¹è±¡--></blockquote></li><li><blockquote><!--åœ¨ç»“æœé›†ä¸­æ‰¾åˆ°fk_role_idå­—æ®µï¼Œç„¶åå†ä¼ å€¼ç»™å‘½åç©ºé—´com.hs.dao.RoleDaoä¸‹çš„getRoleByPkè¯­å¥è¿›è¡ŒæŸ¥è¯¢(æ‰¾åˆ°è¦æ‰§è¡Œçš„SQLè¯­å¥)ï¼Œæœ€åè¿”å›role(å¯¹è±¡çš„å±æ€§)ï¼Œå®ƒçš„ç±»å‹æ˜¯com.hs.model.Role--></blockquote></li><li><blockquote><association property="role" javatype="Role" column="fk_role_id" select="com.hs.dao.RoleDao.getRoleByPk"></association></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>ç»“æœé›†æ˜ å°„æ–¹å¼</p></li><li><blockquote><p>resultMap id=â€JoinResultMapperâ€ type=â€Userâ€ extends=â€BaseResultMapperâ€&gt;</p></blockquote></li><li><blockquote><!--å…³è”å¯¹è±¡--></blockquote></li><li><blockquote><!--resultMapå¼•ç”¨åˆ«äººçš„ç»“æœé›†(å‘½åç©ºé—´+"."+id)ï¼Œæˆ–è€…è‡ªå·±åœ¨ä¸‹é¢å†™ç»“æœé›†å¤„ç†--></blockquote></li><li><blockquote><association property="role" javatype="Role" resultmap="com.hs.dao.RoleDao.BaseResultMapper"></association></blockquote></li><li><blockquote><p>&lt;!â€“ <id column="role_id" property="role_id"></id></p></blockquote></li><li><blockquote><result column="role_name" property="role_name"></result></blockquote></li><li><blockquote><result column="role_key" property="role_key"></result></blockquote></li><li><blockquote><p><result column="status" property="status"> â€“&gt;</result></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li><li><p>ä¸€å¯¹å¤šçš„å…³è”æ ‡ç­¾collection</p><ul><li><p>æ–¹å¼</p><ul><li><p>selectæ–¹å¼</p></li><li><blockquote><resultmap id="SimpleResultMapper" type="Role" extends="BaseResultMapper"></resultmap></blockquote></li><li><blockquote><!--é…ç½®é›†åˆList<User>,javaTypeä¸€èˆ¬å¯ä»¥ä¸å†™--></blockquote></li><li><blockquote><p>&lt;!â€“åœ¨ç»“æœé›†ä¸­æ‰¾åˆ°role_idè¿™ä¸ªå­—æ®µï¼Œç„¶åä¼ ç»™å‘½åç©ºé—´com.hs.dao.UserDaoä¸‹idä¸ºgetUserByFkçš„è¯­å¥ï¼Œ</p></blockquote></li><li><blockquote><p>è¿”å›çš„ç»“æœé›†å­—æ®µä¸ºuserListï¼Œç±»å‹ä¸ºjava.util.Listï¼Œé‡Œé¢è£…çš„ç±»å‹æ˜¯com.he.model.Userè¿™ä¸ªç±»å‹</p></blockquote></li><li><blockquote><p>â€“&gt;</p></blockquote></li><li><blockquote><p>&lt;collection property=â€userListâ€</p></blockquote></li><li><blockquote><p>javaType=â€java.util.Listâ€</p></blockquote></li><li><blockquote><p>ofType=â€Userâ€</p></blockquote></li><li><blockquote><p>column=â€role_idâ€</p></blockquote></li><li><blockquote><p>select=â€com.hs.dao.UserDao.getUserByFkâ€/&gt;</p></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>ç»“æœé›†æ˜ å°„æ–¹å¼</p></li><li><blockquote><resultmap id="JoinResultMapper" type="Role" extends="BaseResultMapper"></resultmap></blockquote></li><li><blockquote><!--é…ç½®é›†åˆï¼ŒæŸ¥è¯¢å‡ºæ¥çš„Useré‡Œçš„ç»“æœé›†æ‰¾com.hs.dao.UserDao.BaseResultMapperå¤„ç†--></blockquote></li><li><blockquote><p>&lt;collection property=â€userListâ€ javaType=â€listâ€ ofType=â€com.hs.model.Userâ€</p></blockquote></li><li><blockquote><p>resultMap=â€com.hs.dao.UserDao.BaseResultMapperâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;!â€“<id></id></p></blockquote></li><li><blockquote><p><result>â€“&gt;</result></p></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li><li><p>æ³¨æ„ï¼šofTypeå±æ€§æ˜¯å¿…é¡»è¦å¡«å†™</p></li></ul></li></ul></li></ul></li></ul></li><li><p>æ¨¡ç³ŠæŸ¥è¯¢</p><ul><li>concat(â€˜%â€™,#{name},â€™%â€™)</li></ul></li></ul></li></ul><h3 id="åŠ¨æ€çš„SQLè¯­å¥"><a href="#åŠ¨æ€çš„SQLè¯­å¥" class="headerlink" title="åŠ¨æ€çš„SQLè¯­å¥"></a>åŠ¨æ€çš„SQLè¯­å¥</h3><ul><li><p>åœ¨æ˜ å°„æ–‡ä»¶ä¸­è·å–æ•°æ®çš„æ–¹å¼</p><ul><li>#()<ul><li>#()é»˜è®¤æ˜¯é¢„å¤„ç†æ¨¡å¼</li></ul></li><li>$()<ul><li>$()é»˜è®¤æ˜¯ç›´æ¥æ‹¼æ¥åˆ°SQLè¯­å¥å½“ä¸­ï¼Œå¹¶ä¸”éœ€è¦æä¾›KEYå€¼ï¼Œæ¨èåœ¨æ’åºä½¿ç”¨</li></ul></li></ul></li><li><p>ifæ ‡ç­¾</p><ul><li>testå±æ€§ test=â€ç±»ä¸­å±æ€§æˆ–è€…Mapä¸­çš„KEYæˆ–è€…ä½¿ç”¨@ParamæŒ‡å®šKEYâ€</li></ul></li><li><p>whereæ ‡ç­¾</p><ul><li><p>å¦‚æœæœ‰å†…å®¹ï¼Œåœ¨å†…å®¹çš„æœ€å‰é¢åŠ å…¥whereå…³é”®å­—ï¼Œå¹¶ä¸”å»æ‰å†…å®¹æœ€å‰é¢çš„andæˆ–è€…or</p></li><li><blockquote><where></where></blockquote></li><li><blockquote><if test="name != null &amp;&amp; name != ''"></if></blockquote></li><li><blockquote><p>and user_name like concat(â€˜%â€™,#{name},â€™%â€™)</p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><if test="sex != null and sex != ''"></if></blockquote></li><li><blockquote><p>and sex = #{sex}</p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li><li><p>setæ ‡ç­¾</p><ul><li><p>å¦‚æœæœ‰å†…å®¹ï¼Œåœ¨å†…å®¹çš„æœ€å‰é¢åŠ å…¥setå…³é”®å­—ï¼Œå¹¶ä¸”å»æ‰å†…å®¹æœ€åé¢çš„é€—å·</p></li><li><blockquote><set></set></blockquote></li><li><blockquote><if test="user_name !=null and user_name != ''"></if></blockquote></li><li><blockquote><p>user_name = #{user_name},</p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><if test="sex !=null and sex != ''"></if></blockquote></li><li><blockquote><p>sex = #{sex},</p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p><if test="money != null"> <!--ä¸æ˜¯å­—ç¬¦ä¸²å°±ä¸è¦åˆ¤æ–­æ˜¯å¦ä¸ºç©º --></if></p></blockquote></li><li><blockquote><p>money = #{money},</p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li><li><p>trimæ ‡ç­¾</p><ul><li><p>ä¸»è¦çš„ç›®çš„æ˜¯å®Œæˆå¯¹åŠ¨æ€æ·»åŠ SQLçš„æ‹¼å†™â€” ä¸€èˆ¬å¯ä»¥ç”¨æ¥å®Œæˆsetå’ŒwhereåŠŸèƒ½</p></li><li><blockquote><p>&lt;trim prefix=â€å½“å‘ç°æœ‰å†…å®¹çš„æ—¶å€™,ä½ åœ¨å†…å®¹çš„æœ€å‰é¢æƒ³åŠ å…¥ä»€ä¹ˆå†…å®¹â€           </p></blockquote></li><li><blockquote><p>prefixOverrides=â€å½“å‘ç°æœ‰å†…å®¹çš„æ—¶å€™,ä½ åœ¨å†…å®¹çš„æœ€å‰é¢æƒ³æŠ¹æ‰ä»€ä¹ˆå†…å®¹â€            </p></blockquote></li><li><blockquote><p>suffix=â€å½“å‘ç°æœ‰å†…å®¹çš„æ—¶å€™,ä½ åœ¨å†…å®¹çš„æœ€åé¢é¢æƒ³åŠ å…¥ä»€ä¹ˆå†…å®¹â€            </p></blockquote></li><li><blockquote><p>suffixOverrides=â€å½“å‘ç°æœ‰å†…å®¹çš„æ—¶å€™,ä½ åœ¨å†…å®¹çš„æœ€åé¢æƒ³æŠ¹æ‰ä»€ä¹ˆå†…å®¹â€&gt;        </p></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li><li><p>foreachæ ‡ç­¾</p><ul><li>å¦‚æœä½ ä¼ é€’çš„æ•°æ®çš„å½¢å‚ä¸ºä¸€ä¸ªæ•°æ®ï¼Œå¹¶ä¸”æ•°æ®ç±»å‹æ˜¯æ•°ç»„æˆ–è€…List<ul><li>collectionå±æ€§åªèƒ½å–array || list</li></ul></li><li>å¦‚æœä½ ä¼ é€’çš„æ˜¯Mapæˆ–è€…å¯¹è±¡(éƒ½æœ‰ä¸€ä¸ªå­˜å‚¨é›†åˆçš„å±æ€§æˆ–è€…KEY)<ul><li>collection=â€é›†åˆå¯¹åº”çš„Mapä¸­çš„KEYæˆ–è€…ç±»ä¸­çš„å±æ€§â€</li></ul></li></ul></li></ul><h3 id="ä¼ é€’å¤šä¸ªå‚æ•°"><a href="#ä¼ é€’å¤šä¸ªå‚æ•°" class="headerlink" title="ä¼ é€’å¤šä¸ªå‚æ•°"></a>ä¼ é€’å¤šä¸ªå‚æ•°</h3><blockquote><p>/**</p></blockquote><blockquote><ul><li>ä¼ é€’å¤šä¸ªå‚æ•°</li></ul></blockquote><blockquote><ul><li>1.å½“ä½ çš„å½¢å‚ä¼ é€’&gt;1ä¸ªçš„æ—¶å€™ï¼ŒparameterTypeä¸å†™ï¼Œè®©å…¶è‡ªåŠ¨å¤„ç†</li></ul></blockquote><blockquote><ul><li>2.#{å€¼}ï¼Œé»˜è®¤ä¸ºarg0ï¼Œarg1â€¦..æˆ–param1ï¼Œparam2ï¼Œï¼Œï¼Œ</li></ul></blockquote><blockquote><ul><li>è‹¥åœ¨daoæ³¨è§£äº†@xxx(ç›¸å½“äºæŒ‡æ˜äº†keyå€¼)ï¼Œå³ä¹Ÿå¯ä»¥å†™xxxï¼Œé»˜è®¤çš„ä¹Ÿå¯ä»¥å†™ï¼Œç›¸å½“äº3ä¸ªå€¼</li></ul></blockquote><blockquote><p>*/</p></blockquote><blockquote><p>User getUser(@Param(â€œaccountâ€) String account, @Param(â€œpasswordâ€) String password);</p></blockquote><h3 id="æ¥å£ä»£ç†æ¨¡å¼å’Œä¼ ç»Ÿæ¨¡å¼"><a href="#æ¥å£ä»£ç†æ¨¡å¼å’Œä¼ ç»Ÿæ¨¡å¼" class="headerlink" title="æ¥å£ä»£ç†æ¨¡å¼å’Œä¼ ç»Ÿæ¨¡å¼"></a>æ¥å£ä»£ç†æ¨¡å¼å’Œä¼ ç»Ÿæ¨¡å¼</h3><ul><li><p>æ¥å£ä»£ç†æ¨¡å¼</p></li><li><blockquote><p>åªéœ€è¦å†™æ¥å£ï¼Œåœ¨æµ‹è¯•ç±»ä¸­è°ƒç”¨ï¼Œæ¥å£ç¼–ç¨‹: ä»€ä¹ˆæ˜¯æ¥å£? ç®€å•ç†è§£:æ¥å£å°±æ˜¯å®šä¹‰è§„èŒƒ</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>æ¥å£è¿”å›ç±»å‹è·Ÿä½ è®¾ç½®çš„resultMapæˆ–è€…resultTypeå¯¹åº”ä¸Šå³å¯,ä½†æ˜¯ä¼šæ ¹æ®ä½ è¿”å›çš„ç±»å‹å®Œæˆselectoneæˆ–è€…selectListæ“ä½œ</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>æ¥å£é‡Œæ–¹æ³•å¦‚ä½•å†™ï¼šsqlè¯­å¥è¿”å›çš„ç»“æœé›†ç±»å‹ sqlè¯­å¥çš„id(è¦ä¼ çš„å€¼);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>eg:List getSkillLike02(String name);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>Listä¸ºSQLè¯­å¥è¿”å›çš„ç»“æœé›†ç±»å‹ï¼ŒgetSkillLike02ä¸ºæ˜ å°„æ–‡ä»¶ä¸­SQLè¯­å¥çš„idï¼ŒString nameæ˜¯ä¼ ç»™æ˜ å°„æ–‡ä»¶çš„å€¼</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>æ˜ å°„æ–‡ä»¶å‘½åç©ºé—´ä¸ºæ¥å£çš„å…¨è·¯å¾„</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>å¯ä»¥æ ¹æ®æ¥å£çš„è¿”å›ç±»å‹è‡ªåŠ¨åˆ¤æ–­ä½¿ç”¨selectOneè¿˜æ˜¯selectList</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>eg:è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡çš„ä¸ºoneï¼Œè¿”å›çš„æ˜¯listçš„å°±æ˜¯Listï¼Œå¦‚æœæ˜¯Listï¼Œä¹Ÿæ˜¯List</p></blockquote></li><li><p>ä¼ ç»Ÿæ¨¡å¼</p></li><li><blockquote><p>éœ€è¦å†™æ¥å£ï¼Œæ¥å£å®ç°ç±»ï¼Œæµ‹è¯•ç±»ï¼Œ</p></blockquote></li><li><blockquote><p>æ˜ å°„æ–‡ä»¶å‘½åç©ºé—´ä¸ºæŒä¹…åŒ–ç±»çš„å…¨è·¯å¾„</p></blockquote></li></ul><h2 id="å•å…ƒæµ‹è¯•æ¡†æ¶"><a href="#å•å…ƒæµ‹è¯•æ¡†æ¶" class="headerlink" title="å•å…ƒæµ‹è¯•æ¡†æ¶"></a>å•å…ƒæµ‹è¯•æ¡†æ¶</h2><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li>å•å…ƒ(æ–¹æ³•)å°±æ˜¯å¯¹ç±»ä¸­æ–¹æ³•çš„æµ‹è¯•</li><li>å‘½åè§„åˆ™<ul><li>ç±»å UserDaoTest</li><li>æ–¹æ³• testLoadMethod</li></ul></li></ul><h3 id="éœ€è¦çš„jaråŒ…"><a href="#éœ€è¦çš„jaråŒ…" class="headerlink" title="éœ€è¦çš„jaråŒ…"></a>éœ€è¦çš„jaråŒ…</h3><ul><li>hamcrest-core-1.3.jar</li><li>junit-4.12.jar</li></ul><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><ul><li><p>@Before</p></li><li><blockquote><p>@Before //å†æ¯ä¸ªå•å…ƒæµ‹è¯•è¿è¡Œä¹‹å‰éƒ½è¦è¿›è¡Œè¿™ä¸ªæ–¹æ³•</p></blockquote></li><li><blockquote><p>public void init() {</p></blockquote></li><li><blockquote><p>this.arithmeticService = new ArithmeticServiceImpl();    //æƒ³ç”¨å“ªä¸ªåŠŸèƒ½å°±å®ä¾‹åŒ–å“ªä¸ª</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>@Test</p></li><li><blockquote><p>@Test    //æµ‹è¯•è¿™ä¸ªæ–¹æ³•</p></blockquote></li><li><blockquote><p>public void test01() {}</p></blockquote></li></ul><h2 id="æ—¥å¿—æ¡†æ¶Log4J"><a href="#æ—¥å¿—æ¡†æ¶Log4J" class="headerlink" title="æ—¥å¿—æ¡†æ¶Log4J"></a>æ—¥å¿—æ¡†æ¶Log4J</h2><h3 id="æ¦‚è¿°-2"><a href="#æ¦‚è¿°-2" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li>åœ¨MyBatisä¸­æ˜¾ç¤ºå‡ºSQLè¯­å¥ï¼Œä¿¡æ¯ç­‰ï¼Œæ”¾åœ¨classpathè·¯å¾„ä¸‹log4j.properties</li></ul><h3 id="éœ€è¦çš„jaråŒ…-1"><a href="#éœ€è¦çš„jaråŒ…-1" class="headerlink" title="éœ€è¦çš„jaråŒ…"></a>éœ€è¦çš„jaråŒ…</h3><ul><li>log4j-1.2.17.jar</li></ul><h3 id="å¦‚ä½•ä½¿ç”¨-1"><a href="#å¦‚ä½•ä½¿ç”¨-1" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><blockquote><h1 id="Global-logging-configuration"><a href="#Global-logging-configuration" class="headerlink" title="Global logging configuration"></a>Global logging configuration</h1></blockquote><blockquote><p>log4j.rootLogger=ERROR, stdout</p></blockquote><blockquote><h1 id="MyBatis-logging-configurationâ€¦"><a href="#MyBatis-logging-configurationâ€¦" class="headerlink" title="MyBatis logging configurationâ€¦"></a>MyBatis logging configurationâ€¦</h1></blockquote><blockquote><h1 id="å¦‚æœè¦æ˜¾ç¤ºSQLè¯­å¥ï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç½®éœ€è¦é…ç½®ä¸ºå‘½åç©ºé—´"><a href="#å¦‚æœè¦æ˜¾ç¤ºSQLè¯­å¥ï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç½®éœ€è¦é…ç½®ä¸ºå‘½åç©ºé—´" class="headerlink" title="å¦‚æœè¦æ˜¾ç¤ºSQLè¯­å¥ï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç½®éœ€è¦é…ç½®ä¸ºå‘½åç©ºé—´"></a>å¦‚æœè¦æ˜¾ç¤ºSQLè¯­å¥ï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç½®éœ€è¦é…ç½®ä¸ºå‘½åç©ºé—´</h1></blockquote><blockquote><p>log4j.logger.com.shxt.model.Skill=TRACE</p></blockquote><blockquote><h1 id="Console-outputâ€¦"><a href="#Console-outputâ€¦" class="headerlink" title="Console outputâ€¦"></a>Console outputâ€¦</h1></blockquote><blockquote><p>log4j.appender.stdout=org.apache.log4j.ConsoleAppender</p></blockquote><blockquote><p>log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</p></blockquote><blockquote><p>log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</p></blockquote><h2 id="SpringMVCæ¡†æ¶"><a href="#SpringMVCæ¡†æ¶" class="headerlink" title="SpringMVCæ¡†æ¶"></a>SpringMVCæ¡†æ¶</h2><h3 id="æ¦‚è¿°-3"><a href="#æ¦‚è¿°-3" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li><p>æ ¸å¿ƒé…ç½®æ–‡ä»¶DispatcherServletçš„è§„åˆ™</p><ul><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼šWEB-INF/[servlet-name]-servlet.xml</p></li><li><blockquote><servlet></servlet></blockquote></li><li><blockquote><!--é»˜è®¤çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶--></blockquote></li><li><blockquote><p><servlet-name>springmvc</servlet-name></p></blockquote></li><li><blockquote><p><servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class></p></blockquote></li><li><blockquote><!-- æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™å°±å¯¹DispatcherServletè¿›è¡Œå®ä¾‹åŒ–æ“ä½œ --></blockquote></li><li><blockquote><!-- å€¼è¶Šå°ï¼Œè¶Šè¢«è¶Šä¼˜å…ˆå®ä¾‹åŒ– --></blockquote></li><li><blockquote><p><load-on-startup>2</load-on-startup></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p><servlet-mapping></servlet-mapping></p></blockquote></li><li><blockquote><p><servlet-name>springmvc</servlet-name></p></blockquote></li><li><blockquote><p>&lt;!â€“  /</p></blockquote></li><li><blockquote><p>æ‰€æœ‰çš„èµ„æºè®¿é—®éƒ½éœ€è¦ç»è¿‡ DispatcherServletå¤„ç†</p></blockquote></li><li><blockquote><p>è·¯å¾„</p></blockquote></li><li><blockquote><p>href</p></blockquote></li><li><blockquote><p>srcâ€¦..</p></blockquote></li><li><blockquote><p>åŒºåˆ†   /* å’Œ /</p></blockquote></li><li><blockquote><p>â€“&gt;</p></blockquote></li><li><blockquote><p><url-pattern>/</url-pattern></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>è‡ªå®šä¹‰è§„åˆ™</p></li><li><blockquote><servlet></servlet></blockquote></li><li><blockquote><p><servlet-name>springmvc</servlet-name></p></blockquote></li><li><blockquote><p><servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class></p></blockquote></li><li><blockquote><p><init-param></init-param></p></blockquote></li><li><blockquote><!--è‡ªå®šä¹‰çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„åå­—å’Œä½ç½®--></blockquote></li><li><blockquote><p><param-name>contextConfigLocation</param-name></p></blockquote></li><li><blockquote><p><param-value>/WEB-INF/springmvc.xml</param-value></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p><load-on-startup>1</load-on-startup></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p><servlet-mapping></servlet-mapping></p></blockquote></li><li><blockquote><p><servlet-name>springmvc</servlet-name></p></blockquote></li><li><blockquote><p><url-pattern>/</url-pattern></p></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li></ul><h3 id="éœ€è¦çš„jaråŒ…-2"><a href="#éœ€è¦çš„jaråŒ…-2" class="headerlink" title="éœ€è¦çš„jaråŒ…"></a>éœ€è¦çš„jaråŒ…</h3><ul><li>spring-aop-4.3.6.RELEASE.jar</li></ul><p>spring-beans-4.3.6.RELEASE.jar</p><p>spring-context-4.3.6.RELEASE.jar</p><p>spring-context-support-4.3.6.RELEASE.jar</p><p>spring-core-4.3.6.RELEASE.jar</p><p>spring-expression-4.3.6.RELEASE.jar</p><p>spring-web-4.3.6.RELEASE.jar</p><p>spring-webmvc-4.3.6.RELEASE.jar</p><p>commons-logging-1.2.jar</p><h3 id="æ§åˆ¶å™¨ä¸“é¢˜"><a href="#æ§åˆ¶å™¨ä¸“é¢˜" class="headerlink" title="æ§åˆ¶å™¨ä¸“é¢˜"></a>æ§åˆ¶å™¨ä¸“é¢˜</h3><ul><li><p>æ§åˆ¶ä¼ é€’çš„å‚æ•°</p></li><li><blockquote><p>@RequestMapping(path = â€œ/param02â€,params = {â€œhs!=tomcatâ€,â€method=addâ€})</p></blockquote></li><li><p>å½¢å‚</p><ul><li>é»˜è®¤ä¼šå¯¹å½¢å‚ä¸­çš„ç±»è¿›è¡Œè‡ªåŠ¨çš„å®ä¾‹åŒ–æ“ä½œ</li></ul></li><li><p>é¡µé¢è·³è½¬æ–¹å¼</p><ul><li>é»˜è®¤è¯·æ±‚è½¬å‘ï¼Œèƒ½è®¿é—®WEB-INFä¸‹</li><li>é‡å®šå‘ï¼Œä¸èƒ½è®¿é—®WEB-INFä¸‹</li><li>æ¦‚è¦: æŒ‡æ˜å‰ç¼€ï¼Œè¯·æ±‚è½¬å‘â€forward:/hs011.jspâ€,é‡å®šå‘redirect:/xxx</li></ul></li><li><p>è¿”å›ç±»å‹</p><ul><li><p>ModelAndView</p><ul><li><p>JSPçš„è¯·æ±‚è½¬å‘çš„è§†å›¾è§£æå™¨</p></li><li><blockquote><p>&lt;!â€“jspè¯·æ±‚è½¬å‘è§†å›¾è§£æå™¨</p></blockquote></li><li><blockquote><p>è¯·æ±‚è½¬å‘jspé¡µé¢çš„æ—¶å€™ï¼Œåœ¨è·¯å¾„ä¸ŠåŠ å…¥å‰ç¼€å’Œåç¼€</p></blockquote></li><li><blockquote><p>â€“&gt;</p></blockquote></li><li><blockquote><!--ä¸‹é¢ç›¸å½“äº InternalResourceViewResolver internalResourceViewResolver = new InternalResourceViewResolver()--></blockquote></li><li><blockquote><bean id="internalResourceViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"></bean></blockquote></li><li><blockquote><!--å‰ç¼€--></blockquote></li><li><blockquote><!--ç›¸å½“äºsetPrefix("/WEB-INF/")--></blockquote></li><li><blockquote><property name="prefix" value="/WEB-INF/"></property></blockquote></li><li><blockquote><!--åç¼€--></blockquote></li><li><blockquote><property name="suffix" value=".jsp"></property></blockquote></li><li><blockquote><!--æ”¯æŒJSTL--></blockquote></li><li><blockquote><property name="viewClass" value="org.springframework.web.servlet.view.JstlView"></property></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li><li><p>void</p><ul><li>é»˜è®¤æƒ…å†µä¸‹æ˜¯æŒ‰ç…§è·¯å¾„å»è¯·æ±‚è½¬å‘æ‰¾åˆ°å¯¹åº”çš„JSPé¡µé¢_ä¸æ¨èä½¿ç”¨</li></ul></li><li><p>String</p><ul><li>æ¨èä½¿ç”¨ï¼Œè·³è½¬åˆ°é¡µé¢æˆ–è€…å¦å¤–çš„Controllerï¼Œä¹Ÿæ»¡è¶³JSPçš„è¯·æ±‚è½¬å‘çš„è§†å›¾è§£æå™¨<br>å¦‚æœä½¿ç”¨äº†å‰ç¼€çš„æ ‡è¯†é‚£ä¹ˆä¸€å®šæ˜¯ä»Controllerè·³è½¬åˆ°å¦ä¸€ä¸ªController</li></ul></li><li><p>ä»»æ„</p><ul><li>ResponseEntity<t></t></li><li>@ResponseBodyâ€”æ¨èï¼Œå¸¸ç”¨äºJSONä¸²çš„å¤„ç†<ul><li>é’ˆå¯¹äºä½ è¿”å›çš„æ•°æ®çš„ç±»å‹è¿›è¡Œè½¬æ¢ï¼Œå¯ä»¥è½¬æ¢ä»»æ„ç±»å‹ï¼Œä½†æ˜¯éœ€è¦ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒ</li></ul></li><li>æƒ…å†µè¯´æ˜<ul><li>å­—ç¬¦ä¸²é»˜è®¤å¯ä»¥è‡ªåŠ¨è½¬æ¢ä¸ºæ–‡æœ¬</li><li>å¦‚æœæ˜¯å…¶ä»–ç±»å‹éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹Jacksonçš„æ”¯æŒï¼Œå°†è¿”å›çš„æ•°æ®è½¬æ¢æˆJSONæ ¼å¼çš„å­—ç¬¦ä¸²<ul><li>Jacksonçš„jaråŒ…<ul><li>jackson-annotations-2.8.1.jar</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><p>jackson-core-2.8.1.jar</p><p>jackson-databind-2.8.1.jar</p><ul><li><p>è®¿é—®è·¯å¾„</p><ul><li><p>è·¯å¾„çš„è®¾ç½®</p><ul><li>/sys/user</li><li>/sys/*æˆ–è€…/sys/**â€”ä¸æ¨èä½¿ç”¨</li><li>/sys/user/{hs}å ä½ç¬¦è·¯å¾„<ul><li>ä½¿ç”¨å ä½ç¬¦ï¼Œä¸€èˆ¬åªæ˜¯ä¼ é€’ä¸»é”®å’Œç®€å•çš„å­—ç¬¦ä¸²ï¼Œå®ŒæˆRESTé£æ ¼çš„è·¯å¾„ï¼Œä¼˜å…ˆçº§æ¯”é€šé…ç¬¦é«˜ï¼Œhsæ¥æ”¶ä¼ è¿‡çš„å€¼</li></ul></li></ul></li><li><p>è¯·æ±‚æ–¹å¼çš„è¯´æ˜</p><ul><li><p>HTMLé¡µé¢ä¸­æœ‰ä¸”åªæœ‰GET/POSTè¯·æ±‚</p></li><li><p>é€šè¿‡è®¾ç½®è¿‡æ»¤å™¨å®Œæˆäº†8ç§è¯·æ±‚æ–¹å¼</p></li><li><blockquote><p>&lt;!â€“httpçš„è¯·æ±‚è½¬æ¢è¿‡æ»¤å™¨</p></blockquote></li><li><blockquote><p>è¿‡æ»¤å™¨ä½¿htmlä¸­æ”¯æŒé™¤äº†getã€postï¼Œçš„å…¶ä»–è¯·æ±‚putï¼Œdeleteï¼Œpatchâ€“&gt;</p></blockquote></li><li><blockquote><filter></filter></blockquote></li><li><blockquote><p><filter-name>httpMethodFilter</filter-name></p></blockquote></li><li><blockquote><p><filter-class>org.springframework.web.filter.HiddenHttpMethodFilter</filter-class></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p><filter-mapping></filter-mapping></p></blockquote></li><li><blockquote><p><filter-name>httpMethodFilter</filter-name></p></blockquote></li><li><blockquote><!--è®¾ç½®éœ€è¦è¿‡æ»¤çš„Servletçš„åå­—ï¼Œå°±æ˜¯ä¸‹é¢é‚£ä¸ªservlet--></blockquote></li><li><blockquote><p><servlet-name>springmvc</servlet-name></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>ä¸ºäº†æ”¯æŒå…¶ä»–çš„è¯·æ±‚æ–¹å¼ï¼ŒæŠŠmethodéƒ½æ”¹ä¸ºpostï¼Œç„¶ååŠ å…¥ä¸€ä¸ª</p></blockquote></li><li><blockquote><input type="hidden" name="_method" value="get|post|put|delete|patch"></blockquote></li><li><blockquote><p>valueä¸åˆ†å¤§å°å†™ï¼Œname=xxxå›ºå®š</p></blockquote><ul><li>getï¼šæŸ¥è¯¢</li><li>postï¼šæ·»åŠ </li><li>putï¼šæ›´æ–°</li><li>deleteï¼šåˆ é™¤</li></ul></li></ul></li></ul></li></ul><h3 id="é™æ€èµ„æº-å›¾ç‰‡ã€jsã€css-æ’é™¤æ–¹æ¡ˆï¼Œä¸ç»è¿‡DispatcherServlet"><a href="#é™æ€èµ„æº-å›¾ç‰‡ã€jsã€css-æ’é™¤æ–¹æ¡ˆï¼Œä¸ç»è¿‡DispatcherServlet" class="headerlink" title="é™æ€èµ„æº(å›¾ç‰‡ã€jsã€css)æ’é™¤æ–¹æ¡ˆï¼Œä¸ç»è¿‡DispatcherServlet"></a>é™æ€èµ„æº(å›¾ç‰‡ã€jsã€css)æ’é™¤æ–¹æ¡ˆï¼Œä¸ç»è¿‡DispatcherServlet</h3><blockquote><p>&lt;!â€“4.é™æ€èµ„æº(å›¾ç‰‡ã€jsã€cssä¹‹ç±»çš„)(è®©è¿™äº›èµ„æºä¸ç»è¿‡servletå¤„ç†)çš„</p></blockquote><blockquote><p>å¤„ç†æ–¹å¼ä¸€  æ¨èæ–¹å¼â€“&gt;</p></blockquote><blockquote><p>&lt;mvc:default-servlet-handler default-servlet-name=â€defaultâ€/&gt;</p></blockquote><blockquote><!--4.é™æ€èµ„æºçš„å¤„ç†æ–¹å¼äºŒ(å¯ä»¥å†™å¤šä¸ªï¼Œä»ä¸Šè€Œä¸‹æ‰¾ï¼Œæ‰¾åˆ°å°±ä¸å†æ‰¾) æ˜ å°„æ–¹å¼(mappingä¸­/image/åé¢çš„è¾“è¿›å»ï¼Œé»˜è®¤åŠ åˆ°/WEB-INF/åé¢),--></blockquote><blockquote><!--<mvc:resources mapping="/image/**" location="/WEB-INF/"/>--></blockquote><h3 id="å®¢æˆ·ç«¯ä¼ é€’æ•°æ®è½¬æ¢æˆæœåŠ¡ç«¯å¯¹åº”çš„æ•°æ®ç±»å‹"><a href="#å®¢æˆ·ç«¯ä¼ é€’æ•°æ®è½¬æ¢æˆæœåŠ¡ç«¯å¯¹åº”çš„æ•°æ®ç±»å‹" class="headerlink" title="å®¢æˆ·ç«¯ä¼ é€’æ•°æ®è½¬æ¢æˆæœåŠ¡ç«¯å¯¹åº”çš„æ•°æ®ç±»å‹"></a>å®¢æˆ·ç«¯ä¼ é€’æ•°æ®è½¬æ¢æˆæœåŠ¡ç«¯å¯¹åº”çš„æ•°æ®ç±»å‹</h3><ul><li><p>@RequestParamæ³¨è§£</p></li><li><blockquote><p>public ModelAndView test02(@RequestParam(value = â€œuser_nameâ€, required = false) String name,</p></blockquote></li><li><blockquote><p>@RequestParam(name = â€œuser_idâ€, required = false, defaultValue = â€œ1111â€) Integer id) {</p></blockquote></li><li><blockquote><p>System.out.println(â€œå§“åâ€ + name);</p></blockquote></li><li><blockquote><p>System.out.println(â€œIDâ€ + id);</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote><ul><li>name=â€â€ | value=â€â€å¯¹åº”ä¼ é€’æ•°æ®çš„åç§°</li><li>required=â€trueâ€é»˜è®¤å€¼</li><li>defaultValue=â€è®¾ç½®é»˜è®¤å€¼â€</li></ul></li><li><p>ç®€å†™æ–¹å¼ æ¨èï¼šä¼ é€’çš„nameå’Œå½¢å‚ä¸­çš„åç§°ä¿æŒä¸€è‡´å³å¯</p></li><li><p>æ•°ç»„</p><ul><li><p>è¶…é“¾æ¥è·å–æ•°ç»„</p></li><li><blockquote><p><a href="client04?role_id=100&role_id=200&role_id=300">ä¼ é€’æ•°ç»„</a></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client04â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test01(@RequestParam(name = â€œrole_idâ€) Integer[] roles) {</p></blockquote></li><li><blockquote><p>System.out.println(Arrays.asList(roles));</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>å¤é€‰æ¡†ä¼ é€’æ•°ç»„</p></li><li><blockquote><form action="client05"></form></blockquote></li><li><blockquote><p><input type="checkbox" name="hobby" value="basketball">ç¯®çƒ</p></blockquote></li><li><blockquote><p><input type="checkbox" name="hobby" value="football">è¶³çƒ</p></blockquote></li><li><blockquote><p><input type="checkbox" name="hobby" value="book">çœ‹ä¹¦</p></blockquote></li><li><blockquote><button>ç®€å†™æ–¹å¼</button></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client05â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test02(String[] hobby) {</p></blockquote></li><li><blockquote><p>if (hobby != null) {</p></blockquote></li><li><blockquote><p>System.out.println(Arrays.asList(hobby));</p></blockquote></li><li><blockquote><p>} else {</p></blockquote></li><li><blockquote><p>System.out.println(â€œæ‚¨æ²¡æœ‰çˆ±å¥½ï¼â€);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>æ–‡æœ¬æ¡†ä¼ é€’æ•°æ®</p></li><li><blockquote><form action="client06"></form></blockquote></li><li><blockquote><input type="text" name="hobby"></blockquote></li><li><blockquote><input type="text" name="hobby"></blockquote></li><li><blockquote><button>ç®€å†™æ–¹å¼</button></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client06â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test03(String[] hobby) {</p></blockquote></li><li><blockquote><p>System.out.println(Arrays.asList(hobby));</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>å¤šé€‰åˆ—è¡¨ä¼ é€’æ•°ç»„</p></li><li><blockquote><form action="client07"></form></blockquote></li><li><blockquote><select name="hobby" multiple="multiple"></select></blockquote></li><li><blockquote><option value="music">éŸ³ä¹</option></blockquote></li><li><blockquote><option value="book">çœ‹ä¹¦</option></blockquote></li><li><blockquote><option value="football">è¶³çƒ</option></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><button>ç®€å†™æ–¹å¼</button></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client07â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test04(String[] hobby) {</p></blockquote></li><li><blockquote><p>if (hobby != null) {</p></blockquote></li><li><blockquote><p>System.out.println(Arrays.asList(hobby));</p></blockquote></li><li><blockquote><p>} else {</p></blockquote></li><li><blockquote><p>System.out.println(â€œæ‚¨æ²¡æœ‰çˆ±å¥½ï¼ï¼â€);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>å¯¹è±¡</p><ul><li><p>ç®€å•å¯¹è±¡ï¼Œåªæ˜¯éœ€è¦ä½ ä¼ é€’çš„åç§°è·Ÿç±»ä¸­çš„å±æ€§åä¿æŒä¸€è‡´å³å¯</p></li><li><blockquote><p>@GetMapping(â€œ/client08â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test01(User user, String user_name, String sex) {</p></blockquote></li><li><blockquote><p>System.out.println(user);</p></blockquote></li><li><blockquote><p>System.out.println(â€œâ€”â€“ä¾ç„¶å¯ä»¥ä½¿ç”¨ç®€å•æ–¹å¼â€”-â€œ);</p></blockquote></li><li><blockquote><p>System.out.println(user_name);</p></blockquote></li><li><blockquote><p>System.out.println(sex);</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>å¤šä¸ªå¯¹è±¡å¦‚æœå±æ€§ä¸ç›¸åŒï¼Œé‚£ä¹ˆSpringMvcæ¡†æ¶ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®Œæˆè½¬æ¢</p></li><li><blockquote><p>@GetMapping(â€œ/client09â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test02(User user, Role role) {</p></blockquote></li><li><blockquote><p>System.out.println(user);</p></blockquote></li><li><blockquote><p>System.out.println(â€œâ€”â€“è§’è‰²â€”-â€œ);</p></blockquote></li><li><blockquote><p>System.out.println(role);</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>å…³è”å¯¹è±¡ï¼Œä¸€ä¸ªå¯¹è±¡é‡Œæœ‰å¦å¤–ä¸€ä¸ªå¯¹è±¡</p></li><li><blockquote><p>public class User {</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>private Role role;</p></blockquote><ul><li><p>åå°å¤„ç†</p><ul><li><blockquote><p>@GetMapping(â€œ/client10â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test03(User user, Role role) {</p></blockquote></li><li><blockquote><p>//è®¾ç½®å…³è”å…³ç³»</p></blockquote></li><li><blockquote><p>user.setRole(role);</p></blockquote></li><li><blockquote><p>System.out.println(user);</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>å‰å°å¤„ç†</p></li><li><blockquote><h2>å¤šä¸ªå¯¹è±¡è¿›è¡Œå…³è”æ–¹å¼äºŒï¼šå‰å°å¤„ç†</h2></blockquote></li><li><blockquote><form action="client11"></form></blockquote></li><li><blockquote><p>å§“åï¼š<input type="text" name="user_name"></p></blockquote></li><li><blockquote><p>æ€§åˆ«ï¼š<input type="text" name="sex"></p></blockquote></li><li><blockquote><p>è§’è‰²åç§°ï¼š<input type="text" name="role.role_name">&lt;%â€“name=ç±»ä¸­.å±æ€§â€“%&gt;</p></blockquote></li><li><blockquote><button>æäº¤æ•°æ®</button></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client11â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test04(User user) {</p></blockquote></li><li><blockquote><p>System.out.println(user);</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>å¤šä¸ªå¯¹è±¡å¦‚æœå‡ºç°åŒå±æ€§é—®é¢˜ï¼Œéœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹ç±»æ¥åŒºåˆ†æ•°æ®çš„å½’å±æƒ…å†µ</p></li><li><blockquote><h2>ä¸åŒå¯¹è±¡åŒå±æ€§ä¼ é€’å€ŸåŠ©ç¬¬ä¸‰æ–¹ç±»</h2></blockquote></li><li><blockquote><form action="client12"></form></blockquote></li><li><blockquote><h3>ç”¨æˆ·</h3></blockquote></li><li><blockquote><p>å§“åï¼š<input type="text" name="user.user_name"></p></blockquote></li><li><blockquote><p>æ€§åˆ«ï¼š<input type="text" name="user.sex"></p></blockquote></li><li><blockquote><p>è§’è‰²ä¿¡æ¯ï¼š<input type="text" name="user.role.role_name"></p></blockquote></li><li><blockquote><h3>å­¦ç”Ÿ</h3></blockquote></li><li><blockquote><p>å§“åï¼š<input type="text" name="student.user_name"></p></blockquote></li><li><blockquote><p>æ€§åˆ«ï¼š<input type="text" name="student.sex"></p></blockquote></li><li><blockquote><button>æäº¤æ•°æ®</button></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client12â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test05(HsModel hsModel) {</p></blockquote></li><li><blockquote><p>System.out.println(hsModel.getStudent());</p></blockquote></li><li><blockquote><p>System.out.println(hsModel.getUser());</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote></blockquote><ul><li><p>ç¬¬ä¸‰æ–¹ç±»å«è¿™äº›ç±»</p><ul><li><blockquote><p>public class HsModel {</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>private User user;</p></blockquote></li><li><blockquote><p>private Student student;</p></blockquote></li></ul></li></ul></li></ul></li><li><p>Map</p></li><li><blockquote><form action="client13"></form></blockquote></li><li><blockquote><p>å§“åï¼š&lt;input type=â€textâ€ name=â€query[â€˜user_nameâ€™]â€&lt;%â€“å±æ€§[â€˜éœ€è¦è®¾ç½®çš„keyå€¼â€™]â€“%&gt;&gt;</p></blockquote></li><li><blockquote><p>æ€§åˆ«ï¼š<input type="text" name="query['sex']"></p></blockquote></li><li><blockquote><button>æäº¤æ•°æ®</button></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client13â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test01(HsModel hsModel) {</p></blockquote></li><li><blockquote><p>System.out.println(hsModel.getQuery());</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote><ul><li><p>éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹ç±»çš„æ”¯æŒ</p></li><li><blockquote><p>public class HsModel {</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>private Map&lt;String,Object&gt; query;</p></blockquote></li><li><p>ä¸€èˆ¬åšåˆ†é¡µæŸ¥è¯¢çš„æ—¶å€™ä½¿ç”¨ query[â€œè®¾ç½®Mapä¸­çš„KEYâ€]</p></li></ul></li><li><p>List</p></li><li><blockquote><form action="client14"></form></blockquote></li><li><blockquote><p>å§“åï¼š<input type="text" name="studentList[0].user_name"> &lt;%â€“è®¾ç½®ç¬¬1æ¡æ•°æ®çš„user_nameâ€“%&gt;</p></blockquote></li><li><blockquote><p>æ€§åˆ«ï¼š<input type="text" name="studentList[0].sex">&lt;%â€“è®¾ç½®ç¬¬1æ¡æ•°æ®çš„sexâ€“%&gt;</p></blockquote></li><li><blockquote><hr></blockquote></li><li><blockquote><p>å§“åï¼š<input type="text" name="studentList[1].user_name"> &lt;%â€“è®¾ç½®ç¬¬2æ¡æ•°æ®çš„user_nameâ€“%&gt;</p></blockquote></li><li><blockquote><p>æ€§åˆ«ï¼š<input type="text" name="studentList[1].sex"></p></blockquote></li><li><blockquote><hr></blockquote></li><li><blockquote><p>å§“åï¼š<input type="text" name="studentList[5].user_name"> &lt;%â€“è®¾ç½®ç¬¬6æ¡æ•°æ®çš„user_name,åŒæ—¶ä¹Ÿè®¾ç½®äº†è¿™ä¸ªlisté•¿åº¦æ˜¯6â€“%&gt;</p></blockquote></li><li><blockquote><p>æ€§åˆ«ï¼š<input type="text" name="studentList[5].sex"></p></blockquote></li><li><blockquote><button>æäº¤æ•°æ®</button></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>@Controller</p></blockquote></li><li><blockquote><p>public class    ListTypeDemoController {</p></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client14â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test01(HsModel hsModel) {</p></blockquote></li><li><blockquote><p>System.out.println(hsModel.getStudentList());</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>}</p></blockquote><ul><li><p>éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹ç±»çš„æ”¯æŒ</p></li><li><blockquote><p>public class HsModel {</p></blockquote></li><li><blockquote><p>private List<student> studentList;</student></p></blockquote></li><li><p>ä¸€èˆ¬åšæ‰¹é‡æ·»åŠ </p></li></ul></li><li><p>å ä½ç¬¦ä¼ é€’æ•°æ®</p></li><li><blockquote><p><a href="client15/11110/tomcat?sex=man">å ä½ç¬¦ä¼ é€’æ•°æ®</a></p></blockquote><ul><li><p>æ™®é€šæ¥æ”¶æ•°æ®</p></li><li><blockquote><p>@GetMapping(â€œ/client15/{id}/{name}â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test01(</p></blockquote></li><li><blockquote><p>@PathVariable(â€œidâ€) int user_id,/<em>å ä½ç¬¦çš„åå­—å’Œå½¢å‚ä¸ä¸€æ ·ï¼Œåœ¨PathVariableä¸­éœ€è¦å†™å ä½ç¬¦çš„åå­—</em>/</p></blockquote></li><li><blockquote><p>@PathVariable String name,/<em>ä¸€æ ·åˆ™å¯ä»¥çœç•¥</em>/</p></blockquote></li><li><blockquote><p>String sex  /<em>@RequestParamçš„ç®€å†™æ–¹å¼</em>/</p></blockquote></li><li><blockquote><p>) {</p></blockquote></li><li><blockquote><p>System.out.println(user_id);</p></blockquote></li><li><blockquote><p>System.out.println(name);</p></blockquote></li><li><blockquote><p>System.out.println(sex);</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>Mapæ¥æ”¶æ•°æ®</p></li><li><blockquote><p>@GetMapping(â€œ/client16/{id}/{name}â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test01(</p></blockquote></li><li><blockquote><p>@PathVariable Map&lt;String,Object&gt; map,/<em>å ä½ç¬¦çš„åå­—ä½œä¸ºkeyå€¼</em>/</p></blockquote></li><li><blockquote><p>String sex  /<em>@RequestParamçš„ç®€å†™æ–¹å¼</em>/</p></blockquote></li><li><blockquote><p>) {</p></blockquote></li><li><blockquote><p>System.out.println(map);</p></blockquote></li><li><blockquote><p>System.out.println(sex);</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>JSONæ•°æ®</p><ul><li><p>æœåŠ¡ç«¯ä½¿ç”¨@RequestBodyæ¥æ”¶æ•°æ®</p></li><li><p>JSONæ•°æ®â€”Javaå¯¹è±¡äº’è½¬</p><ul><li><p>Map</p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test01() throws IOException {</p></blockquote></li><li><blockquote><p>Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();</p></blockquote></li><li><blockquote><p>map.put(â€œuser_nameâ€,â€æ‚Ÿç©ºâ€);</p></blockquote></li><li><blockquote><p>map.put(â€œageâ€, 500);</p></blockquote></li><li><blockquote><p>map.put(â€œhobbyâ€,/<em>é™æ€åˆå§‹åŒ–æ•°æ®</em>/ new String[]{â€œmusicâ€,â€bookâ€});</p></blockquote></li><li><blockquote><p>System.out.println(â€œè½¬æ¢ä¹‹å‰çš„Map:â€+map);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//1.javaå¯¹è±¡è½¬JSONæ ¼å¼çš„å­—ç¬¦ä¸²</p></blockquote></li><li><blockquote><p>ObjectMapper objectMapper = new ObjectMapper();</p></blockquote></li><li><blockquote><p>String jsonString = objectMapper.writeValueAsString(map);</p></blockquote></li><li><blockquote><p>System.out.println(â€œjavaå¯¹è±¡è½¬JSONæ ¼å¼çš„å­—ç¬¦ä¸²:â€+jsonString);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//2.JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºjavaå¯¹è±¡</p></blockquote></li><li><blockquote><p>Map&lt;String, Object&gt; hsMap = objectMapper.readValue(jsonString, Map.class);</p></blockquote></li><li><blockquote><p>System.out.println(â€œJSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºjavaå¯¹è±¡:â€+hsMap);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>é›†åˆ</p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test03() throws Exception {</p></blockquote></li><li><blockquote><p>List<user> userList = new ArrayList&lt;&gt;();</user></p></blockquote></li><li><blockquote><p>User user = new User();</p></blockquote></li><li><blockquote><p>user.setUser_id(100);</p></blockquote></li><li><blockquote><p>user.setUser_name(â€œå…«æˆ’â€);</p></blockquote></li><li><blockquote><p>user.setSex(â€œç”·â€);</p></blockquote></li><li><blockquote><p>Role role = new Role();</p></blockquote></li><li><blockquote><p>role.setRole_name(â€œè¶…çº§ç®¡ç†å‘˜â€);</p></blockquote></li><li><blockquote><p>user.setRole(role);</p></blockquote></li><li><blockquote><p>userList.add(user);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>user = new User();</p></blockquote></li><li><blockquote><p>user.setUser_id(100);</p></blockquote></li><li><blockquote><p>user.setUser_name(â€œæ‚Ÿç©ºâ€);</p></blockquote></li><li><blockquote><p>user.setSex(â€œç”·â€);</p></blockquote></li><li><blockquote><p>role = new Role();</p></blockquote></li><li><blockquote><p>role.setRole_name(â€œç®¡ç†å‘˜â€);</p></blockquote></li><li><blockquote><p>user.setRole(role);</p></blockquote></li><li><blockquote><p>userList.add(user);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>System.out.println(â€œè½¬æ¢ä¹‹å‰çš„List<user>:â€+userList);</user></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//1.javaå¯¹è±¡è½¬jsonå­—ç¬¦ä¸²</p></blockquote></li><li><blockquote><p>ObjectMapper objectMapper = new ObjectMapper();</p></blockquote></li><li><blockquote><p>String jsonString = objectMapper.writeValueAsString(userList);</p></blockquote></li><li><blockquote><p>System.out.println(â€œjavaå¯¹è±¡è½¬jsonå­—ç¬¦ä¸²:â€+jsonString);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//2.jsonå­—ç¬¦ä¸²è½¬javaå¯¹è±¡</p></blockquote></li><li><blockquote><p>System.out.println(â€œç»„æˆçš„List<map>:â€+objectMapper.readValue(jsonString, List.class)); //ç»„æˆçš„æ˜¯List<map></map></map></p></blockquote></li><li><blockquote><p>JavaType t = objectMapper.getTypeFactory().constructParametricType(List.class, User.class);</p></blockquote></li><li><blockquote><p>List<user> tempList = objectMapper.readValue(jsonString, t);</user></p></blockquote></li><li><blockquote><p>System.out.println(â€œjsonå­—ç¬¦ä¸²è½¬javaå¯¹è±¡:â€+tempList);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>è‡ªå®šä¹‰å¯¹è±¡</p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test02() throws Exception {</p></blockquote></li><li><blockquote><p>User user = new User();</p></blockquote></li><li><blockquote><p>user.setUser_id(100);</p></blockquote></li><li><blockquote><p>user.setUser_name(â€œå…«æˆ’â€);</p></blockquote></li><li><blockquote><p>user.setSex(â€œç”·â€);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>Role role = new Role();</p></blockquote></li><li><blockquote><p>role.setRole_name(â€œè¶…çº§ç®¡ç†å‘˜â€);</p></blockquote></li><li><blockquote><p>//å»ºç«‹è”ç³»</p></blockquote></li><li><blockquote><p>user.setRole(role);</p></blockquote></li><li><blockquote><p>System.out.println(â€œè½¬æ¢ä¹‹å‰çš„User:â€+user);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//1.javaå¯¹è±¡è½¬jsonå­—ç¬¦ä¸²</p></blockquote></li><li><blockquote><p>ObjectMapper objectMapper = new ObjectMapper();</p></blockquote></li><li><blockquote><p>String jsonString = objectMapper.writeValueAsString(user);</p></blockquote></li><li><blockquote><p>System.out.println(â€œjavaå¯¹è±¡è½¬jsonå­—ç¬¦ä¸²:â€+jsonString);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//2.jsonå­—ç¬¦ä¸²è½¬javaå¯¹è±¡</p></blockquote></li><li><blockquote><p>User hsUser = objectMapper.readValue(jsonString, User.class);</p></blockquote></li><li><blockquote><p>System.out.println(â€œjsonå­—ç¬¦ä¸²è½¬javaå¯¹è±¡:â€+hsUser);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>JavaScriptå¯¹è±¡â€”JSONæ ¼å¼å­—ç¬¦äº’è½¬</p></li><li><blockquote><script type="text/javascript"></blockquote></li><li><blockquote><p>//ç»™å¯¹è±¡èµ‹å€¼çš„å‡ ç§æ–¹ å¼</p></blockquote></li><li><blockquote><p>//javascriptä¸­ï¼Œvar å¯¹è±¡ = {}å¤§æ‹¬å·ï¼Œæ•°ç»„[]</p></blockquote></li><li><blockquote><p>var obj = {</p></blockquote></li><li><blockquote><p>user_name: â€œæ‚Ÿç©ºâ€,</p></blockquote></li><li><blockquote><p>sex: â€œç”·â€,</p></blockquote></li><li><blockquote><p>hobby: [â€œbasktballâ€, â€œfootballâ€],</p></blockquote></li><li><blockquote><p>classInfo: {</p></blockquote></li><li><blockquote><p>class_name: â€œè®¡ç®—æœºâ€,</p></blockquote></li><li><blockquote><p>number:8</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>};</p></blockquote></li><li><blockquote><p>obj.nickname = â€œé½å¤©å¤§åœ£â€;</p></blockquote></li><li><blockquote><p>obj[â€œageâ€] = 500;</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>console.log(obj);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//1.å°†JavaScriptå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼çš„å­—ç¬¦ä¸²</p></blockquote></li><li><blockquote><p>var jsonStr = JSON.stringify(obj);</p></blockquote></li><li><blockquote><p>console.log(jsonStr);</p></blockquote></li><li><blockquote><p>//2.å°†JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScriptå¯¹è±¡</p></blockquote></li><li><blockquote><p>var hs = JSON.parse(jsonStr);</p></blockquote></li><li><blockquote><p>console.log(hs);</p></blockquote></li><li><blockquote><p></script><p></p></blockquote></li><li><blockquote></blockquote></li></ul></li><li><p>æ–‡ä»¶ä¸Šä¼ </p><ul><li>é…ç½®ä¸Šä¼ æ–‡ä»¶çš„è§£æå™¨ï¼Œå¦‚æœå‘ç°ä½ æ˜¯äºŒè¿›åˆ¶æµçš„æ–¹å¼ä¼ é€’æ•°æ®ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨è¯¥è§£æå™¨å¤„ç†æ•°æ®</li></ul></li><li><p>æ•°æ®ç±»å‹çš„è½¬æ¢</p><ul><li><p>æ—¥æœŸç±»å‹çš„è½¬æ¢@@DateTimeFormat</p></li><li><blockquote><p>/**</p></blockquote></li><li><blockquote><ul><li>æ¥æ”¶æ—¥æœŸç±»å‹çš„å®¢æˆ·ç«¯ä¼ é€’æ•°æ®ï¼Œç®€å†™æ–¹å¼</li></ul></blockquote></li><li><blockquote><ul><li>æ²¡æœ‰å†™æ³¨è§£ï¼Œå°±å†™ 2018/8/14 15:31:20</li></ul></blockquote></li><li><blockquote><ul><li>å†™äº†æ³¨è§£å°±æŒ‰ç…§ä»–çš„æ ¼å¼æ¥ï¼Œå¦‚æœæ²¡æœ‰å†™æ—¶é—´ï¼Œä½ è¾“å…¥äº†æ—¶é—´ä¹Ÿä¸ä¼šè®¤</li></ul></blockquote></li><li><blockquote><ul><li>å¦‚æœä¸€ä¸ªç±»ä¸­ä¹Ÿæœ‰è¿™æ ·çš„å±æ€§ï¼ŒåŒæ—¶æ¥æ”¶è¿™ä¸ªæ—¶é—´ï¼Œæ³¨è§£é‡Œä¹Ÿè¦å†™æ ¼å¼</li></ul></blockquote></li><li><blockquote><p>*</p></blockquote></li><li><blockquote><ul><li>@return</li></ul></blockquote></li><li><blockquote><p>*/</p></blockquote></li><li><blockquote><p>@GetMapping(â€œ/client01â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test01(</p></blockquote></li><li><blockquote><p>@DateTimeFormat(pattern = â€œyyyy-MM-dd HH:mm:ssâ€) Date mydate,</p></blockquote></li><li><blockquote><p>User user) {</p></blockquote></li><li><blockquote><p>System.out.println(mydate);</p></blockquote></li><li><blockquote><p>System.out.println(user);</p></blockquote></li><li><blockquote><p>return null;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>@InitBinder</p></li><li><blockquote><p>@InitBinder</p></blockquote></li><li><blockquote><p>public void init01(WebDataBinder binder) {</p></blockquote></li><li><blockquote><p>//ç›‘æ§è¦è½¬æ¢(String)çš„æ•°æ®ç±»å‹</p></blockquote></li><li><blockquote><p>binder.registerCustomEditor(String.class, /<em>åŒ¿åå¯¹è±¡</em>/new PropertyEditorSupport() {</p></blockquote></li><li><blockquote><p>//é‡å†™äº†setAsTextæ–¹æ³•</p></blockquote></li><li><blockquote><p>@Override</p></blockquote></li><li><blockquote><p>public void setAsText(String text) throws IllegalArgumentException {</p></blockquote></li><li><blockquote><p>System.out.println(â€œä¹‹å‰æ¥æ”¶çš„å€¼â€”-â€œ + text);</p></blockquote></li><li><blockquote><p>//å¯¹æ•°æ®é‡æ–°å¤„ç†èµ‹å€¼ï¼Œèµ‹å€¼ç»™å½¢å‚user_name</p></blockquote></li><li><blockquote><p>this.setValue(â€œå¯¹æ•°æ®å¤„ç†ä¹‹åçš„å€¼â€”-â€œ + text + â€œæ‚Ÿç©ºâ€);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>});</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//ç›‘æ§Integerç±»å‹</p></blockquote></li><li><blockquote><p>binder.registerCustomEditor(Integer.class, new PropertyEditorSupport() {</p></blockquote></li><li><blockquote><p>@Override</p></blockquote></li><li><blockquote><p>public void setAsText(String text) throws IllegalArgumentException {</p></blockquote></li><li><blockquote><p>System.out.println(text);</p></blockquote></li><li><blockquote><p>this.setValue(â€œ999â€);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>});</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li></ul><h3 id="å®¢æˆ·ç«¯ä¼ é€’æ•°æ®ä¸­æ–‡ä¹±ç "><a href="#å®¢æˆ·ç«¯ä¼ é€’æ•°æ®ä¸­æ–‡ä¹±ç " class="headerlink" title="å®¢æˆ·ç«¯ä¼ é€’æ•°æ®ä¸­æ–‡ä¹±ç "></a>å®¢æˆ·ç«¯ä¼ é€’æ•°æ®ä¸­æ–‡ä¹±ç </h3><ul><li><p>getè¯·æ±‚</p><ul><li><p>tomcat7</p><ul><li><p>å…¨å±€è®¾ç½®</p><ul><li><p>åœ¨tomcaté‡Œçš„sever.xmlä¸­ä¿®æ”¹</p></li><li><blockquote><connector connectiontimeout="20000" port="8080" protocol="HTTP/1.1" redirectport="8443"></connector></blockquote></li><li><blockquote><p>è¿™ä¸€è¡ŒåŠ å…¥URIEncoding=â€UTF-8â€</p></blockquote></li></ul></li><li><p>å•é¡¹ç›®è®¾ç½®</p></li><li><blockquote><p>user_name = new String(user_name.getBytes(â€œISO8859-1â€),â€UTF-8â€);</p></blockquote></li></ul></li><li><p>tomcat8</p><ul><li>é»˜è®¤ä¸ºUTF-8ï¼Œä¸éœ€è¦ä¿®æ”¹</li></ul></li></ul></li><li><p>postè¯·æ±‚</p><ul><li><p>åœ¨web.xmlä¸­é…ç½®è¿‡æ»¤å™¨</p></li><li><blockquote><!--1.è§£å†³POSTè¯·æ±‚çš„ä¸­æ–‡ä¹±ç é—®é¢˜--></blockquote></li><li><blockquote><filter></filter></blockquote></li><li><blockquote><p><filter-name>characterEncodingFilter</filter-name></p></blockquote></li><li><blockquote><p><filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class></p></blockquote></li><li><blockquote><!--è®¾ç½®è¿‡æ»¤å™¨çš„ä¸€äº›å˜é‡çš„å€¼--></blockquote></li><li><blockquote><p><init-param></init-param></p></blockquote></li><li><blockquote><p><param-name>encoding</param-name></p></blockquote></li><li><blockquote><p><param-value>UTF-8</param-value></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p><init-param></init-param></p></blockquote></li><li><blockquote><p><param-name>forceRequestEncoding</param-name></p></blockquote></li><li><blockquote><p><param-value>true</param-value></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p><init-param></init-param></p></blockquote></li><li><blockquote><p><param-name>forceResponseEncoding</param-name></p></blockquote></li><li><blockquote><p><param-value>true</param-value></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p><filter-mapping></filter-mapping></p></blockquote></li><li><blockquote><p><filter-name>characterEncodingFilter</filter-name></p></blockquote></li><li><blockquote><p><url-pattern>/*</url-pattern></p></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li></ul><h3 id="æœåŠ¡ç«¯ä¼ é€’æ•°æ®åˆ°å®¢æˆ·ç«¯"><a href="#æœåŠ¡ç«¯ä¼ é€’æ•°æ®åˆ°å®¢æˆ·ç«¯" class="headerlink" title="æœåŠ¡ç«¯ä¼ é€’æ•°æ®åˆ°å®¢æˆ·ç«¯"></a>æœåŠ¡ç«¯ä¼ é€’æ•°æ®åˆ°å®¢æˆ·ç«¯</h3><ul><li><p>è¿”å›ç±»å‹ModelAndViewä¼ é€’æ•°æ®</p><ul><li><p>æŒ‡æ˜KEY</p></li><li><blockquote><p>@GetMapping(â€œ/server02â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test02() {</p></blockquote></li><li><blockquote><p>ModelAndView mav = new ModelAndView();</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//        mav.addObject() æ²¡æœ‰æŒ‡æ˜KEY</p></blockquote></li><li><blockquote><p>//ä¸€æ­¥ä¸€æ­¥çš„è¿½æºç ï¼Œå‘ç°ä¸€ä¸ªModelMapçš„ç±»å®ä¾‹åŒ–å¯¹è±¡.ç”¨å®ƒçš„addAttributeæ–¹æ³•æ·»åŠ ï¼ŒModelMapåˆæ˜¯ç»§æ‰¿äº†HashMap</p></blockquote></li><li><blockquote><p>mav.addObject(â€œtitleâ€, â€œé€šè¿‡ModelAndViewä¼ é€’æ•°æ®â€);</p></blockquote></li><li><blockquote><p>mav.addObject(â€œhsâ€, â€œä¸­å›½å’Œå°šâ€);</p></blockquote></li><li><blockquote><p>mav.addObject(â€œclassâ€, â€œè®¡ç®—æœºè®¡ç§‘â€);</p></blockquote></li><li><blockquote><p>mav.addObject(â€œnumberâ€, 11);</p></blockquote></li><li><blockquote><p>mav.setViewName(â€œjsp/result02â€);    //è¯·æ±‚è½¬å‘ï¼Œé€šè¿‡è§†å›¾è§£æå™¨</p></blockquote></li><li><blockquote><p>return mav;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>æ²¡æœ‰æŒ‡æ˜KEYï¼Œé»˜è®¤ä¼ é€’æ•°æ®çš„KEYçš„åç§°ä¸ºç±»åçš„é¦–å­—æ¯å°å†™</p></li><li><blockquote><p>@GetMapping(â€œ/server03â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test03() {</p></blockquote></li><li><blockquote><p>ModelAndView mav = new ModelAndView();</p></blockquote></li><li><blockquote><p>mav.addObject(â€œintegerâ€, 100);</p></blockquote></li><li><blockquote><p>mav.addObject(200);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>mav.addObject(â€œstringâ€, â€œå­—ç¬¦ä¸²â€);</p></blockquote></li><li><blockquote><p>mav.addObject(â€œæ‚Ÿç©ºâ€);</p></blockquote></li><li><blockquote><p>//        è§„åˆ™ï¼šå®¢æˆ·ç«¯è·å–æ²¡æœ‰åŠ keyçš„æ•°æ®ï¼Œé»˜è®¤keyæ­£å¸¸æ˜¯æ•°æ®å¯¹åº”çš„ç±»å‹çš„é¦–å­—æ¯å°å†™ Integerâ€”integer  Stringâ€”string</p></blockquote></li><li><blockquote><p>//      ä¸¤ä¸ªkeyä¸€æ ·çš„,åªè®¤æœ€åä¸€ä¸ª</p></blockquote></li><li><blockquote><p>//        doubleæ˜¯å…³é”®å­—ï¼Œä¸èƒ½${double},åªèƒ½${requestScope[â€œdoubleâ€] }</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>double a = 123.123;</p></blockquote></li><li><blockquote><p>mav.addObject(a);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>User user = new User();</p></blockquote></li><li><blockquote><p>user.setMydate(new Date());</p></blockquote></li><li><blockquote><p>mav.addObject(user);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>mav.setViewName(â€œjsp/result03â€);    //è¯·æ±‚è½¬å‘ï¼Œé€šè¿‡è§†å›¾è§£æå™¨</p></blockquote></li><li><blockquote><p>return mav;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>è¿”å›ç±»å‹Stringä¼ é€’æ•°æ®</p><ul><li><p>Map</p></li><li><blockquote><p>@GetMapping(â€œ/server04â€)</p></blockquote></li><li><blockquote><p>public String test01(Map&lt;String,Object&gt; map) {</p></blockquote></li><li><blockquote><p>map.put(â€œtitleâ€, â€œMapåœ¨å½¢å‚ä¸­å®šä¹‰ï¼Œå¯ä»¥ä¼ é€’æ•°æ®â€);</p></blockquote></li><li><blockquote><p>map.put(â€œhsâ€, â€œ123â€);</p></blockquote></li><li><blockquote><p>map.put(â€œclassâ€, â€œ12222â€);</p></blockquote></li><li><blockquote><p>map.put(â€œnumberâ€, 1111);</p></blockquote></li><li><blockquote><p>return â€œjsp/result04â€;  //é€šè¿‡è¯·æ±‚è½¬å‘è§†å›¾è§£æå™¨</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>ModelMap</p></li><li><blockquote><p>@GetMapping(â€œ/server05â€)</p></blockquote></li><li><blockquote><p>public String test02(ModelMap modelMap) {</p></blockquote></li><li><blockquote><p>modelMap.addAttribute(â€œtitleâ€, â€œModelMapè¿›è¡Œä¼ é€’æ•°æ®â€);</p></blockquote></li><li><blockquote><p>modelMap.addAttribute(â€œhsâ€, â€œ123â€);</p></blockquote></li><li><blockquote><p>modelMap.addAttribute(â€œclassâ€, â€œ12222â€);</p></blockquote></li><li><blockquote><p>modelMap.addAttribute(â€œnumberâ€, 1111);</p></blockquote></li><li><blockquote><p>return â€œjsp/result04â€;  //é€šè¿‡è¯·æ±‚è½¬å‘è§†å›¾è§£æå™¨</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>Model</p></li><li><blockquote><p>@GetMapping(â€œ/server06â€)</p></blockquote></li><li><blockquote><p>public String test03(Model model) {</p></blockquote></li><li><blockquote><p>model.addAttribute(â€œtitleâ€, â€œModelæ¥å£è¿›è¡Œä¼ é€’æ•°æ®â€);</p></blockquote></li><li><blockquote><p>model.addAttribute(â€œhsâ€, â€œ123â€);</p></blockquote></li><li><blockquote><p>model.addAttribute(â€œclassâ€, â€œ12222â€);</p></blockquote></li><li><blockquote><p>model.addAttribute(â€œnumberâ€, 1111);</p></blockquote></li><li><blockquote><p>return â€œjsp/result04â€;  //é€šè¿‡è¯·æ±‚è½¬å‘è§†å›¾è§£æå™¨</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>@ResponseBodyè¿”å›JSONæ•°æ®æ ¼å¼</p><ul><li><p>è¿”å›JSONæ ¼å¼æ•°æ®</p><ul><li><p>Map</p></li><li><blockquote><p>@GetMapping(â€œ/json03â€)</p></blockquote></li><li><blockquote><p>@ResponseBody   //æŠŠjavaæ•°æ®è½¬æ¢ä¸ºJSONçš„å­—ç¬¦ä¸² å­˜åœ¨BUG(IEæµè§ˆå™¨ä¸å¥½ä½¿ï¼Œè§£å†³åŠæ³•åœ¨springmvc.xmlé…ç½®)</p></blockquote></li><li><blockquote><p>public Map&lt;String, Object&gt; test03() {</p></blockquote></li><li><blockquote><p>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</p></blockquote></li><li><blockquote><p>map.put(â€œnameâ€, â€œé©¬è€æ¿â€);</p></blockquote></li><li><blockquote><p>map.put(â€œsexâ€, â€œç”·â€);</p></blockquote></li><li><blockquote><p>return map;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>List<map></map></p></li><li><blockquote><p>@GetMapping(â€œ/json04â€)</p></blockquote></li><li><blockquote><p>public @ResponseBody List&lt;Map&lt;String, Object&gt;&gt; test04() {</p></blockquote></li><li><blockquote><p>List&lt;Map&lt;String,Object&gt;&gt; tempList = new ArrayList&lt;Map&lt;String,Object&gt;&gt;();</p></blockquote></li><li><blockquote><p>Map&lt;String,Object&gt; map = new HashMap&lt;String, Object&gt;();</p></blockquote></li><li><blockquote><p>map.put(â€œnameâ€, â€œé©¬è€æ¿â€);</p></blockquote></li><li><blockquote><p>map.put(â€œsexâ€, â€œç”·â€);</p></blockquote></li><li><blockquote><p>tempList.add(map);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>map = new HashMap&lt;String, Object&gt;();</p></blockquote></li><li><blockquote><p>map.put(â€œnameâ€, â€œæ‚Ÿç©ºâ€);</p></blockquote></li><li><blockquote><p>map.put(â€œsexâ€, â€œç”·â€);</p></blockquote></li><li><blockquote><p>tempList.add(map);</p></blockquote></li><li><blockquote><p>return tempList;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>IEæµè§ˆå™¨çš„ä¸‹è½½é—®é¢˜</p></li><li><blockquote><!--è§£å†³@ResponseBodyåœ¨IEæµè§ˆå™¨çš„BUGé—®é¢˜--></blockquote></li><li><blockquote><bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"></bean></blockquote></li><li><blockquote><property name="prettyPrint" value="true"></property></blockquote></li><li><blockquote><property name="supportedMediaTypes"></property></blockquote></li><li><blockquote><list></list></blockquote></li><li><blockquote><value>text/html;charset=UTF-8</value></blockquote></li><li><blockquote><value>text/plan;charset=UTF-8</value></blockquote></li><li><blockquote><value>application/json;charset=UTF-8</value></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>è¿”å›æ—¥æœŸæ ¼å¼çš„é—®é¢˜</p><ul><li><p>@JsonFormat</p></li><li><blockquote><p>éœ€è¦åœ¨userçš„dateå±æ€§ä¸‹åŠ æ³¨è§£</p></blockquote></li><li><blockquote><p>//    ç›¸æ”¾å“ªé‡Œå°±æ”¾å“ªé‡Œï¼Œpattern:æ ¼å¼ï¼Œtimezone:æ—¶åŒºï¼Œè¿™æ˜¯è®¾ç½®ä¸œå…«åŒº</p></blockquote></li><li><blockquote><p>//    @JsonFormat(pattern = â€œyyyy-MM-dd HH:mm:ssâ€)</p></blockquote></li><li><blockquote><p>Date mydate;</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//    @JsonFormat(pattern = â€œyyyy-MM-dd HH:mm:ssâ€,timezone = â€œGMT+8â€)</p></blockquote></li><li><blockquote><p>//        @JsonFormat(pattern = â€œyyyy-MM-ddâ€,timezone = â€œGMT+8â€)</p></blockquote></li><li><blockquote><p>public Date getMydate() {</p></blockquote></li><li><blockquote><p>return mydate;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>ä½¿ç”¨SpringMvcé…ç½®</p></li><li><blockquote><!--è§£å†³Jacksonè½¬æ¢çš„æ—¥æœŸé—®é¢˜ï¼Œä¸€åŠ³æ°¸é€¸çš„åŠæ³•ï¼Œå…¨å±€è®¾ç½®ï¼Œä½†æ˜¯å’ŒæŒä¹…åŒ–ç±»ä¸­çš„æ³¨è§£æ¯”ï¼Œè°è¿‘æ›´é€‰æ‹©è°--></blockquote></li><li><blockquote><p><property name="objectMapper">  <!--propertyï¼šxxxå±æ€§--></property></p></blockquote></li><li><blockquote><p><bean class="com.fasterxml.jackson.databind.ObjectMapper">  <!--beanï¼šxxå®ä¾‹åŒ–äº†--></bean></p></blockquote></li><li><blockquote><property name="dateFormat"></property></blockquote></li><li><blockquote><bean class="java.text.SimpleDateFormat"></bean></blockquote></li><li><blockquote><!--yyyy-MM-dd HH:mm:ssåªèƒ½è¿™ä¹ˆå†™ï¼Œå¦‚æœä¸æ˜¾ç¤ºå°æ—¶ï¼Œå°±éœ€è¦åœ¨æŒä¹…åŒ–ç±»ä¸­æ³¨è§£è®¾ç½®--></blockquote></li><li><blockquote><p><constructor-arg type="java.lang.String" value="yyyy-MM-dd HH:mm:ss">  <!--constructor-argï¼šxxæ„é€ å‡½æ•°--></constructor-arg></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li></ul></li></ul></li><li><p>å‰å°å¦‚ä½•æ¥æ”¶</p></li><li><blockquote><h2>${title}</h2></blockquote></li><li><blockquote><h2>${requestScope.hs} â€“æŒ‡æ˜èŒƒå›´äº†çš„</h2></blockquote></li><li><blockquote><h2>${requestScope[â€œclassâ€]}</h2></blockquote></li><li><blockquote><h2>${number} â€”é»˜è®¤æƒ…å†µä¸‹æ˜¯ä»pageContext-&gt;request-&gt;session-&gt;applicationä¸‹å¼€å§‹å¯»æ‰¾</h2></blockquote></li><li><blockquote><h2>${requestScope.integer }</h2></blockquote></li><li><blockquote><h2>${requestScope.string }</h2></blockquote></li><li><blockquote><h2>${requestScope[â€œdoubleâ€] }â€”â€“å› ä¸ºdoubleæ˜¯å…³é”®å­—ï¼Œæ‰€ä»¥ä¸èƒ½.double</h2></blockquote></li><li><blockquote><h2>${requestScope.user.mydate }</h2></blockquote></li><li><blockquote><h2>${requestScope[â€œuserâ€][â€œmydateâ€] }</h2></blockquote></li></ul><h3 id="æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½"><a href="#æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½"></a>æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½</h3><ul><li><p>ä¸Šä¼ </p></li><li><blockquote><p>&lt;%@ page contentType=â€text/html;charset=UTF-8â€ language=â€javaâ€ %&gt;</p></blockquote></li><li><blockquote><html></html></blockquote></li><li><blockquote><head></head></blockquote></li><li><blockquote><title>Title</title></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><body></body></blockquote></li><li><blockquote><h2>å•æ–‡ä»¶ä¸Šä¼ </h2></blockquote></li><li><blockquote><form action="upload01" method="post" enctype="multipart/form-data" id="uploadForm"></form></blockquote></li><li><blockquote><p>æ ‡é¢˜ï¼š<input type="text" name="title"></p></blockquote></li><li><blockquote><p>æ–‡ä»¶ï¼š<input type="file" name="myfile" id="myfile"><br></p></blockquote></li><li><blockquote><button>æ–‡ä»¶ä¸Šä¼ </button></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><script type="text/javascript" src="resource/jquery.js"></script></blockquote></li><li><blockquote><script type="text/javascript"></blockquote></li><li><blockquote><p>$(function () {</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>//å…ƒç´ é€‰æ‹©å™¨</p></blockquote></li><li><blockquote><p>$(â€œbuttonâ€).click(function () {</p></blockquote></li><li><blockquote><p>//1.è·å–ä¸Šä¼ æ–‡ä»¶çš„å¯¹è±¡ï¼Œæ˜¯æ•°ç»„ï¼Œè·å–çš„ç¬¬ä¸€ä¸ª</p></blockquote></li><li><blockquote><p>var myfile = $(â€œ#myfileâ€).prop(â€œfilesâ€)[0];</p></blockquote></li><li><blockquote><p>//2.åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æœ‰</p></blockquote></li><li><blockquote><p>if (myfile) {</p></blockquote></li><li><blockquote><p>//3.è·å–æ–‡ä»¶åç§°</p></blockquote></li><li><blockquote><p>var fileName = myfile.name;</p></blockquote></li><li><blockquote><p>//4.è·å–æ–‡ä»¶çš„åç¼€åç§°</p></blockquote></li><li><blockquote><p>var ext = fileName.substring(fileName.lastIndexOf(â€œ.â€) + 1);</p></blockquote></li><li><blockquote><p>//5.è®¾ç½®å…è®¸ä¸Šä¼ çš„æ–‡ä»¶åç¼€åç§°</p></blockquote></li><li><blockquote><p>var allowFileTypes = [â€œjpgâ€, â€œpngâ€, â€œgifâ€, â€œjpegâ€, â€œdmpâ€, â€œrarâ€];</p></blockquote></li><li><blockquote><p>//6.è®¾ç½®ä¸€ä¸ªæ ‡è¯†ï¼Œç”¨æ¥åšåˆ¤æ–­</p></blockquote></li><li><blockquote><p>var flag = false;</p></blockquote></li><li><blockquote><p>//å¾ªç¯åˆ¤æ–­ä¸Šä¼ æ ¼å¼æ˜¯å¦æ­£ç¡®</p></blockquote></li><li><blockquote><p>for (var i = 0; i &lt; allowFileTypes.length; i++) {</p></blockquote></li><li><blockquote><p>if (ext == allowFileTypes[i]) {</p></blockquote></li><li><blockquote><p>flag = true;</p></blockquote></li><li><blockquote><p>break;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>if (!flag) {</p></blockquote></li><li><blockquote><p>alert(â€œæ‚¨ä¸Šä¼ çš„æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®ï¼Œå…è®¸çš„æ ¼å¼ä¸ºï¼šâ€ + allowFileTypes.join(â€œ  |  â€œ));</p></blockquote></li><li><blockquote><p>return false;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>//7.åˆ¤æ–­æ–‡ä»¶çš„å¤§å°</p></blockquote></li><li><blockquote><p>if (myfile.size &gt; 20 <em> 1024 </em> 1024) {</p></blockquote></li><li><blockquote><p>alert(â€œæ‚¨ä¸Šä¼ çš„æ–‡ä»¶è¿‡å¤§ï¼Œè¯·é‡æ–°é€‰æ‹©â€)</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>return false;</p></blockquote></li><li><blockquote><p>//8.è¡¨å•æäº¤</p></blockquote></li><li><blockquote><p>${â€œ#uploadFormâ€}.submit();</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>else {</p></blockquote></li><li><blockquote><p>alert(â€œè¯·é€‰æ‹©æ‚¨è¦ä¸Šä¼ çš„æ–‡ä»¶â€);</p></blockquote></li><li><blockquote><p>return false;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>})</p></blockquote></li><li><blockquote><p>})</p></blockquote></li><li><blockquote><p></script><p></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote><ul><li><p>è¦æ±‚</p><ul><li>formè¡¨å•ä¼ é€’æ•°æ®</li><li>è¯·æ±‚å¿…é¡»ä¸ºPOSTè¯·æ±‚</li><li>ä½¿ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼ä¼ é€’æ•°æ® enctype=â€multipart/form-dataâ€</li><li>æ–‡ä»¶åŸŸ <input type="file" name="myfile"></li></ul></li><li><p>å·¥å…·</p><ul><li><p>Servlet3.0</p></li><li><p>Commons-FileUpload</p></li><li><blockquote><p>@PostMapping(â€œ/upload01â€)</p></blockquote></li><li><blockquote><p>public ModelAndView test01(String title, MultipartFile myfile, HttpServletRequest request) throws IOException {</p></blockquote></li><li><blockquote><p>ModelAndView mav = new ModelAndView();</p></blockquote></li><li><blockquote><p>//        System.out.println(title);</p></blockquote></li><li><blockquote><p>//1.è·å–ä¸Šä¼ æ–‡ä»¶çš„åç§°</p></blockquote></li><li><blockquote><p>String fileName = myfile.getOriginalFilename();</p></blockquote></li><li><blockquote><p>mav.addObject(â€œfileNameâ€, fileName);</p></blockquote></li><li><blockquote><p>//2.åˆ¤æ–­æ–‡ä»¶åç§°æ˜¯å¦æœ‰å€¼,isEmptyæ˜¯è¿™ä¸ªå­—ç¬¦ä¸²çš„length=0ä¸ºtrue</p></blockquote></li><li><blockquote><p>if (!fileName.isEmpty()) {</p></blockquote></li><li><blockquote><p>//3.è·å–æœåŠ¡å™¨çš„ç»å¯¹è·¯å¾„</p></blockquote></li><li><blockquote><p>String path = request.getServletContext().getRealPath(â€œ/uploadâ€);</p></blockquote></li><li><blockquote><p>//4.å»ºç«‹è”ç³»</p></blockquote></li><li><blockquote><p>File folder = new File(path);</p></blockquote></li><li><blockquote><p>//5.åˆ¤æ–­è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶å¤¹</p></blockquote></li><li><blockquote><p>if (!folder.exists()) {</p></blockquote></li><li><blockquote><p>folder.mkdirs();    //åˆ›å»ºæ–‡ä»¶å¤¹</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>//6,è·å–ä¸Šä¼ æ–‡ä»¶çš„åç¼€åç§°</p></blockquote></li><li><blockquote><p>String ext = FilenameUtils.getExtension(fileName);</p></blockquote></li><li><blockquote><p>//7.åˆ›å»ºæ–°çš„æ–‡ä»¶åç§°</p></blockquote></li><li><blockquote><p>//String newFileName = UUID.randomUUID().toString() + â€œ.â€ + ext;</p></blockquote></li><li><blockquote><p>//æˆ–è€…ç”¨æ—¶é—´æˆ³åˆ›å»ºåç§°</p></blockquote></li><li><blockquote><p>String newFileName = new Date().getTime() + â€œ_â€ + new Random().nextInt(100000) + â€œ.â€ + ext;</p></blockquote></li><li><blockquote><p>mav.addObject(â€œnewFileNameâ€, newFileName);</p></blockquote></li><li><blockquote><p>//            System.out.println(newFileName);</p></blockquote></li><li><blockquote><p>//8.æ–‡ä»¶ä¸Šä¼ ï¼ŒFile.separatorä¸ºæ–œçº¿</p></blockquote></li><li><blockquote><p>myfile.transferTo(new File(path + File.separator + newFileName));</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>mav.addObject(â€œhsâ€, â€œå’Œå°šâ€);</p></blockquote></li><li><blockquote><p>mav.setViewName(â€œjsp/resultâ€);</p></blockquote></li><li><blockquote><p>/*System.out.println(â€œæµ‹è¯•æ˜¯å¦å¯ä»¥è·å–æ­£å¸¸çš„æ•°æ®:â€+title);</p></blockquote></li><li><blockquote><p>System.out.println(â€œ=====â€);</p></blockquote></li><li><blockquote><p>System.out.println(â€œæ–‡ä»¶çš„MIMEç±»å‹ :â€+myfile.getContentType());</p></blockquote></li><li><blockquote><p>System.out.println(â€œæ–‡ä»¶NAMEå±æ€§å¯¹åº”çš„å€¼ :â€+myfile.getName());</p></blockquote></li><li><blockquote><p>System.out.println(â€œä¸Šä¼ æ–‡ä»¶çš„åç§° :â€+myfile.getOriginalFilename());</p></blockquote></li><li><blockquote><p>System.out.println(â€œä¸Šä¼ æ–‡ä»¶çš„å¤§å° :â€+myfile.getSize());*/</p></blockquote></li><li><blockquote><p>return mav;</p></blockquote></li><li><blockquote><p>}</p></blockquote><ul><li>commons-fileupload-1.3.1.jar</li></ul></li></ul></li></ul></li><li><p>ä¸‹è½½</p></li><li><blockquote><p>@GetMapping(â€œ/downloadâ€)</p></blockquote></li><li><blockquote><p>public ResponseEntity&lt;byte[]&gt; test02(String newFileName, String fileName, HttpServletRequest request) throws IOException {</p></blockquote></li><li><blockquote><p>//è·å–æœåŠ¡ç«¯çš„ç»å¯¹è·¯å¾„</p></blockquote></li><li><blockquote><p>String path = request.getServletContext().getRealPath(â€œ/upload/â€œ);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>HttpHeaders headers = new HttpHeaders();</p></blockquote></li><li><blockquote><p>//è®¾ç½®ç›¸åº”çš„å†…å®¹ä¸ºæµ</p></blockquote></li><li><blockquote><p>headers.setContentType(MediaType.TEXT_EVENT_STREAM);</p></blockquote></li><li><blockquote><p>//è®¾ç½®ä¸‹è½½çš„åç§°â€“å’Œä¸­æ–‡ä¹±ç çš„é—®é¢˜</p></blockquote></li><li><blockquote><p>headers.setContentDispositionFormData(â€œattachmentâ€,</p></blockquote></li><li><blockquote><p>new String(fileName.getBytes(â€œUTF-8â€), â€œISO8859-1â€)</p></blockquote></li><li><blockquote><p>);</p></blockquote></li><li><blockquote><p>//æ‰¾åˆ°æ–‡ä»¶</p></blockquote></li><li><blockquote><p>File file = new File(path + File.separator + newFileName);</p></blockquote></li><li><blockquote><p>return new ResponseEntity&lt;byte[]&gt;(FileUtils.readFileToByteArray(file),/<em>å°†æ–‡ä»¶è½¬æ¢ä¸ºbyteæ•°ç»„</em>/</p></blockquote></li><li><blockquote><p>headers,</p></blockquote></li><li><blockquote><p>HttpStatus.CREATED);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>éœ€è¦çš„jaråŒ…</p><ul><li>commons-io-2.4.jar</li></ul></li></ul><h3 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h3><ul><li><p>æ³¨è§£æ–¹å¼</p><ul><li>å±€éƒ¨å¤„ç†@ExceptionHandler</li><li>å…¨å±€å¤„ç†@ControllerAdvice+@ExceptionHandler</li></ul></li><li><p>XMLæ–¹å¼</p></li><li><blockquote><!--6.ç»Ÿä¸€çš„ç®€å•å¼‚å¸¸å¤„ç†ï¼Œç›‘å¬æ‰€æœ‰çš„é¡µé¢å¼‚å¸¸--></blockquote></li><li><blockquote><bean id="simpleMappingExceptionResolver" class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver"></bean></blockquote></li><li><blockquote><!--å‡ºç°å¼‚å¸¸ï¼Œé»˜è®¤è·³è½¬çš„é¡µé¢--></blockquote></li><li><blockquote><property name="defaultErrorView" value="jsp/error"></property></blockquote></li><li><blockquote><!--ç±»ä¼¼äºè¿™ä¸ªmav.addObject("ex", ex);--></blockquote></li><li><blockquote><property name="exceptionAttribute" value="ex"></property></blockquote></li><li><blockquote><!--å¼‚å¸¸æ˜ å°„ï¼Œè‹¥å‡ºç°ä¸‹åˆ—å¼‚å¸¸ï¼Œå°±è·³è½¬ç›¸åº”çš„é¡µé¢ï¼Œä¸è·³é»˜è®¤çš„--></blockquote></li><li><blockquote><property name="exceptionMappings"></property></blockquote></li><li><blockquote><props></props></blockquote></li><li><blockquote><prop key="ArithmeticException">jsp/error</prop></blockquote></li><li><blockquote><prop key="ArrayIndexOutOfBoundsException">jsp/error</prop></blockquote></li><li><blockquote><prop key="RuntimeException">jsp/error</prop></blockquote></li><li><blockquote><prop key="Exception">jsp/error</prop></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li><li><blockquote><p></p></blockquote></li></ul><h3 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h3><ul><li>æ‹¦æˆªå™¨æœ‰ä¸”åªèƒ½æ‹¦æˆªController</li></ul><h2 id="Springæ¡†æ¶"><a href="#Springæ¡†æ¶" class="headerlink" title="Springæ¡†æ¶"></a>Springæ¡†æ¶</h2><h3 id="æ¦‚è¿°-4"><a href="#æ¦‚è¿°-4" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li>Springæ˜¯IoC(DI)å’ŒAOPçš„å®¹å™¨æ¡†æ¶</li></ul><h3 id="IoC-æ§åˆ¶åè½¬ï¼šç™½è¯ï¼šè®©åˆ«äººä¸ºæˆ‘ä»¬æœåŠ¡ï¼Œå¸®æˆ‘newå¯¹è±¡"><a href="#IoC-æ§åˆ¶åè½¬ï¼šç™½è¯ï¼šè®©åˆ«äººä¸ºæˆ‘ä»¬æœåŠ¡ï¼Œå¸®æˆ‘newå¯¹è±¡" class="headerlink" title="IoC #æ§åˆ¶åè½¬ï¼šç™½è¯ï¼šè®©åˆ«äººä¸ºæˆ‘ä»¬æœåŠ¡ï¼Œå¸®æˆ‘newå¯¹è±¡"></a>IoC #æ§åˆ¶åè½¬ï¼šç™½è¯ï¼šè®©åˆ«äººä¸ºæˆ‘ä»¬æœåŠ¡ï¼Œå¸®æˆ‘newå¯¹è±¡</h3><ul><li>ç®¡ç†Beançš„å£°æ˜å‘¨æœŸ<ul><li>èŒƒå›´Scope<ul><li>é»˜è®¤æƒ…å†µä¸‹æ˜¯å•ä¾‹æ¨¡å¼single</li><li>å¤šä¾‹æ¨¡å¼prototype</li><li>request</li><li>session</li></ul></li></ul></li><li>å®ç°æ–¹å¼æœ‰ä¸¤ç§<ul><li><bean id="user" class="com.hs.model.User"></bean></li><li>æ³¨è§£æ–¹å¼<ul><li>@Component</li><li>@Controller</li><li>@Service</li><li>@Repository</li></ul></li></ul></li></ul><h3 id="DI-æ³¨å…¥æ–¹å¼-ç™½è¯ï¼šæ³¨å…¥å°±æ˜¯å®ä¾‹åŒ–ï¼Œèµ‹å€¼"><a href="#DI-æ³¨å…¥æ–¹å¼-ç™½è¯ï¼šæ³¨å…¥å°±æ˜¯å®ä¾‹åŒ–ï¼Œèµ‹å€¼" class="headerlink" title="DI(æ³¨å…¥æ–¹å¼) #ç™½è¯ï¼šæ³¨å…¥å°±æ˜¯å®ä¾‹åŒ–ï¼Œèµ‹å€¼"></a>DI(æ³¨å…¥æ–¹å¼) #ç™½è¯ï¼šæ³¨å…¥å°±æ˜¯å®ä¾‹åŒ–ï¼Œèµ‹å€¼</h3><ul><li><p>Setteræ–¹å¼â€“æ¨è</p><ul><li>XMLæ–¹å¼<ul><li>com.hs.model.Userç±»ä¸­çš„å±æ€§å¿…é¡»è¦æä¾›setæ–¹æ³•</li><li>å½¢å¼å¦‚ä¸‹<ul><li>&lt;property name=â€å±æ€§åâ€ value=â€å€¼â€</li><li>refå¼•ç”¨å¯¹è±¡</li><li>æ ‡å‡†å†™æ³•</li><li>ç¼©å†™</li><li>pæ–¹å¼(pæ–¹å¼çš„å¼•ç”¨)</li></ul></li><li>å„ä¸ªç±»å‹å¦‚ä½•æ³¨å…¥<ul><li>æ™®é€šå±æ€§çš„å€¼ value</li><li>é›†åˆ list/set/array</li><li>map/props</li><li>è‡ªå®šä¹‰ç±»å‹<ul><li>å†…éƒ¨ä½¿ç”¨<bean></bean></li><li>å¤–éƒ¨å®ä¾‹åŒ–ï¼Œå†…éƒ¨ä½¿ç”¨refè¿›è¡Œå¼•ç”¨</li><li>å¤–éƒ¨å®ä¾‹åŒ–ï¼Œä½¿ç”¨p:xxx-refå¼•ç”¨</li></ul></li><li>æ¥å£æ³¨å…¥å®ç°ç±»(æ¥å£å›è°ƒ)<ul><li>å¤–éƒ¨å®šä¹‰æ¥å£å®ç°ç±»å®ä¾‹åŒ–ï¼Œå†…éƒ¨ä½¿ç”¨<ref bean="">è¿›è¡Œå¼•ç”¨</ref></li><li>å¤–éƒ¨å®šä¹‰æ¥å£å®ç°ç±»å®ä¾‹åŒ–ï¼Œä½¿ç”¨p:xxx-refå¼•ç”¨</li></ul></li><li>util:list | set | map | propertiesâ€”-ä¸å¸¸ç”¨<ul><li>å†…éƒ¨å®šä¹‰ï¼Œå†…éƒ¨å¼•ç”¨</li><li>å¤–éƒ¨å®šä¹‰ï¼Œpå¼•ç”¨</li></ul></li></ul></li></ul></li><li>æ³¨è§£æ–¹å¼<ul><li>@Autowiredâ€“æ¨è<ul><li>@Qualifier(â€œbookDaoImplâ€)ï¼ŒæŒ‡æ˜å…·ä½“çš„id</li></ul></li><li>@Resource</li><li>æ¦‚è¦: åŒºåˆ«<ul><li>@Autowiredå…ˆæŒ‰ç±»å‹å†æŒ‰ç…§åç§°æŸ¥æ‰¾</li><li>@Resourceå…ˆæŒ‰åç§°å†æŒ‰ç…§ç±»å‹æŸ¥æ‰¾</li></ul></li></ul></li></ul></li><li><p>æ„é€ å‡½æ•°æ³¨å…¥æ–¹å¼</p><ul><li>XMLæ–¹å¼<ul><li>æ ‡å‡†å†™æ³•</li><li>ç¼©å†™</li><li>å„ä¸ªç±»å‹å¦‚ä½•æ³¨å…¥<ul><li>æ™®é€šå±æ€§çš„å€¼ value</li><li>é›†åˆ list/set/array</li><li>map/props</li><li>è‡ªå®šä¹‰ç±»å‹<ul><li>å†…éƒ¨ä½¿ç”¨<bean></bean></li><li>å¤–éƒ¨å®ä¾‹åŒ–ï¼Œå†…éƒ¨ä½¿ç”¨refè¿›è¡Œå¼•ç”¨</li></ul></li><li>æ¥å£æ³¨å…¥å®ç°ç±»(æ¥å£å›è°ƒ)<ul><li>å¤–éƒ¨å®šä¹‰æ¥å£å®ç°ç±»å®ä¾‹åŒ–ï¼Œå†…éƒ¨ä½¿ç”¨<ref bean="">è¿›è¡Œå¼•ç”¨</ref></li></ul></li></ul></li></ul></li><li>æ³¨è§£æ–¹å¼<ul><li>@Autowiredâ€“æ¨è</li><li>@Resource</li></ul></li></ul></li><li><p>@Valueæ³¨è§£æ³¨å…¥å€¼</p></li><li><blockquote><p>@Value(â€œæˆ‘æ˜¯å…¶ä»–å±æ€§â€)</p></blockquote></li><li><blockquote><p>private String anotherValue;</p></blockquote></li><li><blockquote><p>æˆ–è€…å†™åœ¨setæ–¹æ³•ä¸Š</p></blockquote><ul><li>æ³¨å…¥æ™®é€šå­—ç¬¦ä¸²</li><li>æ³¨å…¥æ“ä½œç³»ç»Ÿå±æ€§</li><li>æ³¨å…¥è¡¨è¾¾å¼è¿ç®—ç»“æœ</li><li>æ³¨å…¥å…¶ä»–beançš„å±æ€§ã€‚ </li><li>æ³¨å…¥æ–‡ä»¶å†…å®¹ã€‚ </li><li>æ³¨å…¥ç½‘å€ä¿¡æ¯ã€‚ </li><li>æ³¨å…¥å±æ€§æ–‡ä»¶ã€‚</li></ul></li></ul><h3 id="AOP-ç™½è¯ï¼šåœ¨ä¸æ”¹å˜åŸæ¥ä»£ç çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ–°çš„åŠŸèƒ½ï¼ŒAOPçš„åº•å±‚çš„å®ç°å°±æ˜¯ä½¿ç”¨çš„æ˜¯Javaçš„åŠ¨æ€ä»£ç†"><a href="#AOP-ç™½è¯ï¼šåœ¨ä¸æ”¹å˜åŸæ¥ä»£ç çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ–°çš„åŠŸèƒ½ï¼ŒAOPçš„åº•å±‚çš„å®ç°å°±æ˜¯ä½¿ç”¨çš„æ˜¯Javaçš„åŠ¨æ€ä»£ç†" class="headerlink" title="AOP #ç™½è¯ï¼šåœ¨ä¸æ”¹å˜åŸæ¥ä»£ç çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ–°çš„åŠŸèƒ½ï¼ŒAOPçš„åº•å±‚çš„å®ç°å°±æ˜¯ä½¿ç”¨çš„æ˜¯Javaçš„åŠ¨æ€ä»£ç†"></a>AOP #ç™½è¯ï¼šåœ¨ä¸æ”¹å˜åŸæ¥ä»£ç çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ–°çš„åŠŸèƒ½ï¼ŒAOPçš„åº•å±‚çš„å®ç°å°±æ˜¯ä½¿ç”¨çš„æ˜¯Javaçš„åŠ¨æ€ä»£ç†</h3><ul><li><p>æ¦‚å¿µ</p><ul><li>Aspect Oriented Programming with Spring é¢å‘åˆ‡é¢ï¼ˆæ–¹é¢ï¼‰ç¼–ç¨‹<ul><li>é¢å‘åˆ‡é¢ç¼–ç¨‹æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªè¡¥å……è€Œå·²</li><li>ç™½è¯ï¼šæˆ‘çš„ç†è§£â€”-&gt;åœ¨ä¸æ”¹å˜åŸæ¥çš„ä»£ç çš„åŸºç¡€ä¸Šå¢å¼ºï¼ˆå¢åŠ ï¼‰æ–°çš„åŠŸèƒ½</li></ul></li></ul></li><li><p>é™æ€ä»£ç†</p></li><li><p>åŠ¨æ€ä»£ç†</p></li><li><p>CGLIBåŠ¨æ€ä»£ç†</p></li><li><blockquote><p>proxy-target-class=â€trueâ€</p></blockquote></li><li><p>åˆ‡é¢</p><ul><li>@Aspect</li><li><a href="aop:aspect" target="_blank" rel="noopener">aop:aspect</a></li></ul></li><li><p>è¿æ¥ç‚¹</p><ul><li>è¡¨è¾¾å¼ execution(<em> com.hs..service.</em>Service.*(**)</li></ul></li><li><p>åˆ‡ç‚¹</p><ul><li>@PointCut</li><li>&lt;aop:point-cut</li></ul></li><li><p>é€šçŸ¥</p><ul><li>å‰ç½®é€šçŸ¥<ul><li>ä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ</li></ul></li><li>åç½®é€šçŸ¥<ul><li>ä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ</li></ul></li><li>è¿”å›é€šçŸ¥<ul><li>åªæœ‰ç¨‹åºæ˜¯æ­£ç¡®çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥è·å–è¿è¡Œåçš„æ•°æ®</li></ul></li><li>å¼‚å¸¸é€šçŸ¥<ul><li>åªæœ‰ç¨‹åºæ˜¯é”™è¯¯çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ</li></ul></li><li>ç¯ç»•é€šçŸ¥â€”â€”-ä¸æ¨èï¼ï¼ï¼</li></ul></li><li><p>ä»£ç†å¯¹è±¡</p></li></ul><h3 id="JdbcTemplateå·¥å…·ç±»"><a href="#JdbcTemplateå·¥å…·ç±»" class="headerlink" title="JdbcTemplateå·¥å…·ç±»"></a>JdbcTemplateå·¥å…·ç±»</h3><ul><li><p>é…ç½®æ•°æ®æº</p></li><li><blockquote><bean id="druidDataSource" class="com.alibaba.druid.pool.DruidDataSource" destroy-method="close"></bean></blockquote></li><li><blockquote><property name="driverClassName" value="${jdbc.mysql.driver}"></property></blockquote></li><li><blockquote><property name="url" value="${jdbc.mysql.url}"></property></blockquote></li><li><blockquote><property name="username" value="${jdbc.mysql.username}"></property></blockquote></li><li><blockquote><property name="password" value="${jdbc.mysql.password}"></property></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>é…ç½®å·¥å…·ç±»</p></li><li><blockquote><bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate"></bean></blockquote></li><li><blockquote><!--setteræ³¨å…¥æ–¹å¼--></blockquote></li><li><blockquote><property name="dataSource" ref="druidDataSource"></property></blockquote></li><li><blockquote><!--æ„é€ å‡½æ•°èµ‹å€¼--></blockquote></li><li><blockquote><!--<constructor-arg name="dataSource" ref="druidDataSource"/>--></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>SQLè¯­å¥</p><ul><li><p>æŸ¥è¯¢</p><ul><li><p>è¿”å›Mapæ•°æ®</p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test01() {</p></blockquote></li><li><blockquote><p>/<em>String sql = â€œselect </em> from oa_user where user_id = 3â€;</p></blockquote></li><li><blockquote><p>Map&lt;String, Object&gt; map = this.jdbcTemplate.queryForMap(sql);*/</p></blockquote></li><li><blockquote><p>String sql = â€œselect * from oa_user where user_id = ?â€;</p></blockquote></li><li><blockquote><p>Map&lt;String, Object&gt; map = jdbcTemplate.queryForMap(sql, 2);</p></blockquote></li><li><blockquote><p>System.out.println(map);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>è¿”å›List<map>æ•°æ®</map></p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test02() {</p></blockquote></li><li><blockquote><p>String sql = â€œselect * from oa_userâ€;</p></blockquote></li><li><blockquote><p>System.out.println(jdbcTemplate.queryForList(sql));</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>è¿”å›ä¸€ä¸ªå€¼</p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test03() {</p></blockquote></li><li><blockquote><p>String sql = â€œselect count(*) from oa_userâ€;</p></blockquote></li><li><blockquote><p>System.out.println(jdbcTemplate.queryForObject(sql, Integer.class));</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>è¿”å›ä¸€ä¸ªå¯¹è±¡</p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test04() {</p></blockquote></li><li><blockquote><p>String sql = â€œselect * from oa_user where user_id = ?â€;</p></blockquote></li><li><blockquote><p>User user = jdbcTemplate.queryForObject(sql, /<em>åŒ¿åå†…éƒ¨ç±»</em>/new RowMapper<user>() {</user></p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>@Override</p></blockquote></li><li><blockquote><p>public User mapRow(ResultSet rs, int rowNum) throws SQLException {</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>User user = new User();</p></blockquote></li><li><blockquote><p>user.setUser_id(rs.getInt(â€œuser_idâ€));</p></blockquote></li><li><blockquote><p>user.setUser_name(rs.getString(â€œUser_nameâ€));</p></blockquote></li><li><blockquote><p>user.setSex(rs.getString(â€œsexâ€));</p></blockquote></li><li><blockquote><p>user.setMoney(rs.getBigDecimal(â€œmoneyâ€));</p></blockquote></li><li><blockquote><p>user.setBirthday((Date) rs.getObject(â€œbirthdayâ€));</p></blockquote></li><li><blockquote><p>return user;</p></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><blockquote><p>}, 2);</p></blockquote></li><li><blockquote><p>System.out.println(user);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>}</p></blockquote></li><li><p>è¿”å›ä¸€ä¸ªList&lt;å¯¹è±¡&gt;</p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test06() {</p></blockquote></li><li><blockquote><p>String sql = â€œselect * from oa_user where user_name like concat(â€˜%â€™,?,â€™%â€™)â€;</p></blockquote></li><li><blockquote><p>List<user> userList = jdbcTemplate.query(sql,/<em>å¤„ç†ä¸€æ¡ä¸€æ¡çš„æ•°æ®ï¼Œï¼Œï¼Œ<user>å¯ä»¥ä¸ç”¨å†™</user></em>/new BeanPropertyRowMapper<user>(User.class), â€œæ²™åƒ§â€);</user></user></p></blockquote></li><li><blockquote><p>System.out.println(userList);</p></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li><li><p>å¢åˆ æ”¹</p></li><li><blockquote><p>@Test</p></blockquote></li><li><blockquote><p>public void test07() {</p></blockquote></li><li><blockquote><p>String sql1 = â€œinsert into oa_user(user_name,sex,money,birthday) values(?,?,?,?)â€;</p></blockquote></li><li><blockquote><p>String sql2 = â€œupdate oa_user set user_name=?,sex=? where user_id = ?â€;</p></blockquote></li><li><blockquote><p>String sql3 = â€œdelete from oa_user where user_id = ?â€;</p></blockquote></li><li><blockquote><p>int num1 = jdbcTemplate.update(sql1, â€œå”åƒ§â€, â€œç”·â€, 220.00, â€œ2018-8-9â€);</p></blockquote></li><li><blockquote><p>int num2 = jdbcTemplate.update(sql2, â€œå’Œå°šâ€, â€œç”·â€, 16);</p></blockquote></li><li><blockquote><p>int num3 = jdbcTemplate.update(sql3, 17);</p></blockquote></li><li><blockquote><p>System.out.println(num1+â€â€“â€+num2+â€â€”â€œ+num3);</p></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>}</p></blockquote></li></ul></li></ul><h3 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h3><ul><li><p>äº‹åŠ¡</p><ul><li>æ¦‚å¿µ<ul><li>ä¸€ä¸ªå·¥ä½œå•å…ƒç”±å¤šä¸ªåŠ¨ä½œç»„æˆï¼Œåªæœ‰åŠ¨ä½œå…¨éƒ¨æ­£ç¡®çš„æ—¶å€™æ‰èƒ½æ‰§è¡ŒæˆåŠŸï¼Œå¦‚æœæœ‰ä¸€ä¸ªåŠ¨ä½œé”™äº†ï¼Œå…¶ä»–çš„åŠ¨ä½œéƒ½æ˜¯æ— æ•ˆçš„ï¼ˆå›æ»šï¼‰</li></ul></li><li>å…³é”®å±æ€§ï¼ˆACIDï¼‰<ul><li>åŸå­æ€§(atomicity):äº‹åŠ¡æ˜¯ä¸€ä¸€ä¸ªåŸå­æ“ä½œ,ç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆï¼Œäº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨</li><li>ä¸€è‡´æ€§(consistency):ä¸€æ—¦æ‰€æœ‰äº‹åŠ¡åŠ¨ä½œå®Œæˆï¼Œäº‹åŠ¡å°±è¢«æäº¤ï¼Œæ•°æ®å’Œèµ„æºå°±å¤„äºä¸€ç§æ»¡è¶³ä¸šåŠ¡è§„åˆ™çš„ä¸€-è‡´æ€§çŠ¶æ€ä¸­.</li><li>éš”ç¦»æ€§(isolation):å¯èƒ½æœ‰è®¸å¤šäº‹åŠ¡ä¼šåŒæ—¶å¤„ç†ç›¸åŒçš„æ•°æ®ï¼Œå› æ­¤æ¯ä¸ªäº‹ç‰©éƒ½åº”è¯¥ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»å¼€æ¥ï¼Œé˜²æ­¢æ•°æ®æŸå</li><li>æŒä¹…æ€§(durability): ä¸€æ—¦äº‹åŠ¡å®Œæˆï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆç³»ç»Ÿé”™è¯¯ï¼Œå®ƒçš„ç»“æœéƒ½ä¸åº”è¯¥å—åˆ°å½±å“ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹åŠ¡çš„ç»“æœè¢«å†™åˆ°æŒä¹…åŒ–å­˜å‚¨å™¨ä¸­</li></ul></li></ul></li><li><p>äº‹åŠ¡ç®¡ç†</p><ul><li>äº‹åŠ¡ç®¡ç†å°±æ˜¯ç®¡ç†äº‹åŠ¡ï¼Œç”¨æ¥ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§.</li></ul></li><li><p>äº‹åŠ¡ç®¡ç†å™¨</p><ul><li>å°±æ˜¯å¯¹äº‹åŠ¡ç®¡ç†çš„å®ç°ï¼Œæ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ï¼ˆæ•°æ®åº“â€”&gt;æ•°æ®æºï¼‰</li></ul></li><li><p>ä¼ æ’­æ€§</p><ul><li>å½“ä½ äº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦æ£€æŸ¥å…¶äº‹åŠ¡çš„ä¼ æ’­æ€§</li></ul></li><li><p>è°ƒç”¨è¿‡ç¨‹</p><ul><li><p>XMLç‰ˆâ€”æ¨è #XMLç‰ˆæœ¬å®Œæˆäº‹åŠ¡ï¼Œéœ€è¦è·ŸAOPé…åˆä½¿ç”¨</p><ul><li><p>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</p></li><li><blockquote><bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"></bean></blockquote></li><li><blockquote><property name="dataSource" ref="druidDataSource"></property></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>å‘ŠçŸ¥å“ªäº›æ–¹æ³•æ˜¯éœ€è¦è¢«äº‹åŠ¡ç®¡ç†å™¨è¿›è¡Œç®¡ç†çš„</p></li><li><blockquote><p>&lt;!â€“6.å‘ŠçŸ¥å“ªäº›æ–¹æ³•æ˜¯éœ€è¦è¢«äº‹åŠ¡ç®¡ç†å™¨è¿›è¡Œç®¡ç†çš„ï¼Œ</p></blockquote></li><li><blockquote><p>ç­‰ä»·äºæ³¨è§£ç‰ˆï¼Œåœ¨æ–¹æ³•ä¸Šé¢å†™@Transactional</p></blockquote></li><li><blockquote><p>â€“&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:advice transaction-manager=â€transactionManagerâ€ id=â€serviceAdviceâ€&gt;</p></blockquote></li><li><blockquote><p><a href="tx:attributes" target="_blank" rel="noopener">tx:attributes</a></p></blockquote></li><li><blockquote><!--å“ªäº›æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å±æ€§ï¼Œå¯¹åº”æ³¨è§£ç‰ˆçš„å±æ€§--></blockquote></li><li><blockquote><p>&lt;tx:method name=â€get*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:method name=â€load*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:method name=â€list*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:method name=â€find*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:method name=â€query*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:method name=â€sel*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:method name=â€check*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:method name=â€valid*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:method name=â€login*â€ read-only=â€trueâ€/&gt;</p></blockquote></li><li><blockquote><!--è¿™æ˜¯æ–¹æ³•éƒ½æ˜¯æŸ¥è¯¢çš„æ–¹æ³•,è®¾ç½®ä¸ºåªè¯»--></blockquote></li><li><blockquote></blockquote></li><li><blockquote><p>&lt;tx:method name=â€*â€ propagation=â€REQUIREDâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;/tx:attributes&gt;</p></blockquote></li><li><blockquote><p>&lt;/tx:advice&gt;</p></blockquote></li><li><p>é…ç½®AOPå’Œtx:adviceé…åˆä½¿ç”¨ï¼Œå‘ŠçŸ¥æˆ‘å“ªä¸ªå±‚æ¬¡ä¸‹çš„æ–¹æ³•ä¼šè¢«äº‹åŠ¡ç®¡ç†å™¨è¿›è¡Œç®¡ç†</p></li><li><blockquote><p>&lt;aop:config proxy-target-class=â€trueâ€&gt;</p></blockquote></li><li><blockquote><p>&lt;aop:pointcut id=â€servicePointCutâ€ expression=â€execution(<em> com.hs..service.</em>Service.*(..))â€/&gt;</p></blockquote></li><li><blockquote><p>&lt;aop:advisor advice-ref=â€serviceAdviceâ€ pointcut-ref=â€servicePointCutâ€/&gt;</p></blockquote></li><li><blockquote><p>&lt;/aop:config&gt;</p></blockquote></li><li><p>å¯åŠ¨äº‹åŠ¡æ³¨è§£</p></li><li><blockquote><p>&lt;tx:annotation-driven transaction-manager=â€transactionManagerâ€ proxy-target-class=â€trueâ€/&gt;</p></blockquote></li></ul></li><li><p>æ³¨è§£ç‰ˆ</p><ul><li><p>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</p></li><li><blockquote><bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"></bean></blockquote></li><li><blockquote><property name="dataSource" ref="druidDataSource"></property></blockquote></li><li><blockquote><p></p></blockquote></li><li><p>å¯åŠ¨äº‹åŠ¡æ³¨è§£</p></li><li><blockquote><p>&lt;!â€“6.å¯åŠ¨äº‹åŠ¡æ³¨è§£ï¼šå‘ŠçŸ¥è¯¥æ–¹æ³•æ˜¯äº‹åŠ¡æ–¹æ³•(ä¸€ä¸ªé”™ï¼Œå…¶ä»–å…¨éƒ¨é”™)ï¼Œè€Œä¸æ˜¯æ™®é€šæ–¹æ³•</p></blockquote></li><li><blockquote><p>transaction-manager=â€transactionManagerâ€å¯ä»¥çœç•¥</p></blockquote></li><li><blockquote><p>â€“&gt;</p></blockquote></li><li><blockquote><p>&lt;tx:annotation-driven transaction-manager=â€transactionManagerâ€ proxy-target-class=â€trueâ€/&gt;</p></blockquote></li><li><p>åœ¨æ–¹æ³•æˆ–è€…ç±»çš„å‰é¢@Transactionalï¼Œå‘Šä¹‹æ˜¯äº‹åŠ¡æ–¹æ³•</p></li><li><p>@Transactionalçš„å±æ€§</p><ul><li>@Transactional(readOnly = true) //åªè¯»ï¼Œä¸€èˆ¬åªåšæŸ¥è¯¢æ“ä½œä½¿ç”¨</li><li>@Transactional(noRollbackForClassName = â€œRuntimeExceptionâ€) //é‡è§è¿™ä¸ªå¼‚å¸¸ï¼Œæ•°æ®å°±ä¸ä¼šå›æ»š</li><li>ä¼ æ’­æ€§çš„è¡Œä¸º<ul><li>é»˜è®¤ï¼š@Transactional(propagation = Propagation.REQUIRED)</li><li>@Transactional(propagation = Propagation.REQUIRES_NEW)</li></ul></li></ul></li></ul></li></ul></li></ul><p><em>XMind: ZEN - Trial Version</em></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MyBatis,Spring,SpringMvc,å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œæ—¥å¿—æ¡†æ¶Log4J&lt;/p&gt;
    
    </summary>
    
      <category term="SSMå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/SSM%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="MyBatis" scheme="https://heshang.ink/tags/MyBatis/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="SpringMvc" scheme="https://heshang.ink/tags/SpringMvc/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆåäº”ï¼‰Springäº‹åŠ¡XMLç‰ˆ-æ¨è</title>
    <link href="https://heshang.ink/2018/09/03/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%8D%81%E4%BA%94%EF%BC%89Spring%E4%BA%8B%E5%8A%A1XML%E7%89%88-%E6%8E%A8%E8%8D%90/"/>
    <id>https://heshang.ink/2018/09/03/Springå­¦ä¹ ç¬”è®°ï¼ˆåäº”ï¼‰Springäº‹åŠ¡XMLç‰ˆ-æ¨è/</id>
    <published>2018-09-03T12:30:06.000Z</published>
    <updated>2018-09-03T15:04:18.675Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨XMLç‰ˆä¸­å®Œæˆæ³¨è§£@Transactionalçš„åŠŸèƒ½</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-é¡¹ç›®ç»“æ„ï¼Œæ•°æ®åº“è¡¨è·Ÿæ³¨è§£ç‰ˆä¸€æ ·"><a href="#1-é¡¹ç›®ç»“æ„ï¼Œæ•°æ®åº“è¡¨è·Ÿæ³¨è§£ç‰ˆä¸€æ ·" class="headerlink" title="1.é¡¹ç›®ç»“æ„ï¼Œæ•°æ®åº“è¡¨è·Ÿæ³¨è§£ç‰ˆä¸€æ ·"></a>1.é¡¹ç›®ç»“æ„ï¼Œæ•°æ®åº“è¡¨è·Ÿæ³¨è§£ç‰ˆä¸€æ ·</h3><h3 id="2-XMLé…ç½®"><a href="#2-XMLé…ç½®" class="headerlink" title="2.XMLé…ç½®"></a>2.XMLé…ç½®</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--5.é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"druidDataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--6.å‘ŠçŸ¥å“ªäº›æ–¹æ³•æ˜¯éœ€è¦è¢«äº‹åŠ¡ç®¡ç†å™¨è¿›è¡Œç®¡ç†çš„ï¼Œ</span></span><br><span class="line"><span class="comment">ç­‰ä»·äºæ³¨è§£ç‰ˆï¼Œåœ¨æ–¹æ³•ä¸Šé¢å†™@Transactional</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span> <span class="attr">id</span>=<span class="string">"serviceAdvice"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å“ªäº›æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å±æ€§ï¼Œå¯¹åº”æ³¨è§£ç‰ˆçš„å±æ€§--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"get*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"load*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"list*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"find*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"query*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"sel*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"check*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"valid*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"login*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--è¿™æ˜¯æ–¹æ³•éƒ½æ˜¯æŸ¥è¯¢çš„æ–¹æ³•,è®¾ç½®ä¸ºåªè¯»--&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--7.é…ç½®AOPå’Œtx:adviceé…åˆä½¿ç”¨ï¼Œå‘ŠçŸ¥æˆ‘å“ªä¸ªå±‚æ¬¡ä¸‹çš„æ–¹æ³•ä¼šè¢«äº‹åŠ¡ç®¡ç†å™¨è¿›è¡Œç®¡ç†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span> <span class="attr">proxy-target-class</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"servicePointCut"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.hs..service.*Service.*(..))"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"serviceAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePointCut"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--8.å¯åŠ¨äº‹åŠ¡æ³¨è§£ï¼šå‘ŠçŸ¥è¯¥æ–¹æ³•æ˜¯äº‹åŠ¡æ–¹æ³•(ä¸€ä¸ªé”™ï¼Œå…¶ä»–å…¨éƒ¨é”™)ï¼Œè€Œä¸æ˜¯æ™®é€šæ–¹æ³•</span></span><br><span class="line"><span class="comment"> transaction-manager="transactionManager"å¯ä»¥çœç•¥</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span> <span class="attr">proxy-target-class</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>æ„æ€å°±æ˜¯ï¼šæˆ‘ç›‘æ§çš„æ˜¯com.hs..service.*Serviceï¼šserviceå±‚ä¸‹ä»¥Serviceç»“å°¾çš„ç±»ä¸‹çš„ï¼šè¿™äº›æ–¹æ³•</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"get"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"load"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"list"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"find"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"query"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"sel"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"check"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"valid"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"login"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--è¿™æ˜¯æ–¹æ³•éƒ½æ˜¯æŸ¥è¯¢çš„æ–¹æ³•,è®¾ç½®ä¸ºåªè¯»--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-å…¶ä»–ä»£ç è·Ÿæ³¨è§£ç‰ˆä¸€æ ·ï¼Œåªæ˜¯å»æ‰-Transactional"><a href="#3-å…¶ä»–ä»£ç è·Ÿæ³¨è§£ç‰ˆä¸€æ ·ï¼Œåªæ˜¯å»æ‰-Transactional" class="headerlink" title="3.å…¶ä»–ä»£ç è·Ÿæ³¨è§£ç‰ˆä¸€æ ·ï¼Œåªæ˜¯å»æ‰@Transactional"></a>3.å…¶ä»–ä»£ç è·Ÿæ³¨è§£ç‰ˆä¸€æ ·ï¼Œåªæ˜¯å»æ‰@Transactional</h3>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨XMLç‰ˆä¸­å®Œæˆæ³¨è§£@Transactionalçš„åŠŸèƒ½&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆåå››ï¼‰Springäº‹åŠ¡</title>
    <link href="https://heshang.ink/2018/09/03/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89Spring%E4%BA%8B%E5%8A%A1/"/>
    <id>https://heshang.ink/2018/09/03/Springå­¦ä¹ ç¬”è®°ï¼ˆåå››ï¼‰Springäº‹åŠ¡/</id>
    <published>2018-09-03T08:09:50.000Z</published>
    <updated>2019-05-26T13:56:01.961Z</updated>
    
    <content type="html"><![CDATA[<p>Spring äº‹åŠ¡ã€äº‹åŠ¡ç®¡ç†ã€äº‹åŠ¡ç®¡ç†å™¨ã€äº‹åŠ¡çš„ä¼ æ’­æ€§ã€@Transactional</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-å®ä¾‹å¼•å…¥"><a href="#1-å®ä¾‹å¼•å…¥" class="headerlink" title="1.å®ä¾‹å¼•å…¥"></a>1.å®ä¾‹å¼•å…¥</h3><p>å’Œå°šç»ç†è·ŸæŸä¸ªä¹¦åº—æ²Ÿé€šä¸šåŠ¡ï¼Œç‹ç»ç†æœ‰ä¸€ä¸ªéœ€æ±‚éœ€è¦ä¹°ä¹¦çš„æ“ä½œ(æš‚æ—¶åªèƒ½è®©ä¹°ä¸€æœ¬ä¹¦ï¼Œä½¿ç”¨ä¼šå‘˜å¡)</p><p>éœ€æ±‚ï¼šä¹°ä¸€æœ¬ä¹¦===&gt;éœ€è¦çš„æ­¥éª¤</p><p>å’Œå°šç»ç†æ€è€ƒï¼š</p><ul><li>æŸ¥è¯¢ä¹¦çš„ä»·æ ¼</li><li>åˆ¤æ–­ä½™é¢æ˜¯å¦å……è¶³ï¼ˆè·å–ä½™é¢çš„ä¿¡æ¯ï¼‰</li><li>ä¼šå‘˜ä¸­çš„ä½™é¢ â€” ä¹¦ä»·æ ¼</li><li>åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³ï¼ˆè·å–ä¹¦åº“å­˜æ•°é‡ï¼‰</li><li>åº“å­˜ä¹¦çš„æ•°é‡ â€” 1</li></ul><h3 id="2-æ•°æ®åº“è¡¨"><a href="#2-æ•°æ®åº“è¡¨" class="headerlink" title="2.æ•°æ®åº“è¡¨"></a>2.æ•°æ®åº“è¡¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">SET FOREIGN_KEY_CHECKS=0;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Table structure for tx_book</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `tx_book`;</span><br><span class="line">CREATE TABLE `tx_book` (</span><br><span class="line">  `isbn` varchar(255) NOT NULL,</span><br><span class="line">  `book_name` varchar(255) DEFAULT NULL,</span><br><span class="line">  `price` int(11) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`isbn`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Records of tx_book</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">INSERT INTO `tx_book` VALUES (&apos;1001&apos;, &apos;è¥¿æ¸¸è®°&apos;, &apos;50&apos;);</span><br><span class="line">INSERT INTO `tx_book` VALUES (&apos;1002&apos;, &apos;æ°´æµ’&apos;, &apos;60&apos;);</span><br><span class="line">INSERT INTO `tx_book` VALUES (&apos;1003&apos;, &apos;ä¸‰å›½&apos;, &apos;70&apos;);</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Table structure for tx_book_stock</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `tx_book_stock`;</span><br><span class="line">CREATE TABLE `tx_book_stock` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `isbn` varchar(255) DEFAULT NULL,</span><br><span class="line">  `stock` int(11) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Records of tx_book_stock</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">INSERT INTO `tx_book_stock` VALUES (&apos;1&apos;, &apos;1001&apos;, &apos;10&apos;);</span><br><span class="line">INSERT INTO `tx_book_stock` VALUES (&apos;2&apos;, &apos;1002&apos;, &apos;10&apos;);</span><br><span class="line">INSERT INTO `tx_book_stock` VALUES (&apos;3&apos;, &apos;1003&apos;, &apos;10&apos;);</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Table structure for tx_user</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `tx_user`;</span><br><span class="line">CREATE TABLE `tx_user` (</span><br><span class="line">  `user_id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `account` varchar(255) DEFAULT NULL,</span><br><span class="line">  `balance` int(255) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`user_id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Records of tx_user</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">INSERT INTO `tx_user` VALUES (&apos;1&apos;, &apos;wukong&apos;, &apos;100&apos;);</span><br><span class="line">INSERT INTO `tx_user` VALUES (&apos;2&apos;, &apos;bajie&apos;, &apos;200&apos;);</span><br><span class="line">INSERT INTO `tx_user` VALUES (&apos;3&apos;, &apos;tangseng&apos;, &apos;100&apos;);</span><br></pre></td></tr></table></figure><h3 id="3-é¡¹ç›®ç»“æ„"><a href="#3-é¡¹ç›®ç»“æ„" class="headerlink" title="3.é¡¹ç›®ç»“æ„"></a>3.é¡¹ç›®ç»“æ„</h3><h3 id="4-daoå±‚"><a href="#4-daoå±‚" class="headerlink" title="4.daoå±‚"></a>4.daoå±‚</h3><p>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BookDao</span> </span>&#123;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * é€šè¿‡ä¹¦çš„isbnæŸ¥çœ‹è¿™æœ¬ä¹¦çš„ä»·æ ¼</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> isbn</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">getBookPriceByIsbn</span><span class="params">(String isbn)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * å‡å»ç”¨æˆ·é‡Œçš„é’±</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> account</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> price</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">updateUserBalance</span><span class="params">(String account, <span class="keyword">int</span> price)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * å‡å°‘ä¹¦çš„æ•°é‡</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> isbn</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">updateBookStock</span><span class="params">(String isbn)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * æŸ¥è¯¢ç”¨æˆ·çš„ä½™é¢</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> account</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">getUserBalanceByAccount</span><span class="params">(String account)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * æŸ¥è¯¢ä¹¦çš„åº“å­˜</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> isbn</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">getBookStockByIsbn</span><span class="params">(String isbn)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span> <span class="comment">//&lt;bean id =bookDaoImpl &gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title">BookDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setJdbcTemplate</span><span class="params">(JdbcTemplate jdbcTemplate)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.jdbcTemplate = jdbcTemplate;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBookPriceByIsbn</span><span class="params">(String isbn)</span> </span>&#123;</span><br><span class="line">      String sql = <span class="string">"select price from tx_book where isbn=?"</span>;</span><br><span class="line">      <span class="keyword">int</span> price = jdbcTemplate.queryForObject(sql, Integer.class, isbn);</span><br><span class="line">      <span class="keyword">return</span> price;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateUserBalance</span><span class="params">(String account, <span class="keyword">int</span> price)</span> </span>&#123;</span><br><span class="line">      String sql = <span class="string">"update tx_user set balance = balance-? where account = ?"</span>;</span><br><span class="line">      jdbcTemplate.update(sql, price, account);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateBookStock</span><span class="params">(String isbn)</span> </span>&#123;</span><br><span class="line">      String sql = <span class="string">"update tx_book_stock set stock = stock-1 where isbn = ?"</span>;</span><br><span class="line">      jdbcTemplate.update(sql, isbn);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getUserBalanceByAccount</span><span class="params">(String account)</span> </span>&#123;</span><br><span class="line">      String sql = <span class="string">"select balance from tx_user where account=?"</span>;</span><br><span class="line">      <span class="keyword">int</span> balance = jdbcTemplate.queryForObject(sql, Integer.class, account);</span><br><span class="line">      <span class="keyword">return</span> balance;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBookStockByIsbn</span><span class="params">(String isbn)</span> </span>&#123;</span><br><span class="line">      String sql = <span class="string">"select stock from tx_book_stock where isbn=?"</span>;</span><br><span class="line">      <span class="keyword">int</span> stock = jdbcTemplate.queryForObject(sql, Integer.class, isbn);</span><br><span class="line">      <span class="keyword">return</span> stock;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-Serviceå±‚"><a href="#5-Serviceå±‚" class="headerlink" title="5.Serviceå±‚"></a>5.Serviceå±‚</h3><p>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OneBookService</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">buyOneBook</span><span class="params">(String account, String isbn)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.dao.BookDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span>    <span class="comment">//&lt;bean id = "oneBookServiceImpl" class="xxx"&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OneBookServiceImpl</span> <span class="keyword">implements</span> <span class="title">OneBookService</span> </span>&#123;</span><br><span class="line">   <span class="comment">//å»ºç«‹è”ç³»</span></span><br><span class="line">   <span class="meta">@Autowired</span>  <span class="comment">//ç›´æ¥åœ¨å±æ€§ä¸Šæ³¨è§£setteræ–¹å¼ï¼Œä¹Ÿå¯ä»¥åœ¨setteræ–¹æ³•ä¸Šæ³¨è§£</span></span><br><span class="line">   <span class="comment">//æŒ‡æ˜å…·ä½“çš„id</span></span><br><span class="line">   <span class="meta">@Qualifier</span>(<span class="string">"bookDaoImpl"</span>)</span><br><span class="line">   <span class="comment">//&lt;property name = "BookDao" ref="bookDaoImpl"&gt;</span></span><br><span class="line">   <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buyOneBook</span><span class="params">(String account, String isbn)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//1.æŸ¥è¯¢ä¹¦çš„ä»·æ ¼</span></span><br><span class="line">      <span class="keyword">int</span> price = bookDao.getBookPriceByIsbn(isbn);</span><br><span class="line">      <span class="comment">//2.åˆ¤æ–­ä¼šå‘˜ä½™é¢æ˜¯å¦å……è¶³</span></span><br><span class="line">      <span class="keyword">int</span> balance = bookDao.getUserBalanceByAccount(account);</span><br><span class="line">      <span class="keyword">if</span> (balance &lt; price) &#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"è´¦å·ä½™é¢ä¸è¶³ï¼Œè¯·å……å€¼"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//3.ä¼šå‘˜ä¸­çš„ä½™é¢ - ä¹¦ä»·æ ¼</span></span><br><span class="line">      bookDao.updateUserBalance(account, price);</span><br><span class="line">      <span class="comment">//4.åˆ¤æ–­åº“å­˜æ•°é‡æ˜¯å¦å……è¶³</span></span><br><span class="line">      <span class="keyword">int</span> stock = bookDao.getBookStockByIsbn(isbn);</span><br><span class="line">      <span class="keyword">if</span> (stock == <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"ä¹¦çš„åº“å­˜æ•°é‡ä¸è¶³"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//5.åº“å­˜ä¹¦çš„æ•°é‡ - 1</span></span><br><span class="line">      bookDao.updateBookStock(isbn);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-æµ‹è¯•"><a href="#6-æµ‹è¯•" class="headerlink" title="6.æµ‹è¯•"></a>6.æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.OneBookService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OneBookServiceTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ApplicationContext ac;</span><br><span class="line">   <span class="keyword">private</span> OneBookService oneBookService;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      oneBookService = ac.getBean(<span class="string">"oneBookServiceImpl"</span>, OneBookService.class);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBuyOneBookTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      oneBookService.buyOneBook(<span class="string">"wukong"</span>, <span class="string">"1001"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¦‚æœæŠŠæ•°æ®åº“é‡Œ1001çš„åº“å­˜æ”¹ä¸º0ï¼Œç„¶åå†æ‰§è¡Œæµ‹è¯•ï¼Œå°±ä¼šå‘ç°wukongçš„é’±æ‰£äº†ï¼Œä½†æ˜¯æ§åˆ¶å°æŠ¥é”™ï¼Œä¹¦çš„åº“å­˜æ•°é‡ä¸è¶³ï¼Œè¿™æ ·å°±å¼•å…¥äº†äº‹åŠ¡çš„æ¦‚å¿µï¼ï¼</p><h3 id="7-ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ"><a href="#7-ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ" class="headerlink" title="7.ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ"></a>7.ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ</h3><ol><li><p>ä¸€ä¸ªå·¥ä½œå•å…ƒç”±å¤šä¸ªåŠ¨ä½œç»„æˆï¼Œåªæœ‰åŠ¨ä½œå…¨éƒ¨æ­£ç¡®çš„æ—¶å€™æ‰èƒ½æ‰§è¡ŒæˆåŠŸï¼Œå¦‚æœæœ‰ä¸€ä¸ªåŠ¨ä½œé”™äº†ï¼Œå…¶ä»–çš„åŠ¨ä½œéƒ½æ˜¯æ— æ•ˆçš„ï¼ˆå›æ»šï¼‰(äº‹åŠ¡å°±æ˜¯ä¸€ç³»åˆ—çš„åŠ¨ä½œï¼Œå®ƒä»¬è¢«å½“åšä¸€ ä¸ªå•ç‹¬çš„å·¥ä½œå•å…ƒ.è¿™äº›åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸èµ·ä½œç”¨)</p></li><li><p>äº‹åŠ¡çš„å››ä¸ªå…³é”®å±æ€§(ACID)</p><ul><li>åŸå­æ€§(atomicity):äº‹åŠ¡æ˜¯ä¸€ä¸€ä¸ªåŸå­æ“ä½œ,ç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆï¼Œäº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨</li><li>ä¸€è‡´æ€§(consistency):ä¸€æ—¦æ‰€æœ‰äº‹åŠ¡åŠ¨ä½œå®Œæˆï¼Œäº‹åŠ¡å°±è¢«æäº¤ï¼Œæ•°æ®å’Œèµ„æºå°±å¤„äºä¸€ç§æ»¡è¶³ä¸šåŠ¡è§„åˆ™çš„ä¸€-è‡´æ€§çŠ¶æ€ä¸­.</li><li>éš”ç¦»æ€§(isolation):å¯èƒ½æœ‰è®¸å¤šäº‹åŠ¡ä¼šåŒæ—¶å¤„ç†ç›¸åŒçš„æ•°æ®ï¼Œå› æ­¤æ¯ä¸ªäº‹ç‰©éƒ½åº”è¯¥ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»å¼€æ¥ï¼Œé˜²æ­¢æ•°æ®æŸåã€‚</li><li>æŒä¹…æ€§(durability): ä¸€æ—¦äº‹åŠ¡å®Œæˆï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆç³»ç»Ÿé”™è¯¯ï¼Œå®ƒçš„ç»“æœéƒ½ä¸åº”è¯¥å—åˆ°å½±å“ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹åŠ¡çš„ç»“æœè¢«å†™åˆ°æŒä¹…åŒ–å­˜å‚¨å™¨ä¸­</li></ul></li></ol><h3 id="8-äº‹åŠ¡ç®¡ç†"><a href="#8-äº‹åŠ¡ç®¡ç†" class="headerlink" title="8.äº‹åŠ¡ç®¡ç†"></a>8.äº‹åŠ¡ç®¡ç†</h3><p>äº‹åŠ¡ç®¡ç†å°±æ˜¯ç®¡ç†äº‹åŠ¡ï¼Œç”¨æ¥ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§.</p><h3 id="9-äº‹åŠ¡ç®¡ç†å™¨"><a href="#9-äº‹åŠ¡ç®¡ç†å™¨" class="headerlink" title="9.äº‹åŠ¡ç®¡ç†å™¨"></a>9.äº‹åŠ¡ç®¡ç†å™¨</h3><p>å°±æ˜¯å¯¹äº‹åŠ¡ç®¡ç†çš„å®ç°ï¼Œæ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ï¼ˆæ•°æ®åº“â€”&gt;æ•°æ®æºï¼‰ï¼ŒMyBatisä½¿ç”¨çš„æ˜¯ç¬¬ä¸€ç§<img src="https://i.loli.net/2019/05/26/5cea9a8fcc6bc16947.jpg" alt=""></p><h3 id="10-åœ¨XMLé…ç½®äº‹åŠ¡ï¼Œå¯åŠ¨äº‹åŠ¡æ³¨è§£"><a href="#10-åœ¨XMLé…ç½®äº‹åŠ¡ï¼Œå¯åŠ¨äº‹åŠ¡æ³¨è§£" class="headerlink" title="10.åœ¨XMLé…ç½®äº‹åŠ¡ï¼Œå¯åŠ¨äº‹åŠ¡æ³¨è§£"></a>10.åœ¨XMLé…ç½®äº‹åŠ¡ï¼Œå¯åŠ¨äº‹åŠ¡æ³¨è§£</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--5.é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"druidDataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--6.å¯åŠ¨äº‹åŠ¡æ³¨è§£ï¼šå‘ŠçŸ¥è¯¥æ–¹æ³•æ˜¯äº‹åŠ¡æ–¹æ³•(ä¸€ä¸ªé”™ï¼Œå…¶ä»–å…¨éƒ¨é”™)ï¼Œè€Œä¸æ˜¯æ™®é€šæ–¹æ³•</span></span><br><span class="line"><span class="comment"> transaction-manager="transactionManager"å¯ä»¥çœç•¥</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span> <span class="attr">proxy-target-class</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ“ä½œæ•°æ®åº“äº†çš„xmlç‰ˆæœ¬,æ²¡æ³¨é‡Šçš„æ˜¯æ³¨è§£ç‰ˆæœ¬--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;bean id="bookDaoImpl" class="com.hs.dao.BookDaoImpl"&gt;</span></span><br><span class="line"><span class="comment">   &lt;property name="jdbcTemplate" ref="jdbcTemplate"/&gt;</span></span><br><span class="line"><span class="comment">&lt;/bean&gt;--&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨æ–¹æ³•å‰é¢åŠ å…¥æ³¨è§£@Transactionalï¼Œæˆ–è€…ç±»å‰é¢åŠ è¿™ä¸ªæ³¨è§£ï¼Œå‘Šä¹‹è¿™ä¸ªç±»çš„æ–¹æ³•éƒ½æ˜¯äº‹åŠ¡æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç‚¹çŸ³æˆé‡‘ï¼Œæ ‡è¯†è¿™ä¸ªæ–¹æ³•æ˜¯äº‹åŠ¡æ–¹æ³•</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br></pre></td></tr></table></figure><p>å†buyOneBookæ–¹æ³•å‰é¢åŠ å…¥è¿™ä¸ªæ³¨è§£ï¼Œå†ç»§ç»­æµ‹è¯•ï¼Œå°±ä¼šå‘ç°ï¼ŒæŠ¥ä¹¦åº“å­˜ä¸è¶³ï¼Œä½†æ˜¯wukongçš„é’±æ²¡æœ‰æ‰£ã€‚</p><h3 id="11-Transactionalçš„å±æ€§"><a href="#11-Transactionalçš„å±æ€§" class="headerlink" title="11.@Transactionalçš„å±æ€§"></a>11.@Transactionalçš„å±æ€§</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@Transactional</span></span><br><span class="line">   <span class="comment">//@Transactional(readOnly = true) //åªè¯»ï¼Œä¸€èˆ¬åªåšæŸ¥è¯¢æ“ä½œä½¿ç”¨</span></span><br><span class="line">   <span class="comment">//@Transactional(noRollbackForClassName = "RuntimeException") //é‡è§è¿™ä¸ªå¼‚å¸¸ï¼Œæ•°æ®å°±ä¸ä¼šå›æ»š</span></span><br><span class="line"><span class="comment">// @Transactional(propagation = Propagation.REQUIRES_NEW)</span></span><br><span class="line"><span class="comment">// @Transactional(propagation = Propagation.REQUIRED)</span></span><br></pre></td></tr></table></figure><h3 id="12-äº‹åŠ¡çš„ä¼ æ’­æ€§"><a href="#12-äº‹åŠ¡çš„ä¼ æ’­æ€§" class="headerlink" title="12.äº‹åŠ¡çš„ä¼ æ’­æ€§"></a>12.äº‹åŠ¡çš„ä¼ æ’­æ€§</h3><p>åœ¨ä¸Šé¢çš„æ¡ä»¶ä¸‹ï¼Œæ–°å¢åŠ å¦‚æœä¹°å¤šæœ¬ä¹¦è¿™ä¸ªåŠŸèƒ½</p><p>äº‹åŠ¡çš„ä¼ æ’­æ€§ï¼šå½“ä½ äº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦æ£€æŸ¥å…¶äº‹åŠ¡çš„ä¼ æ’­æ€§</p><ul><li><p>å¯èƒ½å»¶ç»­è°ƒç”¨æ–¹æ³•çš„äº‹åŠ¡</p></li><li><p>ä¹Ÿå¯èƒ½å¼€å¯æ–°çš„äº‹åŠ¡</p><p><img src="https://i.loli.net/2019/05/26/5cea9ac6bedc247043.jpg" alt=""></p></li></ul><p>ä¹°å¤šæœ¬ä¹¦çš„æ¥å£ï¼š</p><p>MoreBookService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MoreBookService</span> </span>&#123;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * ä¹°å¤šæœ¬ä¹¦</span></span><br><span class="line"><span class="comment">    * String... æ˜¯å¯å˜é•¿åº¦å‚æ•°åˆ—è¡¨ï¼Œå¯ä»¥å­˜å¤šä¸ª</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> account</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> isbns</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">buyMoreBook</span><span class="params">(String account, String... isbns)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MoreBookServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MoreBookServiceImpl</span> <span class="keyword">implements</span> <span class="title">MoreBookService</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="keyword">private</span> OneBookService oneBookService;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Transactional</span>  <span class="comment">//åŒ…å«åœ¨è¿™é‡Œé¢çš„éƒ½æ˜¯äº‹åŠ¡æ–¹æ³•,äº‹åŠ¡çš„ä¼ æ’­æ€§</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buyMoreBook</span><span class="params">(String account, String... isbns)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (isbns != <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">for</span> (String isbn : isbns) &#123;</span><br><span class="line">            oneBookService.buyOneBook(account,isbn);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>buyMoreBookè¿™ä¸ªäº‹åŠ¡æ–¹æ³•ï¼Œè°ƒç”¨äº†buyOneBookè¿™ä¸ªäº‹åŠ¡æ–¹æ³•ï¼Œç„¶åæ£€æŸ¥buyOneBookè¿™ä¸ªäº‹åŠ¡æ–¹æ³•çš„ä¼ æ’­æ€§ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸Šé¢å†™@Transactionalï¼Œé»˜è®¤ä¸ºå»¶ç»­è°ƒç”¨æ–¹æ³•çš„äº‹åŠ¡ï¼Œä¸‹é¢çš„æ³¨è§£åœ¨è¢«è°ƒç”¨çš„äº‹åŠ¡æ–¹æ³•ä¸Šå†™</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@Transactional(propagation = Propagation.REQUIRES_NEW)//æœ¬æ–¹æ³•å»¶ç»­è°ƒç”¨æ–¹æ³•çš„äº‹åŠ¡</span></span><br><span class="line"><span class="comment">// @Transactional(propagation = Propagation.REQUIRED)//æœ¬æ–¹æ³•å¼€å¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡</span></span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2019/05/26/5cea9ac343bfc50229.jpg" alt=""></p><p><img src="https://i.loli.net/2019/05/26/5cea9ac4dc8ca90285.jpg" alt=""></p><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.MoreBookService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MoreBookServiceTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ApplicationContext ac;</span><br><span class="line">   <span class="keyword">private</span> MoreBookService moreBookService;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      moreBookService = ac.getBean(<span class="string">"moreBookServiceImpl"</span>, MoreBookService.class);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBuyMoreBookMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      moreBookService.buyMoreBook(<span class="string">"wukong"</span>,<span class="string">"1003"</span>,<span class="string">"1001"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Spring äº‹åŠ¡ã€äº‹åŠ¡ç®¡ç†ã€äº‹åŠ¡ç®¡ç†å™¨ã€äº‹åŠ¡çš„ä¼ æ’­æ€§ã€@Transactional&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆåä¸‰ï¼‰JdbcTemplateå·¥å…·ç±»çš„ä½¿ç”¨</title>
    <link href="https://heshang.ink/2018/09/03/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89JdbcTemplate%E5%B7%A5%E5%85%B7%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://heshang.ink/2018/09/03/Springå­¦ä¹ ç¬”è®°ï¼ˆåä¸‰ï¼‰JdbcTemplateå·¥å…·ç±»çš„ä½¿ç”¨/</id>
    <published>2018-09-03T07:40:10.000Z</published>
    <updated>2019-05-26T13:53:59.396Z</updated>
    
    <content type="html"><![CDATA[<p>JdbcTemplateå°±æ˜¯Springæ¡†æ¶ç»™æˆ‘ä»¬å°è£…å¥½çš„ç®€å•å¯¹æ•°æ®åº“æ“ä½œçš„å·¥å…·ç±»ï¼Œè¿”å›Mapæ•°æ®ï¼Œè¿”å›List_Mapæ•°æ®ï¼Œè¿”å›ä¸€ä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªList&lt;å¯¹è±¡&gt;ï¼Œæ·»åŠ ä¿®æ”¹åˆ é™¤</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-ä»‹ç»JdbcTemplateå·¥å…·ç±»"><a href="#1-ä»‹ç»JdbcTemplateå·¥å…·ç±»" class="headerlink" title="1.ä»‹ç»JdbcTemplateå·¥å…·ç±»"></a>1.ä»‹ç»JdbcTemplateå·¥å…·ç±»</h3><p>Springæ˜¯ä¸€ä¸ªIoCå’ŒAOPçš„å®¹å™¨æ¡†æ¶ï¼Œå¹¶ä¸”å®ƒæ˜¯ä¸€ç«™å¼å¼€æºæ¡†æ¶<img src="https://i.loli.net/2019/05/26/5cea9a72e982e46778.jpg" alt=""></p><p>ORMæ˜¯æˆ‘ä»¬å­¦è¿‡çš„MyBatisï¼ŒJdbcTemplateå°±æ˜¯Springæ¡†æ¶ç»™æˆ‘ä»¬å°è£…å¥½çš„ç®€å•å¯¹æ•°æ®åº“æ“ä½œçš„å·¥å…·ç±»ï¼Œéœ€è¦è¿™ä¸ªspring-jdbc.jar</p><h3 id="2-sqlæ–‡ä»¶"><a href="#2-sqlæ–‡ä»¶" class="headerlink" title="2.sqlæ–‡ä»¶"></a>2.sqlæ–‡ä»¶</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">SET FOREIGN_KEY_CHECKS=0;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Table structure for oa_user</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `oa_user`;</span><br><span class="line">CREATE TABLE `oa_user` (</span><br><span class="line">  `user_id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `user_name` varchar(255) DEFAULT NULL,</span><br><span class="line">  `sex` varchar(255) DEFAULT NULL,</span><br><span class="line">  `money` decimal(7,2) DEFAULT NULL,</span><br><span class="line">  `birthday` date DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`user_id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Records of oa_user</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;1&apos;, &apos;æ‚Ÿç©º&apos;, &apos;ç”·&apos;, &apos;888.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;2&apos;, &apos;å…«æˆ’&apos;, &apos;ç”·&apos;, &apos;999.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;3&apos;, &apos;å¤©è“¬å…ƒå¸…&apos;, &apos;å¥³&apos;, &apos;1000.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;4&apos;, &apos;æ‚Ÿèƒ½&apos;, &apos;ç”·&apos;, &apos;666.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;5&apos;, &apos;æ³•æ‚Ÿæ³•&apos;, &apos;å¥³&apos;, &apos;544.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;6&apos;, &apos;æ‚Ÿ&apos;, &apos;å¥³&apos;, &apos;562.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;7&apos;, &apos;æ‚Ÿ&apos;, &apos;å¥³&apos;, &apos;562.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;14&apos;, &apos;å«¦å¨¥&apos;, &apos;å¥³&apos;, &apos;1213.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;15&apos;, &apos;æœˆå…”&apos;, &apos;å¥³&apos;, &apos;2113.00&apos;, null);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;16&apos;, &apos;å’Œå°š&apos;, &apos;ç”·&apos;, &apos;455.00&apos;, &apos;2018-08-05&apos;);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;18&apos;, &apos;æ²™åƒ§&apos;, &apos;ç”·&apos;, &apos;455.00&apos;, &apos;2018-08-05&apos;);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;19&apos;, &apos;å”åƒ§&apos;, &apos;ç”·&apos;, &apos;220.00&apos;, &apos;2018-08-09&apos;);</span><br><span class="line">INSERT INTO `oa_user` VALUES (&apos;20&apos;, &apos;å”åƒ§&apos;, &apos;ç”·&apos;, &apos;220.00&apos;, &apos;2018-08-09&apos;);</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Table structure for skill</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `skill`;</span><br><span class="line">CREATE TABLE `skill` (</span><br><span class="line">  `skill_id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `skill_name` varchar(255) DEFAULT NULL,</span><br><span class="line">  `num` int(11) DEFAULT NULL,</span><br><span class="line">  `fk_teacher_id` int(11) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`skill_id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Records of skill</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">INSERT INTO `skill` VALUES (&apos;2&apos;, &apos;JS&apos;, &apos;75&apos;, null);</span><br><span class="line">INSERT INTO `skill` VALUES (&apos;7&apos;, &apos;CSS&apos;, &apos;66&apos;, null);</span><br><span class="line">INSERT INTO `skill` VALUES (&apos;8&apos;, &apos;java&apos;, &apos;66&apos;, null);</span><br><span class="line">INSERT INTO `skill` VALUES (&apos;9&apos;, &apos;vue&apos;, &apos;56&apos;, &apos;9999&apos;);</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Table structure for sys_role</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `sys_role`;</span><br><span class="line">CREATE TABLE `sys_role` (</span><br><span class="line">  `role_id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `role_name` varchar(32) DEFAULT NULL,</span><br><span class="line">  `role_key` varchar(32) DEFAULT NULL,</span><br><span class="line">  `status` int(1) DEFAULT &apos;1&apos; COMMENT &apos;1å¯ç”¨ -1ç¦ç”¨&apos;,</span><br><span class="line">  PRIMARY KEY (`role_id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Records of sys_role</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">INSERT INTO `sys_role` VALUES (&apos;-100&apos;, &apos;è¶…çº§ç®¡ç†å‘˜&apos;, &apos;ADMIN&apos;, &apos;1&apos;);</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Table structure for sys_user</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `sys_user`;</span><br><span class="line">CREATE TABLE `sys_user` (</span><br><span class="line">  `user_id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `account` varchar(32) NOT NULL,</span><br><span class="line">  `password` varchar(128) NOT NULL,</span><br><span class="line">  `user_name` varchar(32) DEFAULT &apos;&apos;,</span><br><span class="line">  `status` int(1) NOT NULL DEFAULT &apos;1&apos; COMMENT &apos;1å¯ç”¨ -1åˆ é™¤  2ç¦ç”¨&apos;,</span><br><span class="line">  `login_time` datetime DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">  `ip` varchar(128) DEFAULT NULL,</span><br><span class="line">  `fk_role_id` int(11) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`user_id`),</span><br><span class="line">  KEY `fk_role_id` (`fk_role_id`),</span><br><span class="line">  CONSTRAINT `sys_user_ibfk_1` FOREIGN KEY (`fk_role_id`) REFERENCES `sys_role` (`role_id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">-- Records of sys_user</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">INSERT INTO `sys_user` VALUES (&apos;-999&apos;, &apos;super&apos;, &apos;super&apos;, &apos;å”åƒ§&apos;, &apos;1&apos;, &apos;2018-07-28 18:47:39&apos;, null, &apos;-100&apos;);</span><br><span class="line">INSERT INTO `sys_user` VALUES (&apos;-888&apos;, &apos;admin&apos;, &apos;admin&apos;, &apos;æ‚Ÿç©º&apos;, &apos;1&apos;, &apos;2018-07-03 18:48:21&apos;, null, &apos;-100&apos;);</span><br></pre></td></tr></table></figure><h3 id="3-å®ä¾‹åŒ–è¯¥å·¥å…·ç±»"><a href="#3-å®ä¾‹åŒ–è¯¥å·¥å…·ç±»" class="headerlink" title="3.å®ä¾‹åŒ–è¯¥å·¥å…·ç±»"></a>3.å®ä¾‹åŒ–è¯¥å·¥å…·ç±»</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.core.JdbcTemplate"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> èµ‹å€¼/&gt;</span></span><br><span class="line">    ------</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-é…ç½®æ•°æ®æº"><a href="#4-é…ç½®æ•°æ®æº" class="headerlink" title="4.é…ç½®æ•°æ®æº"></a>4.é…ç½®æ•°æ®æº</h3><p>æ•°æ®æºå°±æ˜¯è¿æ¥æ•°æ®ï¼Œè€Œä»¥åå·¥ä½œå½“ä¸­æˆ‘ä»¬æ¨èä½¿ç”¨â€œè¿æ¥æ± â€ï¼Œ</p><h4 id="ä»€ä¹ˆæ˜¯è¿æ¥æ± ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è¿æ¥æ± ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è¿æ¥æ± ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è¿æ¥æ± ï¼Ÿ</h4><p>æˆ‘çš„ç†è§£ä¸ºé¢„å…ˆå»ºç«‹å¥½ä¸€å †Connectionï¼Œä½¿ç”¨æ—¶å€™ä»æ± ä¸­è·å–ï¼Œä¸é€‚åº”ä¸æ˜¯é”€æ¯è€Œæ˜¯æŠŠè¿æ¥å†æ¬¡æ”¾å›åˆ°æ± ä¸­</p><h4 id="è¿æ¥æ± çš„å·¥ä½œåŸç†ï¼Ÿ"><a href="#è¿æ¥æ± çš„å·¥ä½œåŸç†ï¼Ÿ" class="headerlink" title="è¿æ¥æ± çš„å·¥ä½œåŸç†ï¼Ÿ"></a>è¿æ¥æ± çš„å·¥ä½œåŸç†ï¼Ÿ</h4><p>Javaä»£ç å¦‚ä½•å®ç°â€“&gt;Map/List å­˜Connection</p><h4 id="å¼€æºçš„è¿æ¥æ± æœ‰å“ªäº›ï¼Ÿ"><a href="#å¼€æºçš„è¿æ¥æ± æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="å¼€æºçš„è¿æ¥æ± æœ‰å“ªäº›ï¼Ÿ"></a>å¼€æºçš„è¿æ¥æ± æœ‰å“ªäº›ï¼Ÿ</h4><p>C3p0ã€dbcpã€å¾·é²ä¼Šdruid(é˜¿é‡Œå·´å·´çš„)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- destroy-method="close"é”€æ¯çš„æ–¹æ³•--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--4.é…ç½®æ•°æ®æº--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"druidDataSource"</span> <span class="attr">class</span>=<span class="string">"com.alibaba.druid.pool.DruidDataSource"</span> <span class="attr">destroy-method</span>=<span class="string">"close"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/cy42_mss"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--5.é…ç½®å·¥å…·ç±»JdbcTemplate--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"jdbcTemplate"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.core.JdbcTemplate"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--setteræ³¨å…¥æ–¹å¼--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"druidDataSource"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--æ„é€ å‡½æ•°èµ‹å€¼--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--&lt;constructor-arg name="dataSource" ref="druidDataSource"/&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="5-User-java"><a href="#5-User-java" class="headerlink" title="5.User.java"></a>5.User.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> Integer user_id;</span><br><span class="line">   <span class="keyword">private</span> String user_name;</span><br><span class="line">   <span class="keyword">private</span> String sex;</span><br><span class="line">   <span class="comment">//é’±ç”¨BigDecimal</span></span><br><span class="line">   <span class="keyword">private</span> BigDecimal money;</span><br><span class="line">   <span class="keyword">private</span> Date birthday;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> BigDecimal <span class="title">getMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> money;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMoney</span><span class="params">(BigDecimal money)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.money = money;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Date <span class="title">getBirthday</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> birthday;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBirthday</span><span class="params">(Date birthday)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.birthday = birthday;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">getUser_id</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> user_id;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUser_id</span><span class="params">(Integer user_id)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.user_id = user_id;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getUser_name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> user_name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUser_name</span><span class="params">(String user_name)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.user_name = user_name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> sex;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.sex = sex;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">            <span class="string">"user_id="</span> + user_id +</span><br><span class="line">            <span class="string">", user_name='"</span> + user_name + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">", sex='"</span> + sex + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">", money="</span> + money +</span><br><span class="line">            <span class="string">", birthday="</span> + birthday +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-æŸ¥è¯¢æ“ä½œ-é¢„å¤„ç†"><a href="#6-æŸ¥è¯¢æ“ä½œ-é¢„å¤„ç†" class="headerlink" title="6.æŸ¥è¯¢æ“ä½œ(é¢„å¤„ç†)"></a>6.æŸ¥è¯¢æ“ä½œ(é¢„å¤„ç†)</h3><h4 id="1-è¿”å›Mapæ•°æ®"><a href="#1-è¿”å›Mapæ•°æ®" class="headerlink" title="1.è¿”å›Mapæ•°æ®"></a>1.è¿”å›Mapæ•°æ®</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.model.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.BeanPropertyRowMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.RowMapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcTemplateTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ApplicationContext ac;</span><br><span class="line">   <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      jdbcTemplate = ac.getBean(<span class="string">"jdbcTemplate"</span>, JdbcTemplate.class);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * è¿”å›Mapæ•°æ®</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="comment">/*String sql = "select * from oa_user where user_id = 3";</span></span><br><span class="line"><span class="comment">      Map&lt;String, Object&gt; map = this.jdbcTemplate.queryForMap(sql);*/</span></span><br><span class="line">      String sql = <span class="string">"select * from oa_user where user_id = ?"</span>;</span><br><span class="line">      Map&lt;String, Object&gt; map = jdbcTemplate.queryForMap(sql, <span class="number">2</span>);</span><br><span class="line">      System.out.println(map);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-è¿”å›List-Mapæ•°æ®"><a href="#2-è¿”å›List-Mapæ•°æ®" class="headerlink" title="2.è¿”å›List_Mapæ•°æ®"></a>2.è¿”å›List_Mapæ•°æ®</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›List_Mapæ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   String sql = <span class="string">"select * from oa_user"</span>;</span><br><span class="line">   System.out.println(jdbcTemplate.queryForList(sql));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-è¿”å›ä¸€ä¸ªå€¼"><a href="#3-è¿”å›ä¸€ä¸ªå€¼" class="headerlink" title="3.è¿”å›ä¸€ä¸ªå€¼"></a>3.è¿”å›ä¸€ä¸ªå€¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›ä¸€ä¸ªå€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   String sql = <span class="string">"select count(*) from oa_user"</span>;</span><br><span class="line">   System.out.println(jdbcTemplate.queryForObject(sql, Integer.class));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-è¿”å›ä¸€ä¸ªå¯¹è±¡"><a href="#4-è¿”å›ä¸€ä¸ªå¯¹è±¡" class="headerlink" title="4.è¿”å›ä¸€ä¸ªå¯¹è±¡"></a>4.è¿”å›ä¸€ä¸ªå¯¹è±¡</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   String sql = <span class="string">"select * from oa_user where user_id = ?"</span>;</span><br><span class="line">   User user = jdbcTemplate.queryForObject(sql, <span class="comment">/*åŒ¿åå†…éƒ¨ç±»*/</span><span class="keyword">new</span> RowMapper&lt;User&gt;() &#123;</span><br><span class="line"></span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> User <span class="title">mapRow</span><span class="params">(ResultSet rs, <span class="keyword">int</span> rowNum)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line"></span><br><span class="line">         User user = <span class="keyword">new</span> User();</span><br><span class="line">         user.setUser_id(rs.getInt(<span class="string">"user_id"</span>));</span><br><span class="line">         user.setUser_name(rs.getString(<span class="string">"User_name"</span>));</span><br><span class="line">         user.setSex(rs.getString(<span class="string">"sex"</span>));</span><br><span class="line">         user.setMoney(rs.getBigDecimal(<span class="string">"money"</span>));</span><br><span class="line">         user.setBirthday((Date) rs.getObject(<span class="string">"birthday"</span>));</span><br><span class="line">         <span class="keyword">return</span> user;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;, <span class="number">2</span>);</span><br><span class="line">   System.out.println(user);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-è¿”å›ä¸€ä¸ªList-lt-å¯¹è±¡-gt"><a href="#5-è¿”å›ä¸€ä¸ªList-lt-å¯¹è±¡-gt" class="headerlink" title="5.è¿”å›ä¸€ä¸ªList&lt;å¯¹è±¡&gt;"></a>5.è¿”å›ä¸€ä¸ªList&lt;å¯¹è±¡&gt;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›ä¸€ä¸ªList&lt;å¯¹è±¡&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test05</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   String sql = <span class="string">"select * from oa_user where user_name like concat('%',?,'%')"</span>;</span><br><span class="line">   List&lt;User&gt; userList = jdbcTemplate.query(sql,<span class="comment">/*å¤„ç†ä¸€æ¡ä¸€æ¡çš„æ•°æ®*/</span><span class="keyword">new</span> UserRowMapper(), <span class="string">"æ²™åƒ§"</span>);</span><br><span class="line">   System.out.println(userList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠŠåŒ¿åå†…éƒ¨ç±»æå‡ºæ¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹äºå¤–é¢é‚£ä¸ªç±»æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œå¤–é¢é‚£ä¸ªç±»å¯¹äºè¿™ä¸ªç±»æ¥è¯´ï¼Œæ˜¯å¤–éƒ¨ç±»</span></span><br><span class="line"><span class="comment"> * ç™¾åº¦ä»€ä¹ˆæ˜¯å†…éƒ¨ç±»å’Œç‰¹ç§ï¼Ÿ</span></span><br><span class="line"><span class="comment"> * privateä½¿è¿™ä¸ªç±»åªèƒ½è¢«è¿™ä¸ªç±»ä½¿ç”¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRowMapper</span> <span class="keyword">implements</span> <span class="title">RowMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> User <span class="title">mapRow</span><span class="params">(ResultSet rs, <span class="keyword">int</span> rowNum)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"---------"</span>);</span><br><span class="line">      User user = <span class="keyword">new</span> User();</span><br><span class="line">      user.setUser_id(rs.getInt(<span class="string">"user_id"</span>));</span><br><span class="line">      user.setUser_name(rs.getString(<span class="string">"User_name"</span>));</span><br><span class="line">      user.setSex(rs.getString(<span class="string">"sex"</span>));</span><br><span class="line">      user.setMoney(rs.getBigDecimal(<span class="string">"money"</span>));</span><br><span class="line">      user.setBirthday((Date) rs.getObject(<span class="string">"birthday"</span>));</span><br><span class="line">      <span class="keyword">return</span> user;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-è¿”å›ä¸€ä¸ªList-lt-å¯¹è±¡-gt-â€”â€”è‡ªåŠ¨æ˜ å°„ï¼Œç±»å±æ€§å’ŒæŸ¥è¯¢çš„å­—æ®µåå­—ä¸€æ ·"><a href="#6-è¿”å›ä¸€ä¸ªList-lt-å¯¹è±¡-gt-â€”â€”è‡ªåŠ¨æ˜ å°„ï¼Œç±»å±æ€§å’ŒæŸ¥è¯¢çš„å­—æ®µåå­—ä¸€æ ·" class="headerlink" title="6.è¿”å›ä¸€ä¸ªList&lt;å¯¹è±¡&gt;â€”â€”è‡ªåŠ¨æ˜ å°„ï¼Œç±»å±æ€§å’ŒæŸ¥è¯¢çš„å­—æ®µåå­—ä¸€æ ·"></a>6.è¿”å›ä¸€ä¸ªList&lt;å¯¹è±¡&gt;â€”â€”è‡ªåŠ¨æ˜ å°„ï¼Œç±»å±æ€§å’ŒæŸ¥è¯¢çš„å­—æ®µåå­—ä¸€æ ·</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›ä¸€ä¸ªList&lt;å¯¹è±¡&gt;â€”â€”è‡ªåŠ¨æ˜ å°„ï¼Œç±»å±æ€§å’ŒæŸ¥è¯¢çš„å­—æ®µåå­—ä¸€æ ·</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test06</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   String sql = <span class="string">"select * from oa_user where user_name like concat('%',?,'%')"</span>;</span><br><span class="line">   List&lt;User&gt; userList = jdbcTemplate.query(sql,<span class="comment">/*å¤„ç†ä¸€æ¡ä¸€æ¡çš„æ•°æ®ï¼Œï¼Œï¼Œ&lt;User&gt;å¯ä»¥ä¸ç”¨å†™*/</span><span class="keyword">new</span> BeanPropertyRowMapper&lt;User&gt;(User.class), <span class="string">"æ²™åƒ§"</span>);</span><br><span class="line">   System.out.println(userList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-æ·»åŠ ä¿®æ”¹åˆ é™¤"><a href="#7-æ·»åŠ ä¿®æ”¹åˆ é™¤" class="headerlink" title="7.æ·»åŠ ä¿®æ”¹åˆ é™¤"></a>7.æ·»åŠ ä¿®æ”¹åˆ é™¤</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ·»åŠ ä¿®æ”¹åˆ é™¤</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test07</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   String sql1 = <span class="string">"insert into oa_user(user_name,sex,money,birthday) values(?,?,?,?)"</span>;</span><br><span class="line">   String sql2 = <span class="string">"update oa_user set user_name=?,sex=? where user_id = ?"</span>;</span><br><span class="line">   String sql3 = <span class="string">"delete from oa_user where user_id = ?"</span>;</span><br><span class="line">   <span class="keyword">int</span> num1 = jdbcTemplate.update(sql1, <span class="string">"å”åƒ§"</span>, <span class="string">"ç”·"</span>, <span class="number">220.00</span>, <span class="string">"2018-8-9"</span>);</span><br><span class="line">   <span class="keyword">int</span> num2 = jdbcTemplate.update(sql2, <span class="string">"å’Œå°š"</span>, <span class="string">"ç”·"</span>, <span class="number">16</span>);</span><br><span class="line">   <span class="keyword">int</span> num3 = jdbcTemplate.update(sql3, <span class="number">17</span>);</span><br><span class="line">   System.out.println(num1+<span class="string">"--"</span>+num2+<span class="string">"---"</span>+num3);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JdbcTemplateå°±æ˜¯Springæ¡†æ¶ç»™æˆ‘ä»¬å°è£…å¥½çš„ç®€å•å¯¹æ•°æ®åº“æ“ä½œçš„å·¥å…·ç±»ï¼Œè¿”å›Mapæ•°æ®ï¼Œè¿”å›List_Mapæ•°æ®ï¼Œè¿”å›ä¸€ä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªList&amp;lt;å¯¹è±¡&amp;gt;ï¼Œæ·»åŠ ä¿®æ”¹åˆ é™¤&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆåäºŒï¼‰AOPçš„XMLæ–¹å¼cglibä»£ç†-é‡ç‚¹æŒæ¡</title>
    <link href="https://heshang.ink/2018/09/03/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89AOP%E7%9A%84XML%E6%96%B9%E5%BC%8Fcglib%E4%BB%A3%E7%90%86-%E9%87%8D%E7%82%B9%E6%8E%8C%E6%8F%A1/"/>
    <id>https://heshang.ink/2018/09/03/Springå­¦ä¹ ç¬”è®°ï¼ˆåäºŒï¼‰AOPçš„XMLæ–¹å¼cglibä»£ç†-é‡ç‚¹æŒæ¡/</id>
    <published>2018-09-03T07:24:09.000Z</published>
    <updated>2019-05-26T13:53:21.948Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ‡ç‚¹ï¼Œåˆ‡é¢ï¼Œå¦‚ä½•å®šä¹‰åˆ‡ç‚¹ï¼Œå‰ç½®ã€åç½®ã€æ”¾å›ã€å¼‚å¸¸ã€ç¯ç»•é€šçŸ¥çš„XMLç‰ˆ</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-é¡¹ç›®ç»“æ„ï¼ˆjaråŒ…è·Ÿä¸Šä¸ªä¸€æ ·ï¼‰"><a href="#1-é¡¹ç›®ç»“æ„ï¼ˆjaråŒ…è·Ÿä¸Šä¸ªä¸€æ ·ï¼‰" class="headerlink" title="1.é¡¹ç›®ç»“æ„ï¼ˆjaråŒ…è·Ÿä¸Šä¸ªä¸€æ ·ï¼‰"></a>1.é¡¹ç›®ç»“æ„ï¼ˆjaråŒ…è·Ÿä¸Šä¸ªä¸€æ ·ï¼‰</h3><p><img src="https://i.loli.net/2019/05/26/5cea9a4fa9a9284685.jpg" alt=""></p><h3 id="2-æ ¸å¿ƒä¸šåŠ¡ä»£ç "><a href="#2-æ ¸å¿ƒä¸šåŠ¡ä»£ç " class="headerlink" title="2.æ ¸å¿ƒä¸šåŠ¡ä»£ç "></a>2.æ ¸å¿ƒä¸šåŠ¡ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹å¤–æä¾›çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå®Œæˆäº†åŠ æ³•/å‡æ³•/ä¹˜æ³•è¿ç®—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ArithmeticService</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">div</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¸å¿ƒä»£ç </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceImpl</span> <span class="keyword">implements</span> <span class="title">ArithmeticService</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//æ ¸å¿ƒä»£ç </span></span><br><span class="line">      <span class="keyword">int</span> result = x + y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x - y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x * y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">div</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x / y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-åˆ‡é¢"><a href="#3-åˆ‡é¢" class="headerlink" title="3.åˆ‡é¢"></a>3.åˆ‡é¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service.aspect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Component</span></span><br><span class="line"><span class="comment">//@Aspect //æ ‡è®°è¿™æ˜¯åˆ‡é¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"æµ‹è¯•å‡ºorderå±æ€§çš„ä½œç”¨"</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//1.å‰ç½®é€šçŸ¥</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test05</span><span class="params">(JoinPoint jp)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//è·å–get</span></span><br><span class="line">      System.out.println(<span class="string">"==å‰ç½®é€šçŸ¥=="</span>);</span><br><span class="line">      System.out.println(Arrays.asList(jp.getArgs()));</span><br><span class="line">      System.out.println(jp.getSignature().getName());</span><br><span class="line">      System.out.println(jp.getTarget().getClass().getName());</span><br><span class="line">      System.out.println(<span class="string">"==å‰ç½®é€šçŸ¥=="</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//2.åç½®é€šçŸ¥</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test06</span><span class="params">(JoinPoint jp)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"==åç½®å¢å¼º=="</span>);</span><br><span class="line">      System.out.println(Arrays.asList(jp.getArgs()));</span><br><span class="line">      System.out.println(jp.getSignature().getName());</span><br><span class="line">      System.out.println(jp.getTarget().getClass().getName());</span><br><span class="line">      System.out.println(<span class="string">"==åç½®å¢å¼º=="</span>);</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//3.è¿”å›é€šçŸ¥</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test07</span><span class="params">(JoinPoint jp, <span class="keyword">int</span> hs)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"==è¿”å›é€šçŸ¥=="</span>);</span><br><span class="line">      System.out.println(<span class="string">"ç¨‹åºæ­£å¸¸è¿è¡Œï¼Œæ­£ç¡®çš„è¿è¡Œç»“æœä¸º==&gt;"</span> + hs);</span><br><span class="line">      System.out.println(<span class="string">"==è¿”å›é€šçŸ¥=="</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//4.å¼‚å¸¸é€šçŸ¥</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test08</span><span class="params">(JoinPoint jp, ArithmeticException hs)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"==å¼‚å¸¸é€šçŸ¥=="</span>);</span><br><span class="line">      System.out.println(<span class="string">"ç¨‹åºè¿è¡Œé”™è¯¯==&gt;"</span> + hs);</span><br><span class="line">      System.out.println(<span class="string">"==å¼‚å¸¸é€šçŸ¥=="</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-XMLé‡Œåˆ‡ç‚¹ï¼Œåˆ‡é¢"><a href="#4-XMLé‡Œåˆ‡ç‚¹ï¼Œåˆ‡é¢" class="headerlink" title="4.XMLé‡Œåˆ‡ç‚¹ï¼Œåˆ‡é¢"></a>4.XMLé‡Œåˆ‡ç‚¹ï¼Œåˆ‡é¢</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">"http://www.springframework.org/schema/util"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.3.xsd"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--1.å¯åŠ¨Springæ³¨è§£--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:annotation-config</span>&gt;</span><span class="tag">&lt;/<span class="name">context:annotation-config</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--2.æ‰«æ--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.hs"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--Springæä¾›äº†å¤šç§AOPçš„å®ç°æ–¹å¼ï¼Œä½†æ˜¯æˆ‘ä»¬åªç”¨ç¬¬ä¸‰æ–¹çš„AOPæ ‡å‡†--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--3.å¯åŠ¨AOPæ³¨è§£ï¼šfalseæ˜¯ä½¿ç”¨é»˜è®¤çš„javaä»£ç†ï¼Œtrueæ˜¯ä½¿ç”¨CGLIBä»£ç†--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> <span class="attr">proxy-target-class</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--4.AOPçš„XMLé…ç½®æ–¹å¼,falseæ˜¯ä½¿ç”¨é»˜è®¤çš„javaä»£ç†ï¼Œtrueæ˜¯ä½¿ç”¨CGLIBä»£ç†--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--å®ä¾‹åŒ–é‚£ä¸ªç±»ï¼Œåœ¨åˆ‡é¢å¼•ç”¨çš„æ—¶å€™å¥½ç”¨--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"logger"</span> <span class="attr">class</span>=<span class="string">"com.hs.service.aspect.Logger"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"logger111"</span> <span class="attr">class</span>=<span class="string">"com.hs.service.aspect.Logger"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:config</span> <span class="attr">proxy-target-class</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å®šä¹‰åˆ‡ç‚¹ï¼Œå¯ä»¥æŠŠåˆ‡ç‚¹æ”¾åœ¨å¤–é¢ä½œä¸ºå…¬å…±çš„ï¼Œæ³¨æ„pointcut aspectçš„é¡ºåºï¼Œå¯¹åº”æ³¨è§£ç‰ˆçš„@PointCut(value = "execution(* com.hs..service.*Service.*(..))")--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"servicePointCut"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.hs..service.*Service.*(..))"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!--å®šä¹‰åˆ‡é¢ï¼Œå¯¹åº”æ³¨è§£ç‰ˆçš„@Aspect,order,å®šä¹‰åˆ‡é¢çš„æ‰§è¡Œé¡ºåºï¼Œä¸å†™é»˜è®¤ä¸ºä»ä¸Šåˆ°ä¸‹æ‰§è¡Œ--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">"logger111"</span> <span class="attr">order</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!--å®šä¹‰åˆ‡ç‚¹ï¼Œå¯¹åº”æ³¨è§£ç‰ˆçš„@PointCut(value = "execution(* com.hs..service.*Service.*(..))")--&gt;</span></span><br><span class="line">         <span class="comment">&lt;!--&lt;aop:pointcut id="servicePointCut" expression="execution(* com.hs..service.*Service.*(..))"/&gt;--&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">"test01"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePointCut"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å®šä¹‰åˆ‡é¢ï¼Œå¯¹åº”æ³¨è§£ç‰ˆçš„@Aspect--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">"logger"</span> <span class="attr">order</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!--å®šä¹‰åˆ‡ç‚¹ï¼Œå¯¹åº”æ³¨è§£ç‰ˆçš„@PointCut(value = "execution(* com.hs..service.*Service.*(..))")--&gt;</span></span><br><span class="line">         <span class="comment">&lt;!--&lt;aop:pointcut id="servicePointCut" expression="execution(* com.hs..service.*Service.*(..))"/&gt;--&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">"test05"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePointCut"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆå¾—å®ä¾‹åŒ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"logger"</span> <span class="attr">class</span>=<span class="string">"com.hs.service.aspect.Logger"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ‡ç‚¹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"servicePointCut"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.hs..service.*Service.*(..))"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ‡é¢ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">"logger111"</span> <span class="attr">order</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--å®šä¹‰åˆ‡ç‚¹ï¼Œå¯¹åº”æ³¨è§£ç‰ˆçš„@PointCut(value = "execution(* com.hs..service.*Service.*(..))")--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--&lt;aop:pointcut id="servicePointCut" expression="execution(* com.hs..service.*Service.*(..))"/&gt;--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">"test01"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePointCut"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceTest</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> ArithmeticService arithmeticService;</span><br><span class="line">   <span class="keyword">private</span> ApplicationContext ac;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      <span class="keyword">this</span>.arithmeticService = <span class="keyword">this</span>.ac.getBean(<span class="string">"arithmeticServiceImpl"</span>, ArithmeticService.class);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAddMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = <span class="keyword">this</span>.arithmeticService.div(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">      System.out.println(<span class="string">"è¿è¡Œçš„ç»“æœï¼š"</span>+ result);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆ‡ç‚¹ï¼Œåˆ‡é¢ï¼Œå¦‚ä½•å®šä¹‰åˆ‡ç‚¹ï¼Œå‰ç½®ã€åç½®ã€æ”¾å›ã€å¼‚å¸¸ã€ç¯ç»•é€šçŸ¥çš„XMLç‰ˆ&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆåä¸€ï¼‰AOPçš„æ³¨è§£æ–¹å¼cglibä»£ç†</title>
    <link href="https://heshang.ink/2018/09/03/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89AOP%E7%9A%84%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8Fcglib%E4%BB%A3%E7%90%86/"/>
    <id>https://heshang.ink/2018/09/03/Springå­¦ä¹ ç¬”è®°ï¼ˆåä¸€ï¼‰AOPçš„æ³¨è§£æ–¹å¼cglibä»£ç†/</id>
    <published>2018-09-03T06:32:16.000Z</published>
    <updated>2019-05-26T13:56:50.228Z</updated>
    
    <content type="html"><![CDATA[<p>JDKåŠ¨æ€ä»£ç†ä¸CGLibåŠ¨æ€ä»£ç†å‡æ˜¯å®ç°Spring AOPçš„åŸºç¡€ï¼Œåˆ‡ç‚¹ï¼Œåˆ‡é¢ï¼Œå¦‚ä½•å®šä¹‰åˆ‡ç‚¹ï¼Œå‰ç½®ã€åç½®ã€æ”¾å›ã€å¼‚å¸¸ã€ç¯ç»•é€šçŸ¥</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-åˆ‡ç‚¹ã€åˆ‡é¢"><a href="#1-åˆ‡ç‚¹ã€åˆ‡é¢" class="headerlink" title="1.åˆ‡ç‚¹ã€åˆ‡é¢"></a>1.åˆ‡ç‚¹ã€åˆ‡é¢</h3><p><img src="https://i.loli.net/2019/05/26/5cea9b12c0d0879436.jpg" alt=""></p><ol><li>çº¢è‰²çš„åœ°æ–¹å°±æ˜¯åˆ‡é¢ï¼Œå¢åŠ é¢å¤–çš„åŠŸèƒ½</li><li>è¿æ¥ç‚¹+å¢åŠ åŠŸèƒ½çš„ä½ç½® = åˆ‡ç‚¹</li></ol><h3 id="2-é¡¹ç›®ç»“æ„"><a href="#2-é¡¹ç›®ç»“æ„" class="headerlink" title="2.é¡¹ç›®ç»“æ„"></a>2.é¡¹ç›®ç»“æ„</h3><p><img src="https://i.loli.net/2019/05/26/5cea9b116b7d491093.jpg" alt=""></p><h3 id="3-jaråŒ…"><a href="#3-jaråŒ…" class="headerlink" title="3.jaråŒ…"></a>3.jaråŒ…</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aop --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aspects --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-expression --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-expression<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--æ–°å¢çš„jar--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/aopalliance/aopalliance --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>aopalliance<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aopalliance<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjrt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-æ ¸å¿ƒé…ç½®æ–‡ä»¶beans-xml"><a href="#4-æ ¸å¿ƒé…ç½®æ–‡ä»¶beans-xml" class="headerlink" title="4.æ ¸å¿ƒé…ç½®æ–‡ä»¶beans.xml"></a>4.æ ¸å¿ƒé…ç½®æ–‡ä»¶beans.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">"http://www.springframework.org/schema/util"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.3.xsd"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--1.å¯åŠ¨Springæ³¨è§£--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:annotation-config</span>&gt;</span><span class="tag">&lt;/<span class="name">context:annotation-config</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--2.æ‰«æ--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.hs"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--Springæä¾›äº†å¤šç§AOPçš„å®ç°æ–¹å¼ï¼Œä½†æ˜¯æˆ‘ä»¬åªç”¨ç¬¬ä¸‰æ–¹çš„AOPæ ‡å‡†æ–¹å¼--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--3.å¯åŠ¨AOPæ³¨è§£ï¼Œfalseæ˜¯ä½¿ç”¨é»˜è®¤çš„javaä»£ç†ï¼Œtrueæ˜¯ä½¿ç”¨CGLIBä»£ç†--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> <span class="attr">proxy-target-class</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="5-æ ¸å¿ƒä»£ç "><a href="#5-æ ¸å¿ƒä»£ç " class="headerlink" title="5.æ ¸å¿ƒä»£ç "></a>5.æ ¸å¿ƒä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹å¤–æä¾›çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå®Œæˆäº†åŠ æ³•/å‡æ³•/ä¹˜æ³•è¿ç®—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ArithmeticService</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">div</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¸å¿ƒä»£ç </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceImpl</span> <span class="keyword">implements</span> <span class="title">ArithmeticService</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//æ ¸å¿ƒä»£ç </span></span><br><span class="line">      <span class="keyword">int</span> result = x + y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x - y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x * y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">div</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x / y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-å®šä¹‰åˆ‡é¢"><a href="#6-å®šä¹‰åˆ‡é¢" class="headerlink" title="6.å®šä¹‰åˆ‡é¢"></a>6.å®šä¹‰åˆ‡é¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service.aspect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span> <span class="comment">//æ ‡è®°è¿™æ˜¯åˆ‡é¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//åœ¨ä½ è¿è¡Œæ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼Œå¹¶ä¸”ç›‘æ§çš„æ˜¯æ¥å£çš„æ‰§è¡ŒAddæ–¹æ³•ï¼Œvalueå¯ä»¥çœç•¥</span></span><br><span class="line">   <span class="meta">@Before</span>(value = <span class="string">"execution(int com.hs.service.ArithmeticService.add(int ,int))"</span>)</span><br><span class="line">   <span class="comment">//è¿™å¥è¯çš„æ„æ€ï¼Œ</span></span><br><span class="line">   <span class="comment">//æ‰§è¡Œè¿”å›ç±»å‹ä¸ºintï¼Œcom.hs.service.ArithmeticServiceæ¥å£ä¸‹çš„addæ–¹æ³•ï¼Œä¼ é€’çš„ä¸¤ä¸ªå‚æ•°ç±»å‹ä¸ºintï¼Œint</span></span><br><span class="line">   <span class="comment">//ç®€å•ç†è§£ä¸ºï¼Œæ¥å£é‡Œå†™çš„æ–¹æ³•ï¼Œåªæ˜¯å°‘äº†å˜é‡å€¼   int add(int x, int y);</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"@Beforeåœ¨ç¨‹åºä¹‹å‰è¿è¡Œ"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceTest</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> ArithmeticService arithmeticService;</span><br><span class="line">   <span class="keyword">private</span> ApplicationContext ac;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      <span class="keyword">this</span>.arithmeticService = <span class="keyword">this</span>.ac.getBean(<span class="string">"arithmeticServiceImpl"</span>, ArithmeticService.class);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAddMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = <span class="keyword">this</span>.arithmeticService.add(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">      System.out.println(<span class="string">"è¿è¡Œçš„ç»“æœï¼š"</span>+ result);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><p>@Beforeåœ¨ç¨‹åºä¹‹å‰è¿è¡Œ<br>è¿è¡Œçš„ç»“æœï¼š3</p><h3 id="7-å¦‚ä½•å®šä¹‰æ³¨è§£åˆ‡ç‚¹è¯´æ˜"><a href="#7-å¦‚ä½•å®šä¹‰æ³¨è§£åˆ‡ç‚¹è¯´æ˜" class="headerlink" title="7.å¦‚ä½•å®šä¹‰æ³¨è§£åˆ‡ç‚¹è¯´æ˜"></a>7.å¦‚ä½•å®šä¹‰æ³¨è§£åˆ‡ç‚¹è¯´æ˜</h3><h4 id="1-ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦"><a href="#1-ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="1.ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦"></a>1.ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Before</span>(value = <span class="string">"execution(int com.hs.service.ArithmeticService.add(int ,int)) or execution(int com.hs.service.ArithmeticService.sub(int ,int))"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   System.out.println(<span class="string">"æˆ‘å¯ä»¥ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦  &amp;&amp;(and) ||(or)"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-ä½¿ç”¨é€šé…ç¬¦â€”â€”æ¨è"><a href="#2-ä½¿ç”¨é€šé…ç¬¦â€”â€”æ¨è" class="headerlink" title="2.ä½¿ç”¨é€šé…ç¬¦â€”â€”æ¨è"></a>2.ä½¿ç”¨é€šé…ç¬¦â€”â€”æ¨è</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¯”è¾ƒæ¨è</span></span><br><span class="line"><span class="comment"> * åœ¨executionè¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œä½†æ˜¯è¯·æ³¨æ„ä»»æ„çš„è¡¨è¾¾å¼æ˜¯ ..</span></span><br><span class="line"><span class="comment"> * ç¬¬ä¸€ä¸ª*ä½ç½®ï¼šä»£è¡¨è¿”å›ä»»æ„çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment"> * ..è¡¨ç¤ºä»»æ„çš„æ„æ€ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„**</span></span><br><span class="line"><span class="comment"> * ç¬¬äºŒä¸ª* ç›‘æ§çš„ä»¥Serviceç»“å°¾çš„ç±»(æ¥å£)</span></span><br><span class="line"><span class="comment"> * ç¬¬ä¸‰ä¸ª* ç›‘æ§æ¥å£æˆ–è€…ç±»ä¸‹çš„æ‰€æœ‰çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * ..æ ‡è¯†ä»»æ„ä¸ªå‚æ•°ç±»å‹æˆ–è€…å‚æ•°çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Before</span>(value = <span class="string">"execution(* com.hs..*Service.*(..))"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   System.out.println(<span class="string">"æˆ‘å¯ä»¥ä½¿ç”¨é€šé…ç¬¦"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-å¦‚ä½•å®šä¹‰åˆ‡ç‚¹"><a href="#3-å¦‚ä½•å®šä¹‰åˆ‡ç‚¹" class="headerlink" title="3.å¦‚ä½•å®šä¹‰åˆ‡ç‚¹"></a>3.å¦‚ä½•å®šä¹‰åˆ‡ç‚¹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¦‚ä½•å®šä¹‰åˆ‡ç‚¹(å¯ä»¥éšæ„ç»„åˆ)</span></span><br><span class="line"><span class="meta">@Pointcut</span>(value = <span class="string">"execution(int com.hs.service.ArithmeticService.add(int ,int))"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addPointCut</span><span class="params">()</span> </span>&#123; &#125;   <span class="comment">//åˆ‡ç‚¹çš„åç§°æ˜¯â€œaddPointCut()â€</span></span><br><span class="line"><span class="meta">@Pointcut</span>(value = <span class="string">"execution(int com.hs.service.ArithmeticService.sub(int ,int))"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">subPointCut</span><span class="params">()</span> </span>&#123; &#125;   <span class="comment">//åˆ‡ç‚¹çš„åç§°æ˜¯â€œsubPointCut()â€</span></span><br><span class="line"><span class="meta">@Pointcut</span>(value = <span class="string">"execution(int com.hs.service.ArithmeticService.mul(int ,int))"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mulPointCut</span><span class="params">()</span> </span>&#123; &#125;   <span class="comment">//åˆ‡ç‚¹çš„åç§°æ˜¯â€œmulPointCut()â€</span></span><br><span class="line"><span class="meta">@Pointcut</span>(value = <span class="string">"addPointCut() || mulPointCut()"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addAndMulPointCut</span><span class="params">()</span> </span>&#123; &#125;<span class="comment">//åˆ‡ç‚¹çš„åç§°æ˜¯â€œaddAndMulPointCut()â€</span></span><br><span class="line"><span class="meta">@Pointcut</span>(value = <span class="string">"execution(* com.hs..service.*Service.*(..))"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">allMethodPointCut</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Before   å«å‰ç½®é€šçŸ¥ï¼Œä¹Ÿå«å‰ç½®å¢å¼º</span></span><br><span class="line"><span class="meta">@Before</span>(value = <span class="string">"addAndMulPointCut()"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   System.out.println(<span class="string">"å¦‚ä½•å®šä¹‰åˆ‡ç‚¹"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-å‰ç½®é€šçŸ¥ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ"><a href="#8-å‰ç½®é€šçŸ¥ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ" class="headerlink" title="8.å‰ç½®é€šçŸ¥ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ"></a>8.å‰ç½®é€šçŸ¥ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.å‰ç½®é€šçŸ¥(å¢å¼º)ç‰¹ç‚¹ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="meta">@Before</span>(value = <span class="string">"allMethodPointCut()"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test05</span><span class="params">(JoinPoint jp)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"==å‰ç½®é€šçŸ¥=="</span>);</span><br><span class="line"><span class="comment">//è·å–get</span></span><br><span class="line">System.out.println(Arrays.asList(jp.getArgs()));</span><br><span class="line">System.out.println(jp.getSignature().getName());</span><br><span class="line">System.out.println(jp.getTarget().getClass().getName());</span><br><span class="line">System.out.println(<span class="string">"==å‰ç½®é€šçŸ¥=="</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-åç½®é€šçŸ¥ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ"><a href="#9-åç½®é€šçŸ¥ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ" class="headerlink" title="9.åç½®é€šçŸ¥ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ"></a>9.åç½®é€šçŸ¥ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.åç½®é€šçŸ¥(å¢å¼º)ç‰¹ç‚¹ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦æ­£ç¡®éƒ½ä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="meta">@After</span>(value = <span class="string">"allMethodPointCut()"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test06</span><span class="params">(JoinPoint jp)</span> </span>&#123;</span><br><span class="line">   <span class="comment">//è·å–get</span></span><br><span class="line">   System.out.println(<span class="string">"==åç½®å¢å¼º=="</span>);</span><br><span class="line">   System.out.println(Arrays.asList(jp.getArgs()));</span><br><span class="line">   System.out.println(jp.getSignature().getName());</span><br><span class="line">   System.out.println(jp.getTarget().getClass().getName());</span><br><span class="line">   System.out.println(<span class="string">"==åç½®å¢å¼º=="</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="10-è¿”å›é€šçŸ¥-åªæœ‰ç¨‹åºæ˜¯æ­£ç¡®çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥è·å–è¿è¡Œåçš„æ•°æ®"><a href="#10-è¿”å›é€šçŸ¥-åªæœ‰ç¨‹åºæ˜¯æ­£ç¡®çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥è·å–è¿è¡Œåçš„æ•°æ®" class="headerlink" title="10.è¿”å›é€šçŸ¥:åªæœ‰ç¨‹åºæ˜¯æ­£ç¡®çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥è·å–è¿è¡Œåçš„æ•°æ®"></a>10.è¿”å›é€šçŸ¥:åªæœ‰ç¨‹åºæ˜¯æ­£ç¡®çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥è·å–è¿è¡Œåçš„æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.è¿”å›é€šçŸ¥(å¢å¼º):åªæœ‰ç¨‹åºæ˜¯æ­£ç¡®çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥è·å–è¿è¡Œåçš„æ•°æ®</span></span><br><span class="line"><span class="meta">@AfterReturning</span>(value = <span class="string">"allMethodPointCut()"</span>,returning = <span class="string">"hs"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test07</span><span class="params">(JoinPoint jp,<span class="keyword">int</span> hs)</span> </span>&#123;</span><br><span class="line">   System.out.println(<span class="string">"==è¿”å›é€šçŸ¥=="</span>);</span><br><span class="line">   System.out.println(<span class="string">"ç¨‹åºæ­£å¸¸è¿è¡Œï¼Œæ­£ç¡®çš„è¿è¡Œç»“æœä¸º==&gt;"</span>+hs);</span><br><span class="line">   System.out.println(<span class="string">"==è¿”å›é€šçŸ¥=="</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="11-å¼‚å¸¸é€šçŸ¥ï¼šåªæœ‰ç¨‹åºæ˜¯é”™è¯¯çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ"><a href="#11-å¼‚å¸¸é€šçŸ¥ï¼šåªæœ‰ç¨‹åºæ˜¯é”™è¯¯çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ" class="headerlink" title="11.å¼‚å¸¸é€šçŸ¥ï¼šåªæœ‰ç¨‹åºæ˜¯é”™è¯¯çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ"></a>11.å¼‚å¸¸é€šçŸ¥ï¼šåªæœ‰ç¨‹åºæ˜¯é”™è¯¯çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4.å¼‚å¸¸é€šçŸ¥(å¢å¼º)ï¼šåªæœ‰ç¨‹åºæ˜¯é”™è¯¯çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œ</span></span><br><span class="line"><span class="meta">@AfterThrowing</span>(value = <span class="string">"allMethodPointCut()"</span>,throwing = <span class="string">"hs"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test08</span><span class="params">(JoinPoint jp,ArithmeticException hs)</span> </span>&#123;</span><br><span class="line">   System.out.println(<span class="string">"==å¼‚å¸¸é€šçŸ¥=="</span>);</span><br><span class="line">   System.out.println(<span class="string">"ç¨‹åºè¿è¡Œé”™è¯¯==&gt;"</span>+hs);</span><br><span class="line">   System.out.println(<span class="string">"==å¼‚å¸¸é€šçŸ¥=="</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="12-ç¯ç»•é€šçŸ¥"><a href="#12-ç¯ç»•é€šçŸ¥" class="headerlink" title="12.ç¯ç»•é€šçŸ¥"></a>12.ç¯ç»•é€šçŸ¥</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5.ç¯ç»•é€šçŸ¥</span></span><br><span class="line"><span class="meta">@Around</span>(<span class="string">"allMethodPointCut()"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">test09</span><span class="params">(ProceedingJoinPoint pjp)</span> </span>&#123;</span><br><span class="line">   System.out.println(<span class="string">"å†™æŸä¸ªåŠŸèƒ½ï¼Œå‰ç½®é€šçŸ¥"</span>);</span><br><span class="line">   Object result = <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">      result = pjp.proceed(); <span class="comment">//æ‰§è¡Œç¨‹åºè¿”å›è¿è¡Œçš„ç»“æœ</span></span><br><span class="line">      System.out.println(<span class="string">"å†™æŸä¸ªåŠŸèƒ½ï¼Œè¿”å›é€šçŸ¥"</span>);</span><br><span class="line">   &#125; <span class="keyword">catch</span> (Throwable throwable) &#123;</span><br><span class="line">      throwable.printStackTrace();</span><br><span class="line">      System.out.println(<span class="string">"å†™æŸä¸ªåŠŸèƒ½ï¼Œå¼‚å¸¸é€šçŸ¥"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   System.out.println(<span class="string">"å†™æŸä¸ªåŠŸèƒ½ï¼Œåç½®é€šçŸ¥"</span>);</span><br><span class="line">   <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceTest</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> ArithmeticService arithmeticService;</span><br><span class="line">   <span class="keyword">private</span> ApplicationContext ac;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      <span class="keyword">this</span>.arithmeticService = <span class="keyword">this</span>.ac.getBean(<span class="string">"arithmeticServiceImpl"</span>, ArithmeticService.class);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAddMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = <span class="keyword">this</span>.arithmeticService.add(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">      System.out.println(<span class="string">"è¿è¡Œçš„ç»“æœï¼š"</span>+ result);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JDKåŠ¨æ€ä»£ç†ä¸CGLibåŠ¨æ€ä»£ç†å‡æ˜¯å®ç°Spring AOPçš„åŸºç¡€ï¼Œåˆ‡ç‚¹ï¼Œåˆ‡é¢ï¼Œå¦‚ä½•å®šä¹‰åˆ‡ç‚¹ï¼Œå‰ç½®ã€åç½®ã€æ”¾å›ã€å¼‚å¸¸ã€ç¯ç»•é€šçŸ¥&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆåï¼‰AOPé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†è¯´æ˜</title>
    <link href="https://heshang.ink/2018/09/03/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%8D%81%EF%BC%89AOP%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E8%AF%B4%E6%98%8E/"/>
    <id>https://heshang.ink/2018/09/03/Springå­¦ä¹ ç¬”è®°ï¼ˆåï¼‰AOPé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†è¯´æ˜/</id>
    <published>2018-09-03T05:55:34.000Z</published>
    <updated>2019-05-26T13:52:56.524Z</updated>
    
    <content type="html"><![CDATA[<p>å®ä¾‹åˆ†æï¼ŒAOPçš„é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-ä»€ä¹ˆæ˜¯AOPï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯AOPï¼Ÿ" class="headerlink" title="1.ä»€ä¹ˆæ˜¯AOPï¼Ÿ"></a>1.ä»€ä¹ˆæ˜¯AOPï¼Ÿ</h3><p>Aspect Oriented Programming with Spring é¢å‘åˆ‡é¢ï¼ˆæ–¹é¢ï¼‰ç¼–ç¨‹</p><ul><li>é¢å‘åˆ‡é¢ç¼–ç¨‹æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªè¡¥å……è€Œå·²</li><li>ç™½è¯ï¼šæˆ‘çš„ç†è§£â€”-&gt;åœ¨ä¸æ”¹å˜åŸæ¥çš„ä»£ç çš„åŸºç¡€ä¸Šå¢å¼ºï¼ˆå¢åŠ ï¼‰æ–°çš„åŠŸèƒ½</li></ul><h3 id="2-ä»£ç ç»“æ„"><a href="#2-ä»£ç ç»“æ„" class="headerlink" title="2.ä»£ç ç»“æ„"></a>2.ä»£ç ç»“æ„</h3><p><img src="https://i.loli.net/2019/05/26/5cea9a372fbf210108.jpg" alt=""></p><h3 id="3-æƒ…æ™¯æè¿°å¼•å‘é™æ€ä»£ç†"><a href="#3-æƒ…æ™¯æè¿°å¼•å‘é™æ€ä»£ç†" class="headerlink" title="3.æƒ…æ™¯æè¿°å¼•å‘é™æ€ä»£ç†"></a>3.æƒ…æ™¯æè¿°å¼•å‘é™æ€ä»£ç†</h3><p>å¦‚æœç°åœ¨è®©ä½ å®Œæˆä¸€ä¸ª2ä¸ªæ•°çš„å››åˆ™è¿ç®—</p><ul><li><p>æ ¸å¿ƒä¸šåŠ¡å®Œæˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹å¤–æä¾›çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå®Œæˆäº†åŠ æ³•/å‡æ³•/ä¹˜æ³•/é™¤æ³•è¿ç®—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ArithmeticService</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">div</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¸å¿ƒä»£ç </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceImpl</span> <span class="keyword">implements</span> <span class="title">ArithmeticService</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//æ ¸å¿ƒä»£ç </span></span><br><span class="line">      <span class="keyword">int</span> result = x + y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x - y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x * y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">div</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = x / y;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å®Œæˆäº†ï¼Œå’Œå°šâ€”&gt;æŠ€æœ¯ç»ç†â€”&gt;å®šä¹‰æ¥å£ï¼Œæ‚Ÿç©ºç¨‹åºå‘˜â€”&gt;æ¥å£å®ç°ç±»</p></li><li><p>äº¤å·¥å®¢æˆ·é¾™ç‹ï¼Œé¾™ç‹éœ€è¦æ˜¾ç¤ºä¼ é€’æ•°æ®çš„ä¿¡æ¯åŠŸèƒ½â€”&gt;å’Œå°šâ€”&gt;æ‚Ÿç©ºå®Œæˆå®¢æˆ·éœ€æ±‚ï¼Œä½†æ˜¯ä¸‡ä¸€å¦‚æœåˆä¸è¦è¿™ä¸ªåŠŸèƒ½å‘¢ï¼Œç°åœ¨å¼•å‡ºé™æ€ä»£ç†ï¼Œåœ¨æ ¸å¿ƒä»£ç çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„åŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–°å¢åŠ çš„åŠŸèƒ½,é‡‡ç”¨é™æ€ä»£ç†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceLogImpl</span> <span class="keyword">implements</span> <span class="title">ArithmeticService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//å£°æ˜ä¸€ä¸ªæ ¸å¿ƒä»£ç ç±»çš„å˜é‡ï¼Œä¸ºäº†åé¢æ–¹ä¾¿è°ƒç”¨æ ¸å¿ƒä»£ç çš„åŠŸèƒ½</span></span><br><span class="line">   <span class="keyword">private</span> ArithmeticServiceImpl asc = <span class="keyword">new</span> ArithmeticServiceImpl();</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//åå¢åŠ çš„æŸä¸ªåŠŸèƒ½</span></span><br><span class="line">      System.out.println(<span class="string">"åŠ æ³•ä¼ é€’çš„å‚æ•°===&gt;x="</span>+x+<span class="string">",y="</span>+y);</span><br><span class="line"><span class="comment">//    ç„¶åè°ƒç”¨æ ¸å¿ƒä»£ç çš„åŠŸèƒ½</span></span><br><span class="line">      <span class="keyword">return</span> asc.add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"å‡æ³•ä¼ é€’çš„å‚æ•°===&gt;x="</span>+x+<span class="string">",y="</span>+y);</span><br><span class="line">      <span class="keyword">return</span> asc.sub(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"ä¹˜æ³•ä¼ é€’çš„å‚æ•°===&gt;x="</span>+x+<span class="string">",y="</span>+y);</span><br><span class="line">      <span class="keyword">return</span> asc.mul(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">div</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"é™¤æ³•ä¼ é€’çš„å‚æ•°===&gt;x="</span>+x+<span class="string">",y="</span>+y);</span><br><span class="line">      <span class="keyword">return</span> asc.mul(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.proxy.ArithmeticServiceProxy;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticService;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ArithmeticService arithmeticService;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span> <span class="comment">//åœ¨æ¯ä¸ªå•å…ƒæµ‹è¯•è¿è¡Œä¹‹å‰éƒ½è¦è¿›è¡Œè¿™ä¸ªæ–¹æ³•</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.arithmeticService = <span class="keyword">new</span> ArithmeticServiceLogImpl();<span class="comment">//new ArithmeticServiceImpl();    //æƒ³ç”¨å“ªä¸ªåŠŸèƒ½å°±å®ä¾‹åŒ–å“ªä¸ªç±»</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAddMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = <span class="keyword">this</span>.arithmeticService.add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">      System.out.println(result);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-åŠ¨æ€ä»£ç†"><a href="#4-åŠ¨æ€ä»£ç†" class="headerlink" title="4.åŠ¨æ€ä»£ç†"></a>4.åŠ¨æ€ä»£ç†</h3><p>æ¥å£å’Œæ ¸å¿ƒä»£ç ä¸å˜ï¼Œ</p><p>ä»£ç†ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»£ç†ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceProxy</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//å®šä¹‰ä¸€ä¸ªæ¥å£å˜é‡</span></span><br><span class="line">   <span class="keyword">private</span> ArithmeticService arithmeticService;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">ArithmeticServiceProxy</span><span class="params">(ArithmeticService arithmeticService)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.arithmeticService = arithmeticService;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">      <span class="comment">//å†™äº†æŸä¸ªåŠŸèƒ½ï¼Œä¸ç®¡ç¨‹åºæœ‰æ²¡æœ‰é”™è¯¯éƒ½æ‰§è¡Œ</span></span><br><span class="line">      System.out.println(<span class="string">"åœ¨è¿è¡Œæ–¹æ³•["</span> + method.getName() + <span class="string">"]ä¹‹å‰æ‰§è¡Œï¼Œä¼ é€’çš„å‚æ•°ä¸º"</span> + Arrays.asList(args));</span><br><span class="line">      Object result = <span class="keyword">null</span>;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">         result = method.invoke(<span class="keyword">this</span>.arithmeticService, args);</span><br><span class="line">         <span class="comment">//å†™äº†æŸä¸ªåŠŸèƒ½ï¼Œåªæœ‰ç¨‹åºæ²¡æœ‰é”™è¯¯æ‰æ‰§è¡Œ</span></span><br><span class="line">         System.out.println(<span class="string">"è¿è¡Œæ–¹æ³•æˆåŠŸï¼Œç»“æœä¸ºï¼š"</span>+result);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">         <span class="comment">//å†™äº†æŸä¸ªåŠŸèƒ½ï¼Œç¨‹åºæœ‰é”™è¯¯çš„æ—¶å€™æ‰æ‰§è¡Œ</span></span><br><span class="line">         System.out.println(<span class="string">"æ‰§è¡Œçš„æ–¹æ³•é”™è¯¯"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//å†™äº†æŸä¸ªåŠŸèƒ½ï¼Œä¸ç®¡ç¨‹åºæœ‰æ²¡æœ‰é”™è¯¯éƒ½æ‰§è¡Œ</span></span><br><span class="line">      System.out.println(<span class="string">"åœ¨è¿è¡Œæ–¹æ³•ä¹‹åæ‰§è¡Œ"</span>);</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.proxy.ArithmeticServiceProxy;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticService;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.ArithmeticServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArithmeticServiceTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ArithmeticService arithmeticService;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span> <span class="comment">//å†æ¯ä¸ªå•å…ƒæµ‹è¯•è¿è¡Œä¹‹å‰éƒ½è¦è¿›è¡Œè¿™ä¸ªæ–¹æ³•</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.arithmeticService = <span class="keyword">new</span> ArithmeticServiceImpl();    <span class="comment">//æƒ³ç”¨å“ªä¸ªåŠŸèƒ½å°±å®ä¾‹åŒ–å“ªä¸ª</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * åŠ¨æ€ä»£ç†</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="comment">//å®ä¾‹åŒ–ä»£ç†ç±»</span></span><br><span class="line">      ArithmeticServiceProxy asp = <span class="keyword">new</span> ArithmeticServiceProxy(<span class="keyword">this</span>.arithmeticService);</span><br><span class="line"><span class="comment">//      å›ºå®šå†™æ³•</span></span><br><span class="line">      ArithmeticService as = (ArithmeticService) Proxy.newProxyInstance(ArithmeticServiceImpl.class.getClassLoader(), ArithmeticServiceImpl.class.getInterfaces(), asp);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">int</span> result = as.div(<span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line">      System.out.println(result);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®ä¾‹åˆ†æï¼ŒAOPçš„é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆä¹ï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹æ³¨è§£ç‰ˆ-å®˜æ–¹æ¨èç‰ˆ</title>
    <link href="https://heshang.ink/2018/09/02/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B9%9D%EF%BC%89%E6%A8%A1%E6%8B%9F%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E7%9A%84%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B%E6%B3%A8%E8%A7%A3%E7%89%88-%E5%AE%98%E6%96%B9%E6%8E%A8%E8%8D%90%E7%89%88/"/>
    <id>https://heshang.ink/2018/09/02/Springå­¦ä¹ ç¬”è®°ï¼ˆä¹ï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹æ³¨è§£ç‰ˆ-å®˜æ–¹æ¨èç‰ˆ/</id>
    <published>2018-09-02T12:50:57.000Z</published>
    <updated>2019-05-26T13:51:31.462Z</updated>
    
    <content type="html"><![CDATA[<p>ç”¨@Repositoryã€@Service å’Œ @Constrollerï¼Œä»£æ›¿@Componentï¼ŒçŸ¥åè§æ„ï¼ŒçŸ¥é“æ˜¯å“ªä¸€å±‚ï¼Œ@Autowiredä»£æ›¿@Resourceã€‚</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-Repositoryã€-Service-å’Œ-Constrollerä»£æ›¿-Component"><a href="#1-Repositoryã€-Service-å’Œ-Constrollerä»£æ›¿-Component" class="headerlink" title="1.@Repositoryã€@Service å’Œ @Constrollerä»£æ›¿@Component"></a>1.@Repositoryã€@Service å’Œ @Constrollerä»£æ›¿@Component</h3><ul><li>@Repositoryï¼šæŒä¹…åŒ–å±‚ã€æ•°æ®è®¿é—®å±‚ã€ä¹Ÿå°±æ˜¯daoå±‚ï¼Œå†™åœ¨è¿™ä¸Šé¢ï¼ŒåŠŸèƒ½è·Ÿ@Componentï¼Œåªæ˜¯ä¸ºäº†çŸ¥åè§æ„</li><li>@Serviceï¼šå†™åœ¨Serviceå±‚ï¼Œä¸šåŠ¡é€»è¾‘å±‚</li><li>@Controllerï¼šå†™åœ¨æ§åˆ¶å±‚ï¼Œä¹Ÿå°±æ˜¯SpringMvcé‚£å±‚</li></ul><h3 id="2-Autowiredä»£æ›¿-Resource"><a href="#2-Autowiredä»£æ›¿-Resource" class="headerlink" title="2.@Autowiredä»£æ›¿@Resource"></a>2.@Autowiredä»£æ›¿@Resource</h3><ul><li>@Autowiredæ˜¯Springè‡ªå·±çš„ï¼Œ@Resourceä¸æ˜¯Springçš„</li><li>é¢è¯•é¢˜ï¼š@Resourceå’Œ@Autowiredçš„åŒºåˆ«ï¼š<ul><li>@Resourceå…ˆæŒ‰åç§°å†æŒ‰ç…§ç±»å‹æŸ¥æ‰¾</li><li>@Autowiredå…ˆæŒ‰ç±»å‹å†æŒ‰ç…§åç§°æŸ¥æ‰¾</li><li>@Qualifier(â€œbookDaoImplâ€)//æŒ‡æ˜IDçš„åå­—</li></ul></li></ul><h3 id="3-é¡¹ç›®ç»“æ„-jaråŒ…ä¸€æ ·"><a href="#3-é¡¹ç›®ç»“æ„-jaråŒ…ä¸€æ ·" class="headerlink" title="3.é¡¹ç›®ç»“æ„(jaråŒ…ä¸€æ ·)"></a>3.é¡¹ç›®ç»“æ„(jaråŒ…ä¸€æ ·)</h3><p><img src="https://i.loli.net/2019/05/26/5cea99e06360b12140.jpg" alt=""></p><h3 id="4-æ ¸å¿ƒé…ç½®æ–‡ä»¶beans-xml"><a href="#4-æ ¸å¿ƒé…ç½®æ–‡ä»¶beans-xml" class="headerlink" title="4.æ ¸å¿ƒé…ç½®æ–‡ä»¶beans.xml"></a>4.æ ¸å¿ƒé…ç½®æ–‡ä»¶beans.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">"http://www.springframework.org/schema/util"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.3.xsd"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--1.å¯åŠ¨Springæ³¨è§£--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:annotation-config</span>&gt;</span><span class="tag">&lt;/<span class="name">context:annotation-config</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--2.æ‰«æ--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.hs"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="5-daoå±‚"><a href="#5-daoå±‚" class="headerlink" title="5.daoå±‚"></a>5.daoå±‚</h3><p>UserDao.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDaoImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Component//(value = "userDao")  //ç›¸å½“äº&lt;bean id="userDaoImpl" class="com.hs.dao.impl.UserDaoImpl"/&gt;</span></span><br><span class="line"><span class="meta">@Repository</span> <span class="comment">//è·Ÿä¸Šé¢æ„æ€ä¸€æ ·ï¼Œåªæ˜¯ä¸ºäº†çŸ¥åè§æ„</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserDaoå±‚çš„å®ç°ç±»---&gt;ADD"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-Serviceå±‚"><a href="#6-Serviceå±‚" class="headerlink" title="6.Serviceå±‚"></a>6.Serviceå±‚</h3><p>UserService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Component  //ç›¸å½“äº&lt;bean id="userServiceImpl" class="com.hs.service.impl.UserServiceImpl"&gt;</span></span><br><span class="line"><span class="meta">@Service</span>    <span class="comment">//è·Ÿä¸Šé¢æ„æ€ä¸€æ ·ï¼Œåªæ˜¯ä¸ºäº†çŸ¥åè§æ„</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> UserDao <span class="title">getUserDao</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> userDao;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//é¢è¯•é¢˜ï¼šResourceå’ŒAutowiredçš„åŒºåˆ«</span></span><br><span class="line">   <span class="comment">//@Resourceå…ˆæŒ‰åç§°å†æŒ‰ç…§ç±»å‹æŸ¥æ‰¾</span></span><br><span class="line">   <span class="comment">//@Autowiredå…ˆæŒ‰ç±»å‹å†æŒ‰ç…§åç§°æŸ¥æ‰¾</span></span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="comment">//æŒ‡æ˜idåå­—</span></span><br><span class="line">   <span class="meta">@Qualifier</span>(value = <span class="string">"userDaoImpl"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserServiceå±‚çš„å®ç°ç±»---&gt;ADD"</span>);</span><br><span class="line">      <span class="keyword">this</span>.userDao.add();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-Controllerå±‚"><a href="#7-Controllerå±‚" class="headerlink" title="7.Controllerå±‚"></a>7.Controllerå±‚</h3><p>UserController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Component  //ç›¸å½“äº&lt;bean id="userController" class="com.hs.web.UserController"/&gt;</span></span><br><span class="line"><span class="meta">@Controller</span> <span class="comment">//è·Ÿä¸Šé¢æ„æ€ä¸€æ ·ï¼Œåªæ˜¯ä¸ºäº†çŸ¥åè§æ„</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> UserService <span class="title">getUserService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> userService;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserControllerå±‚---&gt;ADD"</span>);</span><br><span class="line">      <span class="keyword">this</span>.userService.add();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-æµ‹è¯•"><a href="#8-æµ‹è¯•" class="headerlink" title="8.æµ‹è¯•"></a>8.æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.web.UserController;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodTest</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      ApplicationContext applicationContext = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      UserController controller = applicationContext.getBean(<span class="string">"userController"</span>, UserController.class);</span><br><span class="line">      controller.add();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><p>UserControllerå±‚â€”&gt;ADD<br>UserServiceå±‚çš„å®ç°ç±»â€”&gt;ADD<br>UserDaoå±‚çš„å®ç°ç±»â€”&gt;ADD</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”¨@Repositoryã€@Service å’Œ @Constrollerï¼Œä»£æ›¿@Componentï¼ŒçŸ¥åè§æ„ï¼ŒçŸ¥é“æ˜¯å“ªä¸€å±‚ï¼Œ@Autowiredä»£æ›¿@Resourceã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆå…«ï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹æ³¨è§£ç‰ˆ-ä¼ ç»Ÿæ–¹å¼</title>
    <link href="https://heshang.ink/2018/09/02/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AB%EF%BC%89%E6%A8%A1%E6%8B%9F%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E7%9A%84%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B%E6%B3%A8%E8%A7%A3%E7%89%88-%E4%BC%A0%E7%BB%9F%E6%96%B9%E5%BC%8F/"/>
    <id>https://heshang.ink/2018/09/02/Springå­¦ä¹ ç¬”è®°ï¼ˆå…«ï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹æ³¨è§£ç‰ˆ-ä¼ ç»Ÿæ–¹å¼/</id>
    <published>2018-09-02T09:42:32.000Z</published>
    <updated>2019-05-26T13:50:42.125Z</updated>
    
    <content type="html"><![CDATA[<p>ä¼ ç»Ÿçš„@Componentå’Œ@Resource(ç­‰ä»·äºXMLç‰ˆsetteræ³¨å…¥)ä½¿ç”¨è¯´æ˜</p><p>@Componentæ˜¯ä¸ªæ³›åŒ–æ¦‚å¿µï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•å±‚æ¬¡</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-é¡¹ç›®ç»“æ„-jaråŒä¸Š"><a href="#1-é¡¹ç›®ç»“æ„-jaråŒä¸Š" class="headerlink" title="1.é¡¹ç›®ç»“æ„(jaråŒä¸Š)"></a>1.é¡¹ç›®ç»“æ„(jaråŒä¸Š)</h3><p><img src="https://i.loli.net/2019/05/26/5cea99b0028ae72335.jpg" alt=""></p><h3 id="2-æ ¸å¿ƒé…ç½®æ–‡ä»¶beans-xml"><a href="#2-æ ¸å¿ƒé…ç½®æ–‡ä»¶beans-xml" class="headerlink" title="2.æ ¸å¿ƒé…ç½®æ–‡ä»¶beans.xml"></a>2.æ ¸å¿ƒé…ç½®æ–‡ä»¶beans.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">"http://www.springframework.org/schema/util"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.3.xsd"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--1.å¯åŠ¨Springæ³¨è§£--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:annotation-config</span>&gt;</span><span class="tag">&lt;/<span class="name">context:annotation-config</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--2.æ‰«æ--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.hs"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-daoå±‚"><a href="#3-daoå±‚" class="headerlink" title="3.daoå±‚"></a>3.daoå±‚</h3><p>userDao.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDaoImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span><span class="comment">//(value = "userDao")  //ç›¸å½“äº&lt;bean id="userDaoImpl" class="com.hs.dao.impl.UserDaoImpl"/&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserDaoå±‚çš„å®ç°ç±»---&gt;ADD"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-Serviceå±‚"><a href="#4-Serviceå±‚" class="headerlink" title="4.Serviceå±‚"></a>4.Serviceå±‚</h3><p>UserService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>  <span class="comment">//ç›¸å½“äº&lt;bean id="userServiceImpl" class="com.hs.service.impl.UserServiceImpl"&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> UserDao <span class="title">getUserDao</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> userDao;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/*ç›¸å½“äº&lt;property name="userDao"&gt;</span></span><br><span class="line"><span class="comment">         &lt;ref bean="userDaoImpl"/&gt;</span></span><br><span class="line"><span class="comment">      &lt;/property&gt;*/</span></span><br><span class="line">   <span class="meta">@Resource</span>(name = <span class="string">"userDaoImpl"</span>)</span><br><span class="line">   <span class="comment">//ä¸‹é¢çš„æŸ¥æ‰¾é¡ºåº å…ˆæŒ‰ç…§åå­—è¿›è¡Œæœç´¢(æ²¡æœ‰å†™åå­—é»˜è®¤å°±æ˜¯setåé¢é‚£ä¸ªåå­—) å†æŒ‰ç…§ç±»å‹è¿›è¡Œæœç´¢(UserDaoçš„å®ç°ç±»)</span></span><br><span class="line">   <span class="comment">//@Resource</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserServiceå±‚çš„å®ç°ç±»---&gt;ADD"</span>);</span><br><span class="line">      <span class="keyword">this</span>.userDao.add();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="çŸ¥è¯†ç‚¹ï¼š-Resourceæ³¨è§£"><a href="#çŸ¥è¯†ç‚¹ï¼š-Resourceæ³¨è§£" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š@Resourceæ³¨è§£"></a>çŸ¥è¯†ç‚¹ï¼š@Resourceæ³¨è§£</h4><blockquote><ul><li><p>å…ˆæŒ‰åç§°æœç´¢ï¼Œå†æŒ‰ç…§ç±»å‹æœç´¢</p></li><li><p>æ˜¯javaxä¸‹çš„ï¼Œä¸æ˜¯Springè‡ªå¸¦çš„</p></li><li>åé¢ä¼šæœ‰Springè‡ªå¸¦çš„æ³¨è§£@Autowiredæ¨è</li></ul></blockquote><h3 id="5-Controllerå±‚"><a href="#5-Controllerå±‚" class="headerlink" title="5.Controllerå±‚"></a>5.Controllerå±‚</h3><p>UserController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>  <span class="comment">//ç›¸å½“äº&lt;bean id="userController" class="com.hs.web.UserController"/&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">   <span class="comment">//ç®€å†™æ–¹å¼ï¼Œå†™ä¸ªå°±ä¸ç”¨å†™setæ–¹æ³•äº†</span></span><br><span class="line">   <span class="comment">//å¦‚æœä½ æ‰€åœ¨çš„å…¬å¸ç”¨äº†æµ‹è¯•æ¡†æ¶(ä¸æ˜¯æˆ‘ç°åœ¨ç”¨çš„å•å…ƒæµ‹è¯•æ¡†æ¶)ï¼Œé‚£ä¹ˆä¸å»ºè®®ä½¿ç”¨ç®€å†™æ–¹å¼ï¼Œå¯¹æµ‹è¯•æœ‰å½±å“</span></span><br><span class="line">   <span class="comment">//@Resource(name = "userServiceImpl")</span></span><br><span class="line">   <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> UserService <span class="title">getUserService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> userService;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Resource</span>(name = <span class="string">"userServiceImpl"</span>) <span class="comment">//ç›¸å½“äºp:userService-ref="userServiceImpl"</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserService</span><span class="params">(UserService userService)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.userService = userService;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserControllerå±‚---&gt;ADD"</span>);</span><br><span class="line">      <span class="keyword">this</span>.userService.add();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-æµ‹è¯•"><a href="#6-æµ‹è¯•" class="headerlink" title="6.æµ‹è¯•"></a>6.æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.web.UserController;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodTest</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      ApplicationContext applicationContext = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      UserController controller = applicationContext.getBean(<span class="string">"userController"</span>, UserController.class);</span><br><span class="line">      controller.add();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¼ ç»Ÿçš„@Componentå’Œ@Resource(ç­‰ä»·äºXMLç‰ˆsetteræ³¨å…¥)ä½¿ç”¨è¯´æ˜&lt;/p&gt;
&lt;p&gt;@Componentæ˜¯ä¸ªæ³›åŒ–æ¦‚å¿µï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•å±‚æ¬¡&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆä¸ƒï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹XMLç‰ˆ-Setteræ–¹å¼æ³¨å…¥</title>
    <link href="https://heshang.ink/2018/09/02/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89%E6%A8%A1%E6%8B%9F%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E7%9A%84%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8BXML%E7%89%88-Setter%E6%96%B9%E5%BC%8F%E6%B3%A8%E5%85%A5/"/>
    <id>https://heshang.ink/2018/09/02/Springå­¦ä¹ ç¬”è®°ï¼ˆä¸ƒï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹XMLç‰ˆ-Setteræ–¹å¼æ³¨å…¥/</id>
    <published>2018-09-02T07:16:56.000Z</published>
    <updated>2019-05-26T13:52:14.469Z</updated>
    
    <content type="html"><![CDATA[<p>æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹XMLç‰ˆ-Setteræ–¹å¼æ³¨å…¥</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-é¡¹ç›®ç»“æ„"><a href="#1-é¡¹ç›®ç»“æ„" class="headerlink" title="1.é¡¹ç›®ç»“æ„"></a>1.é¡¹ç›®ç»“æ„</h3><p><img src="https://i.loli.net/2019/05/26/5cea9a0c76bff39411.jpg" alt=""></p><h3 id="2-jaråŒ…è·Ÿä¸Šä¸ªä¸€æ ·"><a href="#2-jaråŒ…è·Ÿä¸Šä¸ªä¸€æ ·" class="headerlink" title="2.jaråŒ…è·Ÿä¸Šä¸ªä¸€æ ·"></a>2.jaråŒ…è·Ÿä¸Šä¸ªä¸€æ ·</h3><h3 id="3-é‡å†™setæ–¹æ³•"><a href="#3-é‡å†™setæ–¹æ³•" class="headerlink" title="3.é‡å†™setæ–¹æ³•"></a>3.é‡å†™setæ–¹æ³•</h3><p>UserServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userDaoImpl"</span> <span class="attr">class</span>=<span class="string">"com.hs.dao.impl.UserDaoImpl"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç›¸å½“äºuserDao = new userDaoImpl()--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userServiceImpl"</span> <span class="attr">class</span>=<span class="string">"com.hs.service.impl.UserServiceImpl"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"userDao"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"userDaoImpl"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨setæ–¹æ³•é‡Œä»£æ›¿å®Œæˆäº†ï¼Œ<code>private UserDao userDao = new userDaoImpl();</code></p><p>UserController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserService</span><span class="params">(UserService userService)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.userService = userService;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userServiceImpl"</span> <span class="attr">class</span>=<span class="string">"com.hs.service.impl.UserServiceImpl"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"userDao"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"userDaoImpl"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å…ˆUserController = new UserController()</span></span><br><span class="line"><span class="comment">   å†userService = new userServiceImpl();</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userController"</span> <span class="attr">class</span>=<span class="string">"com.hs.web.UserController"</span> <span class="attr">p:userService-ref</span>=<span class="string">"userServiceImpl"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--&lt;property name="userService" ref="userServiceImpl"/&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨setæ–¹æ³•é‡Œä»£æ›¿å®Œæˆäº†<code>private UserService userService = new userServiceImpl();</code></p><h3 id="4-æµ‹è¯•"><a href="#4-æµ‹è¯•" class="headerlink" title="4.æµ‹è¯•"></a>4.æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.web.UserController;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodTest</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      ApplicationContext applicationContext = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">      UserController controller = applicationContext.getBean(<span class="string">"userController"</span>, UserController.class);</span><br><span class="line">      controller.add();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><p>UserControllerå±‚â€”&gt;ADD<br>UserServiceå±‚çš„å®ç°ç±»â€”&gt;ADD<br>UserDaoå±‚çš„å®ç°ç±»â€”&gt;ADD</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹XMLç‰ˆ-Setteræ–¹å¼æ³¨å…¥&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆå…­ï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹XMLç‰ˆ-æ„é€ å‡½æ•°æ³¨å…¥</title>
    <link href="https://heshang.ink/2018/09/02/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89%E6%A8%A1%E6%8B%9F%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E7%9A%84%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8BXML%E7%89%88-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%B3%A8%E5%85%A5/"/>
    <id>https://heshang.ink/2018/09/02/Springå­¦ä¹ ç¬”è®°ï¼ˆå…­ï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘è¿‡ç¨‹çš„è°ƒç”¨è¿‡ç¨‹XMLç‰ˆ-æ„é€ å‡½æ•°æ³¨å…¥/</id>
    <published>2018-09-02T07:01:35.000Z</published>
    <updated>2019-05-26T13:51:51.979Z</updated>
    
    <content type="html"><![CDATA[<p>ç”¨Springçš„XMLç‰ˆçš„æ„é€ å‡½æ•°æ³¨å…¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-é¡¹ç›®ç»“æ„"><a href="#1-é¡¹ç›®ç»“æ„" class="headerlink" title="1.é¡¹ç›®ç»“æ„"></a>1.é¡¹ç›®ç»“æ„</h3><p><img src="https://i.loli.net/2019/05/26/5cea99f67c47b16423.jpg" alt=""></p><h3 id="2-jaråŒ…"><a href="#2-jaråŒ…" class="headerlink" title="2.jaråŒ…"></a>2.jaråŒ…</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aop --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aspects --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-expression --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-expression<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-ä»£æ›¿private-UserDao-userDao-new-userDaoImpl"><a href="#3-ä»£æ›¿private-UserDao-userDao-new-userDaoImpl" class="headerlink" title="3.ä»£æ›¿private UserDao userDao = new userDaoImpl();"></a>3.ä»£æ›¿<code>private UserDao userDao = new userDaoImpl();</code></h3><p>UserServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.UserService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">UserServiceImpl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">UserServiceImpl</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserServiceå±‚çš„å®ç°ç±»---&gt;ADD"</span>);</span><br><span class="line">      userDao.add();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å®ä¾‹åŒ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userDaoImpl"</span> <span class="attr">class</span>=<span class="string">"com.hs.dao.impl.UserDaoImpl"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é€šè¿‡æ„é€ å‡½æ•°å®ä¾‹åŒ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userServiceImpl"</span> <span class="attr">class</span>=<span class="string">"com.hs.service.impl.UserServiceImpl"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"userDao"</span> <span class="attr">ref</span>=<span class="string">"userDaoImpl"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤æ®µä»£ç ç›¸å½“äºï¼Œå®Œæˆäº†<code>private UserDao userDao = new userDaoImpl();</code></p><h3 id="4-ä»£æ›¿private-UserService-userService-new-userServiceImpl"><a href="#4-ä»£æ›¿private-UserService-userService-new-userServiceImpl" class="headerlink" title="4.ä»£æ›¿private UserService userService = new userServiceImpl();"></a>4.ä»£æ›¿<code>private UserService userService = new userServiceImpl();</code></h3><p>UserController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.UserService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">UserController</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">UserController</span><span class="params">(UserService userService)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.userService = userService;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserControllerå±‚---&gt;ADD"</span>);</span><br><span class="line">      userService.add();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userServiceImpl"</span> <span class="attr">class</span>=<span class="string">"com.hs.service.impl.UserServiceImpl"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"userDao"</span> <span class="attr">ref</span>=<span class="string">"userDaoImpl"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userController"</span> <span class="attr">class</span>=<span class="string">"com.hs.web.UserController"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"userService"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"userServiceImpl"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤æ®µä»£ç ç›¸å½“äºï¼Œå®Œæˆäº†<code>private UserService userService = new userServiceImpl();</code></p><h3 id="5-ä»£æ›¿UserController-userController-new-UserController"><a href="#5-ä»£æ›¿UserController-userController-new-UserController" class="headerlink" title="5.ä»£æ›¿UserController userController = new UserController();"></a>5.ä»£æ›¿UserController userController = new UserController();</h3><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.web.UserController;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//1.è¯»å–é…ç½®æ–‡ä»¶</span></span><br><span class="line">ApplicationContext applicationContext = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">        <span class="comment">//è·å–xmlç‰ˆæœ¬é‡Œçš„UserController userController = new UserController();</span></span><br><span class="line">UserController userController = applicationContext.getBean(<span class="string">"userController"</span>, UserController.class);</span><br><span class="line">userController.add();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><p>UserControllerå±‚â€”&gt;ADD<br>UserServiceå±‚çš„å®ç°ç±»â€”&gt;ADD<br>UserDaoå±‚çš„å®ç°ç±»â€”&gt;ADD</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”¨Springçš„XMLç‰ˆçš„æ„é€ å‡½æ•°æ³¨å…¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆäº”ï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘çš„è°ƒç”¨è¿‡ç¨‹</title>
    <link href="https://heshang.ink/2018/09/02/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%94%EF%BC%89%E6%A8%A1%E6%8B%9F%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E7%9A%84%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B/"/>
    <id>https://heshang.ink/2018/09/02/Springå­¦ä¹ ç¬”è®°ï¼ˆäº”ï¼‰æ¨¡æ‹Ÿå®é™…å¼€å‘çš„è°ƒç”¨è¿‡ç¨‹/</id>
    <published>2018-09-02T06:41:06.000Z</published>
    <updated>2019-05-26T13:57:30.697Z</updated>
    
    <content type="html"><![CDATA[<p>ç”¨ä¼ ç»Ÿæ–¹å¼(ä»¥å‰çš„çŸ¥è¯†)æ¥æ¨¡æ‹Ÿå®é™…å¼€å‘çš„è°ƒç”¨è¿‡ç¨‹ã€‚</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-é¡¹ç›®ç»“æ„"><a href="#1-é¡¹ç›®ç»“æ„" class="headerlink" title="1.é¡¹ç›®ç»“æ„"></a>1.é¡¹ç›®ç»“æ„</h3><p><img src="https://i.loli.net/2019/05/26/5cea9b48f2bc335795.jpg" alt=""></p><h3 id="2-jaråŒ…"><a href="#2-jaråŒ…" class="headerlink" title="2.jaråŒ…"></a>2.jaråŒ…</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-daoå±‚"><a href="#3-daoå±‚" class="headerlink" title="3.daoå±‚"></a>3.daoå±‚</h3><p>UserDao.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDaoImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.dao.UserDao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserDaoå±‚çš„å®ç°ç±»---&gt;ADD"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-Serviceå±‚"><a href="#4-Serviceå±‚" class="headerlink" title="4.Serviceå±‚"></a>4.Serviceå±‚</h3><p>UserService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.hs.dao.impl.UserDaoImpl;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.UserService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">   <span class="comment">//å»ºç«‹è”ç³»ï¼ˆä¸€å…±æœ‰ä¸‰ç§æ–¹å¼ï¼‰</span></span><br><span class="line">   <span class="keyword">private</span> UserDao userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserServiceå±‚çš„å®ç°ç±»---&gt;ADD"</span>);</span><br><span class="line">      <span class="keyword">this</span>.userDao.add();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-Controllerå±‚"><a href="#5-Controllerå±‚" class="headerlink" title="5.Controllerå±‚"></a>5.Controllerå±‚</h3><p>UserController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.hs.service.impl.UserServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"><span class="comment">//å»ºç«‹è”ç³»</span></span><br><span class="line">   <span class="keyword">private</span> UserService userService = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"UserControllerå±‚---&gt;ADD"</span>);</span><br><span class="line">      <span class="keyword">this</span>.userService.add();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-æµ‹è¯•"><a href="#6-æµ‹è¯•" class="headerlink" title="6.æµ‹è¯•"></a>6.æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.hs.web.UserController;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodTest</span> </span>&#123;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * æµ‹è¯•ä¼ ç»Ÿè°ƒç”¨è¿‡ç¨‹</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      UserController userController = <span class="keyword">new</span> UserController();</span><br><span class="line">      userController.add();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><p>UserControllerå±‚â€”&gt;ADD<br>UserServiceå±‚çš„å®ç°ç±»â€”&gt;ADD<br>UserDaoå±‚çš„å®ç°ç±»â€”&gt;ADD</p><p>ç¨‹åºå°±æ˜¯ä¸€å±‚ä¸€å±‚è°ƒç”¨ï¼Œå…ˆè°ƒç”¨Controllerå±‚â€”&gt;Serviceå±‚â€”&gt;Daoå±‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”¨ä¼ ç»Ÿæ–¹å¼(ä»¥å‰çš„çŸ¥è¯†)æ¥æ¨¡æ‹Ÿå®é™…å¼€å‘çš„è°ƒç”¨è¿‡ç¨‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰Springçš„æ³¨å…¥æ–¹å¼-Setteræ–¹å¼æ¨è</title>
    <link href="https://heshang.ink/2018/08/23/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89Spring%E7%9A%84%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F-Setter%E6%96%B9%E5%BC%8F%E6%8E%A8%E8%8D%90/"/>
    <id>https://heshang.ink/2018/08/23/Springå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰Springçš„æ³¨å…¥æ–¹å¼-Setteræ–¹å¼æ¨è/</id>
    <published>2018-08-23T04:57:39.000Z</published>
    <updated>2019-05-26T13:57:10.801Z</updated>
    
    <content type="html"><![CDATA[<p>Setteræ³¨å…¥çš„3ç§æ–¹å¼ï¼Œè¯»å–å±æ€§æ–‡ä»¶å–å€¼ï¼Œèµ‹å€¼ï¼šæ™®é€šå€¼ã€æ•°ç»„ï¼Œlistï¼Œsetã€Mapå’ŒPropertiesã€è‡ªå®šä¹‰ç±»å‹ã€æ¥å£å®ç°ç±»(æ¥å£å›è°ƒ)</p><a id="more"></a><p>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p><p>[TOC]</p><h3 id="1-é¡¹ç›®ç»“æ„"><a href="#1-é¡¹ç›®ç»“æ„" class="headerlink" title="1.é¡¹ç›®ç»“æ„"></a>1.é¡¹ç›®ç»“æ„</h3><p><img src="https://i.loli.net/2019/05/26/5cea9b35a548228093.jpg" alt=""></p><p>modelé‡Œçš„å†…å®¹è·Ÿä¸Šç¯‡ä¸€æ ·ï¼Œå†å†™getã€setæ–¹æ³•ã€toStringæ–¹æ³•å³å¯ï¼Œpom.xmlè§å‰å‡ ç¯‡</p><h3 id="2-Setteræ³¨å…¥çš„3ç§æ–¹å¼"><a href="#2-Setteræ³¨å…¥çš„3ç§æ–¹å¼" class="headerlink" title="2.Setteræ³¨å…¥çš„3ç§æ–¹å¼"></a>2.Setteræ³¨å…¥çš„3ç§æ–¹å¼</h3><p>Setteræ³¨å…¥æ–¹å¼ï¼Œå¿…é¡»è¦æä¾›setteræ–¹æ³•ï¼Œå¹¶ä¸”æœ‰ä¸‰ç§æ–¹å¼:æ ‡å‡†æ–¹å¼ï¼Œç¼©å†™ï¼Œpæ–¹å¼(ä¹Ÿæœ‰pæ–¹å¼å¼•ç”¨)</p><h3 id="3-æ™®é€šå€¼èµ‹å€¼"><a href="#3-æ™®é€šå€¼èµ‹å€¼" class="headerlink" title="3.æ™®é€šå€¼èµ‹å€¼"></a>3.æ™®é€šå€¼èµ‹å€¼</h3><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Setteræ³¨å…¥æ–¹å¼ï¼Œå¿…é¡»è¦æä¾›setteræ–¹æ³•ï¼Œå¹¶ä¸”æœ‰ä¸‰ç§æ–¹å¼:æ ‡å‡†æ–¹å¼ï¼Œç¼©å†™ï¼Œpæ–¹å¼(ä¹Ÿæœ‰pæ–¹å¼å¼•ç”¨)--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user01"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span> <span class="attr">p:user_name</span>=<span class="string">"å…«æˆ’"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--è¿™ä¸ªnameçš„å€¼ä¸æ˜¯å±æ€§å€¼ï¼Œæ˜¯setteræ–¹æ³•åé¢çš„å€¼é¦–å­—æ¯å°å†™--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user_id"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>100<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;property name="user_name" value="æ‚Ÿç©º"/&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-åŠ è½½å±æ€§æ–‡ä»¶"><a href="#4-åŠ è½½å±æ€§æ–‡ä»¶" class="headerlink" title="4.åŠ è½½å±æ€§æ–‡ä»¶"></a>4.åŠ è½½å±æ€§æ–‡ä»¶</h3><p>jdbc.properties</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jdbc.mysql.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.mysql.url=jdbc:mysql://localhost:3306/cy42_mss</span><br><span class="line">jdbc.mysql.username=root</span><br><span class="line">jdbc.mysql.password=root</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--3.è¯»å–å±æ€§æ–‡ä»¶ï¼ï¼$&#123;key&#125;è·å–å€¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"classpath:jdbc.properties"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="5-æ•°ç»„ã€listã€mapã€setã€properties"><a href="#5-æ•°ç»„ã€listã€mapã€setã€properties" class="headerlink" title="5.æ•°ç»„ã€listã€mapã€setã€properties"></a>5.æ•°ç»„ã€listã€mapã€setã€properties</h3><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user01"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span> <span class="attr">p:hobbySet-ref</span>=<span class="string">"hobbySetRef"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hobbyArray"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--è¿™é‡Œé¢çš„æ ‡ç­¾ï¼Œèµ‹å€¼è·Ÿæ„é€ å‡½æ•°åˆå§‹åŒ–ä¸€æ ·çš„--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>ç¯®çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¶³çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>çœ‹ä¹¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>éŸ³ä¹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¯ä»¥é‡‡ç”¨æ„é€ å‡½æ•°åˆå§‹åŒ–ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥å¼•ç”¨util:list--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hobbyList"</span> <span class="attr">ref</span>=<span class="string">"hobbyListRef"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"map"</span> <span class="attr">ref</span>=<span class="string">"mapRef"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"properties"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"class"</span>&gt;</span>$&#123;jdbc.mysql.driver&#125;<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--è¿™äº›utilï¼Œä¸ä¼šå’‹ç”¨å¯ä»¥ç™¾åº¦ï¼Œutil:xxx,list-classå¯ä»¥ä¸ç”¨å†™--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">"hobbyListRef"</span> <span class="attr">list-class</span>=<span class="string">"java.util.ArrayList"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>ç¯®çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>è¶³çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>çœ‹ä¹¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>éŸ³ä¹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">util:set</span> <span class="attr">id</span>=<span class="string">"hobbySetRef"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>ç¯®çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>è¶³çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>çœ‹ä¹¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>éŸ³ä¹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:set</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">util:map</span> <span class="attr">id</span>=<span class="string">"mapRef"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"class"</span> <span class="attr">value</span>=<span class="string">"è®¡ç®—æœº"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>å’Œå°š<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:map</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-è‡ªå®šä¹‰ç±»å‹"><a href="#6-è‡ªå®šä¹‰ç±»å‹" class="headerlink" title="6.è‡ªå®šä¹‰ç±»å‹"></a>6.è‡ªå®šä¹‰ç±»å‹</h3><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user01"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hsRole"</span> <span class="attr">ref</span>=<span class="string">"role"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"role"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.Role"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"role_name"</span> <span class="attr">value</span>=<span class="string">"è¶…çº§ç®¡ç†å‘˜"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="7-æ¥å£å®ç°ç±»-æ¥å£å›è°ƒ-ä»¥åç»å¸¸ç”¨ï¼ï¼"><a href="#7-æ¥å£å®ç°ç±»-æ¥å£å›è°ƒ-ä»¥åç»å¸¸ç”¨ï¼ï¼" class="headerlink" title="7.æ¥å£å®ç°ç±»(æ¥å£å›è°ƒ)(ä»¥åç»å¸¸ç”¨ï¼ï¼)"></a>7.æ¥å£å®ç°ç±»(æ¥å£å›è°ƒ)(ä»¥åç»å¸¸ç”¨ï¼ï¼)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user01"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span> <span class="attr">p:hsTest-ref</span>=<span class="string">"testImpl"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"testImpl"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.ITestImpl"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-æµ‹è¯•"><a href="#8-æµ‹è¯•" class="headerlink" title="8.æµ‹è¯•"></a>8.æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">   User user = ac.getBean(<span class="string">"user01"</span>,User.class);</span><br><span class="line">   System.out.println(user);</span><br><span class="line">   user.getHsTest().print();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Setteræ³¨å…¥çš„3ç§æ–¹å¼ï¼Œè¯»å–å±æ€§æ–‡ä»¶å–å€¼ï¼Œèµ‹å€¼ï¼šæ™®é€šå€¼ã€æ•°ç»„ï¼Œlistï¼Œsetã€Mapå’ŒPropertiesã€è‡ªå®šä¹‰ç±»å‹ã€æ¥å£å®ç°ç±»(æ¥å£å›è°ƒ)&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰Springçš„æ³¨å…¥æ–¹å¼-æ„é€ å‡½æ•°æ³¨å…¥</title>
    <link href="https://heshang.ink/2018/08/23/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89Spring%E7%9A%84%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%B3%A8%E5%85%A5/"/>
    <id>https://heshang.ink/2018/08/23/Springå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰Springçš„æ³¨å…¥æ–¹å¼-æ„é€ å‡½æ•°æ³¨å…¥/</id>
    <published>2018-08-23T04:10:04.000Z</published>
    <updated>2019-05-26T13:52:35.891Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ç±»åå‰é¢åŠ @Componentè¿›è¡Œå®ä¾‹åŒ–ç±»ã€åœ¨beans.xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”æ™®é€šå€¼ã€æ•°ç»„ï¼Œlistï¼Œsetã€Mapå’ŒPropertiesã€è‡ªå®šä¹‰ç±»å‹å®ä¾‹åŒ–ã€ç»™è‡ªå®šä¹‰ç±»å‹åˆå§‹åŒ–æ•°æ®ã€ç»™è‡ªå®šä¹‰ç±»å‹åˆå§‹åŒ–æ•°æ®â€”â€”æ¨èå¼•ç”¨æ–¹å¼ã€<strong>æ¥å£æ³¨å…¥å®ç°ç±»(å®ç°æ¥å£å›è°ƒ)é‡ç‚¹å•Šï¼ï¼ï¼</strong></p><a id="more"></a>SpringMvcSSMæ¡†æ¶<br><br>æºç è·å–<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a><br><br>[TOC]<br><br><br><br>### 1.ç›®å½•ç»“æ„(éœ€è¦çš„jaråŒ…å‡åœ¨ç¯å¢ƒæ­å»ºä¸­æœ‰)<br><br><img src="https://i.loli.net/2019/05/26/5cea9a227716978565.jpg" alt=""><br><br>### 2.åœ¨ç±»åå‰é¢åŠ @Componentè¿›è¡Œå®ä¾‹åŒ–ç±»<br><br>@Component//(value = â€œhsUserâ€)  //ç›¸å½“äº<bean class="com.hs.model.User" id="user"> (value = â€œhsUserâ€)å°±æ˜¯id=hsUser<br><br>beans.xml<br><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd"</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">     <span class="comment">&lt;!--1.å¯åŠ¨Springæ³¨è§£--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--2.æ‰«ææ³¨è§£--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.hs"</span>/&gt;</span> </span><br><span class="line">      </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>User.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span><span class="comment">//(value = "hsUser")  //ç›¸å½“äº&lt;bean class="com.hs.model.User" id="user"/&gt; (value = "hsUser")å°±æ˜¯id=hsUser</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> String user_name;</span><br><span class="line">   <span class="keyword">private</span> Integer user_id;</span><br><span class="line">   <span class="keyword">private</span> String[] hobbyArray;</span><br><span class="line">   <span class="keyword">private</span> List&lt;String&gt; hobbyList;</span><br><span class="line">   <span class="keyword">private</span> Set&lt;String&gt; hobbySet;</span><br><span class="line">   <span class="keyword">private</span> Map&lt;String, Object&gt; map;</span><br><span class="line">   <span class="keyword">private</span> Properties properties;  <span class="comment">//Map&lt;string,string&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> Role hsRole;    <span class="comment">//è¿™æ˜¯è‡ªå®šä¹‰ç±»å‹</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ITest hsTest;   <span class="comment">//å®šä¹‰æ¥å£å˜é‡</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * è¿™é‡Œé€šè¿‡bean.xmlæ„é€ å‡½æ•°åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">    * 1.ITestImpl testImpl = new ITestImpl();</span></span><br><span class="line"><span class="comment">    * 2.hsTest = testImpl</span></span><br><span class="line"><span class="comment">    * 3.ITest hsTest = new ITestImpl();</span></span><br><span class="line"><span class="comment">    * å…¸å‹çš„æ¥å£å›è°ƒå˜›</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> hsTest</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(ITest hsTest)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.hsTest = hsTest;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Role hsRole)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.hsRole = hsRole;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Map&lt;String, Object&gt; map, Properties properties)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.map = map;</span><br><span class="line">      <span class="keyword">this</span>.properties = properties;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Integer user_id, String user_name)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.user_name = user_name;</span><br><span class="line">      <span class="keyword">this</span>.user_id = user_id;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String user_name, Integer user_id, String[] hobbyArray, List&lt;String&gt; hobbyList, Set&lt;String&gt; hobbySet)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.user_name = user_name;</span><br><span class="line">      <span class="keyword">this</span>.user_id = user_id;</span><br><span class="line">      <span class="keyword">this</span>.hobbyArray = hobbyArray;</span><br><span class="line">      <span class="keyword">this</span>.hobbyList = hobbyList;</span><br><span class="line">      <span class="keyword">this</span>.hobbySet = hobbySet;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getUser_name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> user_name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUser_name</span><span class="params">(String user_name)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.user_name = user_name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Integer <span class="title">getUser_id</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> user_id;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUser_id</span><span class="params">(Integer user_id)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.user_id = user_id;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> String[] getHobbyArray() &#123;</span><br><span class="line">      <span class="keyword">return</span> hobbyArray;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHobbyArray</span><span class="params">(String[] hobbyArray)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.hobbyArray = hobbyArray;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getHobbyList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> hobbyList;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHobbyList</span><span class="params">(List&lt;String&gt; hobbyList)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.hobbyList = hobbyList;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">getHobbySet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> hobbySet;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHobbySet</span><span class="params">(Set&lt;String&gt; hobbySet)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.hobbySet = hobbySet;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> map;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMap</span><span class="params">(Map&lt;String, Object&gt; map)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.map = map;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Properties <span class="title">getProperties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> properties;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setProperties</span><span class="params">(Properties properties)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.properties = properties;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Role <span class="title">getHsRole</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> hsRole;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHsRole</span><span class="params">(Role hsRole)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.hsRole = hsRole;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> ITest <span class="title">getHsTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> hsTest;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHsTest</span><span class="params">(ITest hsTest)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.hsTest = hsTest;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">            <span class="string">"user_name='"</span> + user_name + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">", user_id="</span> + user_id +</span><br><span class="line">            <span class="string">", hobbyArray="</span> + Arrays.toString(hobbyArray) +</span><br><span class="line">            <span class="string">", hobbyList="</span> + hobbyList +</span><br><span class="line">            <span class="string">", hobbySet="</span> + hobbySet +</span><br><span class="line">            <span class="string">", map="</span> + map +</span><br><span class="line">            <span class="string">", properties="</span> + properties +</span><br><span class="line">            <span class="string">", hsRole="</span> + hsRole +</span><br><span class="line">            <span class="string">", hsTest="</span> + hsTest +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ConstructorObjectTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•åœ¨ç±»åå‰é¢åŠ <span class="doctag">@Component</span>è¿›è¡Œå®ä¾‹åŒ–ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">   User user = ac.getBean(<span class="string">"user"</span>,User.class);</span><br><span class="line">   System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-åœ¨beans-xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”æ™®é€šå€¼"><a href="#3-åœ¨beans-xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”æ™®é€šå€¼" class="headerlink" title="3.åœ¨beans.xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”æ™®é€šå€¼"></a>3.åœ¨beans.xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”æ™®é€šå€¼</h3><p>åœ¨springä¸­å®ä¾‹åŒ–å¯¹è±¡ï¼ŒæŠŠç±»çš„æ„é€ å‡½æ•°è®¾ç½®æˆprivateï¼Œä¾ç„¶å¯ä»¥è¢«å®ä¾‹åŒ–ï¼Œåœ¨javaä¸­å°±ä¸èƒ½è¢«å®ä¾‹åŒ–</p><p>åªè¦è§åˆ°<bean>æ ‡ç­¾å°±æ˜¯å®ä¾‹åŒ–ã€‚ã€‚ã€‚</bean></p><p>User.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Integer user_id, String user_name)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">this</span>.user_name = user_name;</span><br><span class="line">     <span class="keyword">this</span>.user_id = user_id;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--User ç±»é€šè¿‡æ„é€ å‡½æ•°å®ä¾‹åŒ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user01"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--index=""(å¯ä»¥çœç•¥)æ˜¯è®¾ç½®å‚æ•°çš„ç´¢å¼•(0å¼€å§‹)ï¼Œæ˜¯ç¬¬å‡ ä¸ª typeå¯ä»¥ä¸ç”¨å†™</span></span><br><span class="line"><span class="comment">nameå°±æ˜¯æ„é€ å‡½æ•°çš„å‚æ•°å€¼ï¼Œvalueå°±æ˜¯èµ‹çš„å€¼</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--ç¿»è¯‘constructorï¼šæ„é€ å‡½æ•°--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"user_id"</span> <span class="attr">value</span>=<span class="string">"100"</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">type</span>=<span class="string">"java.lang.Integer"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"user_name"</span> <span class="attr">index</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ‚Ÿç©º<span class="tag">&lt;/<span class="name">value</span>&gt;</span> <span class="comment">&lt;!--ä¸Šé¢æ˜¯ç®€å†™--&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--è®¾ç½®ç©ºæ˜¯&lt;null/&gt;--&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ConstructorObjectTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•åœ¨beans.xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”æ™®é€šå€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">   User user = ac.getBean(<span class="string">"user01"</span>,User.class);</span><br><span class="line">   System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-æ„é€ å‡½æ•°å®ä¾‹åŒ–æ•°ç»„ï¼Œlistï¼Œset"><a href="#4-æ„é€ å‡½æ•°å®ä¾‹åŒ–æ•°ç»„ï¼Œlistï¼Œset" class="headerlink" title="4.æ„é€ å‡½æ•°å®ä¾‹åŒ–æ•°ç»„ï¼Œlistï¼Œset"></a>4.æ„é€ å‡½æ•°å®ä¾‹åŒ–æ•°ç»„ï¼Œlistï¼Œset</h3><p>User.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String user_name, Integer user_id, String[] hobbyArray, List&lt;String&gt; hobbyList, Set&lt;String&gt; hobbySet)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.user_name = user_name;</span><br><span class="line">   <span class="keyword">this</span>.user_id = user_id;</span><br><span class="line">   <span class="keyword">this</span>.hobbyArray = hobbyArray;</span><br><span class="line">   <span class="keyword">this</span>.hobbyList = hobbyList;</span><br><span class="line">   <span class="keyword">this</span>.hobbySet = hobbySet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ„é€ å‡½æ•°å®ä¾‹åŒ–æ•°ç»„ï¼Œlistï¼Œset--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user02"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"user_name"</span> <span class="attr">value</span>=<span class="string">"å…«æˆ’"</span> <span class="attr">index</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"user_id"</span> <span class="attr">value</span>=<span class="string">"200"</span> <span class="attr">index</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"hobbyArray"</span> <span class="attr">index</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>ç¯®çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¶³çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>çœ‹ä¹¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>éŸ³ä¹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"hobbyList"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>ç¯®çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¶³çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>çœ‹ä¹¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>éŸ³ä¹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"hobbySet"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>ç¯®çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¶³çƒ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>çœ‹ä¹¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">value</span>&gt;</span>éŸ³ä¹<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ConstructorObjectTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•åœ¨beans.xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”æ•°ç»„ï¼Œlistï¼Œset</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">   User user = ac.getBean(<span class="string">"user02"</span>,User.class);</span><br><span class="line">   System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-æ„é€ å‡½æ•°å®ä¾‹åŒ–Mapå’ŒProperties"><a href="#5-æ„é€ å‡½æ•°å®ä¾‹åŒ–Mapå’ŒProperties" class="headerlink" title="5.æ„é€ å‡½æ•°å®ä¾‹åŒ–Mapå’ŒProperties"></a>5.æ„é€ å‡½æ•°å®ä¾‹åŒ–Mapå’ŒProperties</h3><p>User.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Map&lt;String, Object&gt; map, Properties properties)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.map = map;</span><br><span class="line">   <span class="keyword">this</span>.properties = properties;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ„é€ å‡½æ•°å®ä¾‹åŒ–Mapï¼ŒProperties--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user03"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"map"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"hs"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>å’Œå°š<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!--ç¼©å†™--&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"æ‚Ÿç©º"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"properties"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!--ç»™Propertiesèµ‹å€¼--&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"age"</span>&gt;</span>100<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"RuntimeExceiption"</span>&gt;</span>error<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•åœ¨beans.xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”Mapå’ŒProperties</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">   User user = ac.getBean(<span class="string">"user03"</span>,User.class);</span><br><span class="line">   System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-åˆå§‹åŒ–è‡ªå®šä¹‰ç±»å‹"><a href="#6-åˆå§‹åŒ–è‡ªå®šä¹‰ç±»å‹" class="headerlink" title="6.åˆå§‹åŒ–è‡ªå®šä¹‰ç±»å‹"></a>6.åˆå§‹åŒ–è‡ªå®šä¹‰ç±»å‹</h3><p>Role.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Role</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> String role_name;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Role</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Role</span><span class="params">(String role_name)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.role_name = role_name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getRole_name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> role_name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRole_name</span><span class="params">(String role_name)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.role_name = role_name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Role&#123;"</span> +</span><br><span class="line">            <span class="string">"role_name='"</span> + role_name + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>User.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Role hsRole;    <span class="comment">//è¿™æ˜¯è‡ªå®šä¹‰ç±»å‹</span></span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ„é€ å‡½æ•°åˆå§‹åŒ–è‡ªå®šä¹‰ç±»å‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user04"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"hsRole"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"role1"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.Role"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰ç±»å‹å®ä¾‹åŒ–ï¼Œç»™Userç±»ä¸­çš„Roleç±»çš„å˜é‡ï¼Œè¿›è¡Œå®ä¾‹åŒ–æ“ä½œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test05</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">   User user = ac.getBean(<span class="string">"user04"</span>,User.class);</span><br><span class="line">   System.out.println(user);</span><br><span class="line">   <span class="comment">//ä¸‹é¢è¿™ä¸ªè¯æ˜Userç±»çš„é‚£ä¸ªbean Role role,èŒƒå›´åªèƒ½åœ¨Useré‡Œ</span></span><br><span class="line">   <span class="comment">/*Role role1 = ac.getBean("role1", Role.class);</span></span><br><span class="line"><span class="comment">   System.out.println(role1);*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹"><a href="#7-æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹" class="headerlink" title="7.æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹"></a>7.æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹</h3><p>Role.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Role</span><span class="params">(String role_name)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.role_name = role_name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>User.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Role hsRole)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.hsRole = hsRole;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user05"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"hsRole"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.hs.model.Role"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"role_name"</span> <span class="attr">value</span>=<span class="string">"è¶…çº§ç®¡ç†å‘˜"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»™è‡ªå®šä¹‰ç±»å‹åˆå§‹åŒ–æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test06</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">User user = ac.getBean(<span class="string">"user05"</span>,User.class);</span><br><span class="line">System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-æ¨èå¼•ç”¨æ–¹å¼â€”â€”æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹"><a href="#8-æ¨èå¼•ç”¨æ–¹å¼â€”â€”æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹" class="headerlink" title="8.æ¨èå¼•ç”¨æ–¹å¼â€”â€”æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹"></a>8.æ¨èå¼•ç”¨æ–¹å¼â€”â€”æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹</h3><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ„é€ å‡½æ•°å®ä¾‹åŒ–è‡ªå®šä¹‰ç±»å‹â€”â€”æ¨èå¼•ç”¨æ–¹å¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user06"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--&lt;constructor-arg name="hsRole"&gt;</span></span><br><span class="line"><span class="comment">      &amp;lt;!&amp;ndash;å¼•ç”¨beanï¼Œä¸‹é¢ç®€å†™&amp;ndash;&amp;gt;</span></span><br><span class="line"><span class="comment">      &lt;ref bean="role2"/&gt;</span></span><br><span class="line"><span class="comment">   &lt;/constructor-arg&gt;--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"hsRole"</span> <span class="attr">ref</span>=<span class="string">"role2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"role2"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.Role"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"role_name"</span> <span class="attr">value</span>=<span class="string">"å¼•ç”¨æ–¹å¼æ¨è"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»™è‡ªå®šä¹‰ç±»å‹åˆå§‹åŒ–æ•°æ®â€”â€”æ¨èå¼•ç”¨æ–¹å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test07</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">   User user = ac.getBean(<span class="string">"user06"</span>,User.class);</span><br><span class="line">   System.out.println(user);</span><br><span class="line">   Role role = ac.getBean(<span class="string">"role2"</span>, Role.class);</span><br><span class="line">   System.out.println(role);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-æ„é€ å‡½æ•°å®ç°æ¥å£å›è°ƒï¼Œæ¥å£æ³¨å…¥å®ç°ç±»ï¼ˆé‡ç‚¹ï¼ï¼ï¼ï¼‰"><a href="#9-æ„é€ å‡½æ•°å®ç°æ¥å£å›è°ƒï¼Œæ¥å£æ³¨å…¥å®ç°ç±»ï¼ˆé‡ç‚¹ï¼ï¼ï¼ï¼‰" class="headerlink" title="9.æ„é€ å‡½æ•°å®ç°æ¥å£å›è°ƒï¼Œæ¥å£æ³¨å…¥å®ç°ç±»ï¼ˆé‡ç‚¹ï¼ï¼ï¼ï¼‰"></a>9.æ„é€ å‡½æ•°å®ç°æ¥å£å›è°ƒï¼Œæ¥å£æ³¨å…¥å®ç°ç±»ï¼ˆé‡ç‚¹ï¼ï¼ï¼ï¼‰</h3><p>ITest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ITest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ITestImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hs.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ITestImpl</span> <span class="keyword">implements</span> <span class="title">ITest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"Hello Word!!"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>User.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> ITest hsTest;   <span class="comment">//å®šä¹‰æ¥å£å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿™é‡Œé€šè¿‡bean.xmlæ„é€ å‡½æ•°åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment"> * 1.ITestImpl testImpl = new ITestImpl();</span></span><br><span class="line"><span class="comment"> * 2.hsTest = testImpl</span></span><br><span class="line"><span class="comment"> * 3.ITest hsTest = new ITestImpl();</span></span><br><span class="line"><span class="comment"> * å…¸å‹çš„æ¥å£å›è°ƒå˜›</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> hsTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(ITest hsTest)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.hsTest = hsTest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å®ç°æ¥å£å›è°ƒï¼Œæ¥å£æ³¨å…¥å®ç°ç±»--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿™é‡Œé€šè¿‡bean.xmlæ„é€ å‡½æ•°åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment"> 1.ITestImpl testImpl = new ITestImpl();</span></span><br><span class="line"><span class="comment"> 2.hsTest = testImpl --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user07"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.User"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"hsTest"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"testImpl"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ITestImpl testImpl = new ITestImpl();--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"testImpl"</span> <span class="attr">class</span>=<span class="string">"com.hs.model.ITestImpl"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¥å£æ³¨å…¥å®ç°ç±»ï¼Œå®ç°æ¥å£å›è°ƒ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test08</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"></span><br><span class="line">   User user = ac.getBean(<span class="string">"user07"</span>,User.class);</span><br><span class="line">   user.getHsTest().print();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></bean>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨ç±»åå‰é¢åŠ @Componentè¿›è¡Œå®ä¾‹åŒ–ç±»ã€åœ¨beans.xmlä¸­ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–å¯¹è±¡â€”â€”æ™®é€šå€¼ã€æ•°ç»„ï¼Œlistï¼Œsetã€Mapå’ŒPropertiesã€è‡ªå®šä¹‰ç±»å‹å®ä¾‹åŒ–ã€ç»™è‡ªå®šä¹‰ç±»å‹åˆå§‹åŒ–æ•°æ®ã€ç»™è‡ªå®šä¹‰ç±»å‹åˆå§‹åŒ–æ•°æ®â€”â€”æ¨èå¼•ç”¨æ–¹å¼ã€&lt;strong&gt;æ¥å£æ³¨å…¥å®ç°ç±»(å®ç°æ¥å£å›è°ƒ)é‡ç‚¹å•Šï¼ï¼ï¼&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Springå­¦ä¹ æ€»ç»“" scheme="https://heshang.ink/categories/Spring%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="SSM" scheme="https://heshang.ink/tags/SSM/"/>
    
      <category term="æ¡†æ¶" scheme="https://heshang.ink/tags/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring" scheme="https://heshang.ink/tags/Spring/"/>
    
  </entry>
  
</feed>
