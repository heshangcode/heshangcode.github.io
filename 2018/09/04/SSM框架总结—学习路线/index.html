<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



















  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="MyBatis,Spring,SpringMvc,单元测试框架，日志框架Log4J">
<meta name="keywords" content="MyBatis,框架,SpringMvc,Spring">
<meta property="og:type" content="article">
<meta property="og:title" content="SSM框架总结—学习路线">
<meta property="og:url" content="https://heshang.ink/2018/09/04/SSM框架总结—学习路线/index.html">
<meta property="og:site_name" content="heshang">
<meta property="og:description" content="MyBatis,Spring,SpringMvc,单元测试框架，日志框架Log4J">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://heshang.ink/images/c31cbfc9ly1fuxszb7lr5j21av5x57wl.jpg">
<meta property="og:updated_time" content="2019-05-26T13:59:29.648Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SSM框架总结—学习路线">
<meta name="twitter:description" content="MyBatis,Spring,SpringMvc,单元测试框架，日志框架Log4J">
<meta name="twitter:image" content="https://heshang.ink/images/c31cbfc9ly1fuxszb7lr5j21av5x57wl.jpg">



  <link rel="alternate" href="/atom.xml" title="heshang" type="application/atom+xml" />




  <link rel="canonical" href="https://heshang.ink/2018/09/04/SSM框架总结—学习路线/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>SSM框架总结—学习路线 | heshang</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>




    <a href="https://github.com/heshangcode" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>




    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">heshang</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />历程</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://heshang.ink/2018/09/04/SSM框架总结—学习路线/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="和尚">
      <meta itemprop="description" content="外面诱惑很多，希望自己能一直走下去">
      <meta itemprop="image" content="/uploads/avatar.png#/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="heshang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">SSM框架总结—学习路线
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-09-04 20:50:42" itemprop="dateCreated datePublished" datetime="2018-09-04T20:50:42+08:00">2018-09-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-26 21:59:29" itemprop="dateModified" datetime="2019-05-26T21:59:29+08:00">2019-05-26</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/SSM学习总结/" itemprop="url" rel="index"><span itemprop="name">SSM学习总结</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon"
            >
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">30k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">1:01</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>MyBatis,Spring,SpringMvc,单元测试框架，日志框架Log4J</p>
<a id="more"></a>
<p>思维导图源文件获取，用xmind 8 打开<a href="https://github.com/heshangcode/Learn" target="_blank" rel="noopener">github</a></p>
<p>[TOC]</p>
<p><img src="/images/c31cbfc9ly1fuxszb7lr5j21av5x57wl.jpg" alt=""></p>
<h2 id="MyBatis框架"><a href="#MyBatis框架" class="headerlink" title="MyBatis框架"></a>MyBatis框架</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><ul>
<li>MyBatis是一个持久层框架/ORM框架，会对结果集(查询)映射，对JDBC简单的封装<ul>
<li>insert</li>
<li>update</li>
<li>delete</li>
<li>selectOne</li>
<li>selectList</li>
</ul>
</li>
<li>持久化<ul>
<li>狭义：将数据永久的保存到数据库/磁盘等媒介</li>
<li>广义：针对于数据的操作都称之持久化操作</li>
<li>实体Bean == 持久化类</li>
</ul>
</li>
<li>需要的jar包<ul>
<li>mybatis-3.4.6.jar</li>
<li>mysql-connector-java-5.1.45-bin.jar</li>
</ul>
</li>
</ul>
<h3 id="CRUD操作"><a href="#CRUD操作" class="headerlink" title="CRUD操作"></a>CRUD操作</h3><ul>
<li><p>针对于CUD操作，MyBatis需要手动提交事务</p>
</li>
<li><p>MyBatis的API调用过程</p>
</li>
<li><blockquote>
<p>package com.hs.util;</p>
</blockquote>
</li>
<li><blockquote>
<p>/**</p>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>知识点：</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>final修饰类：不能被继承</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>修饰方法：不能被重写</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>修饰变量：常量不可用变，但如果是对象，对象里的值可以变</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<p>*</p>
</blockquote>
</li>
<li><blockquote>
<p>*/</p>
</blockquote>
</li>
<li><blockquote>
<p>import org.apache.ibatis.io.Resources;</p>
</blockquote>
</li>
<li><blockquote>
<p>import org.apache.ibatis.session.SqlSession;</p>
</blockquote>
</li>
<li><blockquote>
<p>import org.apache.ibatis.session.SqlSessionFactory;</p>
</blockquote>
</li>
<li><blockquote>
<p>import org.apache.ibatis.session.SqlSessionFactoryBuilder;</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>import java.io.IOException;</p>
</blockquote>
</li>
<li><blockquote>
<p>import java.io.InputStream;</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>public class MyBatisUtils {</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>private MyBatisUtils() { }  //不允许实例化</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>private static final String PATH = “mybatis-config.xml”;</p>
</blockquote>
</li>
<li><blockquote>
<p>private static InputStream inputStream;</p>
</blockquote>
</li>
<li><blockquote>
<p>private static SqlSessionFactory sqlSessionFactory;</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>static { //1.静态代码块，只是加载一次</p>
</blockquote>
</li>
<li><blockquote>
<p>try {</p>
</blockquote>
</li>
<li><blockquote>
<p>//输入流 读文件</p>
</blockquote>
</li>
<li><blockquote>
<p>//1.读取核心配置文件</p>
</blockquote>
</li>
<li><blockquote>
<p>inputStream = Resources.getResourceAsStream(PATH);</p>
</blockquote>
</li>
<li><blockquote>
<p>//2.创建SqlSession工厂(SqlSessionFactory)相当于Connection</p>
</blockquote>
</li>
<li><blockquote>
<p>sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</p>
</blockquote>
</li>
<li><blockquote>
<p>} catch (IOException e) {</p>
</blockquote>
</li>
<li><blockquote>
<p>e.printStackTrace();</p>
</blockquote>
</li>
<li><blockquote>
<p>throw new RuntimeException(“加载核心配置文件失败”);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>/**</p>
</blockquote>
</li>
<li><blockquote>
<p>*3.获取SqlSession 相当于 执行SQL语句对象PreparedStament预处理对象</p>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>SqlSession完成所有的持久化操作CRUD</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<p>*/</p>
</blockquote>
</li>
<li><blockquote>
<p>public static SqlSession getSqlsession() {</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>return sqlSessionFactory.openSession();</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>/**</p>
</blockquote>
</li>
<li><blockquote>
<p>*6.关闭资源</p>
</blockquote>
</li>
<li><blockquote>
<p>*/</p>
</blockquote>
</li>
<li><blockquote>
<p>public static void closeSqlSession(SqlSession sqlSession) {</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>if (sqlSession != null) {</p>
</blockquote>
</li>
<li><blockquote>
<p>sqlSession.close();</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
<ul>
<li><p>1.读取核心配置文件 classpath(src)/mybatis-config.xml</p>
<ul>
<li><p>加载数据库信息属性文件jdbc.properties，${key}获取值</p>
</li>
<li><blockquote>
<properties resource="jdbc.properties">
</properties></blockquote>
</li>
<li><p>自定义设置类型的别名</p>
</li>
<li><blockquote>
<!--自定义设置类型的别名，也就是resultMap里的type，避免包名已修改，在映射文件里修改多处地方-->
</blockquote>
</li>
<li><blockquote>
<typealiases>
</typealiases></blockquote>
</li>
<li><blockquote>
<!-- 方式一、com.hs.model.Skill这个类设置了别名hs，之后要用这个的话，直接写hs -->
</blockquote>
</li>
<li><blockquote>
<!--<typeAlias type="com.hs.model.Skill" alias="hs"/> -->
</blockquote>
</li>
<li><blockquote>
<!-- 方式二、com.hs.model这个包下的类，要用的时候直接写类名，比如用com.hs.model.Skill，直接写Skill -->
</blockquote>
</li>
<li><blockquote>
<package name="com.hs.model">
</package></blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>配置数据库的环境</p>
</li>
<li><blockquote>
<environments default="development">
</environments></blockquote>
</li>
<li><blockquote>
<environment id="development">
</environment></blockquote>
</li>
<li><blockquote>
<!--事务管理器:保证数据的完整性和一致性  -->
</blockquote>
</li>
<li><blockquote>
<!--框架：默认情况下CUD操作需要手动提交事务（如同在Navicat中表中输入了数据，没有点那个小√，就是没有提交事务，但是输入insert语句，就自动提交事务了）  -->
</blockquote>
</li>
<li><blockquote>
<transactionmanager type="JDBC">
</transactionmanager></blockquote>
</li>
<li><blockquote>
<!--使用的是连接池：百度java如何实行连接池的原理？  -->
</blockquote>
</li>
<li><blockquote>
<datasource type="POOLED">
</datasource></blockquote>
</li>
<li><blockquote>
<property name="driver" value="${jdbc.mysql.driver}">
</property></blockquote>
</li>
<li><blockquote>
<property name="url" value="${jdbc.mysql.url}">
</property></blockquote>
</li>
<li><blockquote>
<property name="username" value="${jdbc.mysql.username}">
</property></blockquote>
</li>
<li><blockquote>
<property name="password" value="${jdbc.mysql.password}">
</property></blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>加载映射文件</p>
</li>
<li><blockquote>
<mappers>
</mappers></blockquote>
</li>
<li><blockquote>
<!--告知映射文件方式1，一个一个的配置-->
</blockquote>
</li>
<li><blockquote>
<mapper resource="com/hs/model/UserMapper.xml">
</mapper></blockquote>
</li>
<li><blockquote>
<!-- 告知映射文件方式2，自动扫描包内的Mapper接口与配置文件 -->
</blockquote>
</li>
<li><blockquote>
<!--<package name="com.hs.model"/>-->
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
<li><p>2.创建SqlSession工厂 == SqlSessionFactory</p>
</li>
<li><p>3.获取SqlSession</p>
<ul>
<li>连接数据库</li>
<li>完成针对于数据的CRUD操作</li>
</ul>
</li>
<li><p>4.执行定制的SQL语句</p>
<ul>
<li>传统方式<ul>
<li>命名空间namespace持久化类的全路径</li>
<li>.</li>
<li>映射文件的ID</li>
</ul>
</li>
<li>接口代理模式——推荐<ul>
<li>命名空间namespace固定必须为接口的全路径</li>
<li>映射文件中的ID需要跟接口中的方法名保持一致</li>
<li>查询操作：根据你的接口的返回值<ul>
<li>selectOne</li>
<li>selectList</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>5.事务的提交</p>
<ul>
<li>Spring框架中有事务的管理</li>
</ul>
</li>
<li><p>6.关闭资源</p>
</li>
</ul>
</li>
<li><p>提取公共的字段代码</p>
<ul>
<li><p>无别名</p>
</li>
<li><blockquote>
<sql id="sys_role_columns">
</sql></blockquote>
</li>
<li><blockquote>
<p>role_id,role_name,role_key,status</p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>有别名</p>
</li>
<li><blockquote>
<sql id="sys_role_columns_alias">
</sql></blockquote>
</li>
<li><blockquote>
<p>${alias}.role_id,${alias}.role_name,${alias}.role_key,${alias}.status</p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>概要: 如何用</p>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<include refid="sys_role_columns">
</include></blockquote>
</li>
<li><blockquote>
<include refid="sys_role_colums_alias">
</include></blockquote>
</li>
<li><blockquote>
<property name="alias" value="r">
</property></blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
<li><p>查询操作</p>
<ul>
<li><p>结果集的处理方式</p>
<ul>
<li>resultType</li>
<li>resultMap</li>
</ul>
</li>
<li><p>结果集可以处理成什么方式？</p>
<ul>
<li><p>返回Map类型</p>
<ul>
<li>resultType=”map”或者resultType=”java.util.Map”</li>
<li>resultMap属性去找resultMap标签<ul>
<li>默认情况是自动映射</li>
<li>可以设置别名</li>
</ul>
</li>
</ul>
</li>
<li><p>返回List类型–&gt;依旧使用Map处理结果</p>
<ul>
<li>只是在调用方法的时候使用selectList即可</li>
</ul>
</li>
<li><p>返回对象</p>
<ul>
<li><p>可以使用别名方式，保证查询的字段名称和类中的属性名称一致即可使用resultType完成对象的映射</p>
</li>
<li><p>重点resultMap属性</p>
<ul>
<li><p>一对一和多对一的关联标签association</p>
<ul>
<li><p>select方式</p>
</li>
<li><blockquote>
<p><resultmap id="SimpleResultMapper" type="User" extends="BaseResultMapper"> <!-- extends继承了BaseResultMapper，同java继承一样 --></resultmap></p>
</blockquote>
</li>
<li><blockquote>
<!--配置关联对象-->
</blockquote>
</li>
<li><blockquote>
<!--在结果集中找到fk_role_id字段，然后再传值给命名空间com.hs.dao.RoleDao下的getRoleByPk语句进行查询(找到要执行的SQL语句)，最后返回role(对象的属性)，它的类型是com.hs.model.Role-->
</blockquote>
</li>
<li><blockquote>
<association property="role" javatype="Role" column="fk_role_id" select="com.hs.dao.RoleDao.getRoleByPk">
</association></blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>结果集映射方式</p>
</li>
<li><blockquote>
<p>resultMap id=”JoinResultMapper” type=”User” extends=”BaseResultMapper”&gt;</p>
</blockquote>
</li>
<li><blockquote>
<!--关联对象-->
</blockquote>
</li>
<li><blockquote>
<!--resultMap引用别人的结果集(命名空间+"."+id)，或者自己在下面写结果集处理-->
</blockquote>
</li>
<li><blockquote>
<association property="role" javatype="Role" resultmap="com.hs.dao.RoleDao.BaseResultMapper">
</association></blockquote>
</li>
<li><blockquote>
<p>&lt;!– <id column="role_id" property="role_id"></id></p>
</blockquote>
</li>
<li><blockquote>
<result column="role_name" property="role_name">
</result></blockquote>
</li>
<li><blockquote>
<result column="role_key" property="role_key">
</result></blockquote>
</li>
<li><blockquote>
<p><result column="status" property="status"> –&gt;</result></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
<li><p>一对多的关联标签collection</p>
<ul>
<li><p>方式</p>
<ul>
<li><p>select方式</p>
</li>
<li><blockquote>
<resultmap id="SimpleResultMapper" type="Role" extends="BaseResultMapper">
</resultmap></blockquote>
</li>
<li><blockquote>
<!--配置集合List<User>,javaType一般可以不写-->
</blockquote>
</li>
<li><blockquote>
<p>&lt;!–在结果集中找到role_id这个字段，然后传给命名空间com.hs.dao.UserDao下id为getUserByFk的语句，</p>
</blockquote>
</li>
<li><blockquote>
<p>返回的结果集字段为userList，类型为java.util.List，里面装的类型是com.he.model.User这个类型</p>
</blockquote>
</li>
<li><blockquote>
<p>–&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;collection property=”userList”</p>
</blockquote>
</li>
<li><blockquote>
<p>javaType=”java.util.List”</p>
</blockquote>
</li>
<li><blockquote>
<p>ofType=”User”</p>
</blockquote>
</li>
<li><blockquote>
<p>column=”role_id”</p>
</blockquote>
</li>
<li><blockquote>
<p>select=”com.hs.dao.UserDao.getUserByFk”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>结果集映射方式</p>
</li>
<li><blockquote>
<resultmap id="JoinResultMapper" type="Role" extends="BaseResultMapper">
</resultmap></blockquote>
</li>
<li><blockquote>
<!--配置集合，查询出来的User里的结果集找com.hs.dao.UserDao.BaseResultMapper处理-->
</blockquote>
</li>
<li><blockquote>
<p>&lt;collection property=”userList” javaType=”list” ofType=”com.hs.model.User”</p>
</blockquote>
</li>
<li><blockquote>
<p>resultMap=”com.hs.dao.UserDao.BaseResultMapper”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;!–<id></id></p>
</blockquote>
</li>
<li><blockquote>
<p><result>–&gt;</result></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
<li><p>注意：ofType属性是必须要填写</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>模糊查询</p>
<ul>
<li>concat(‘%’,#{name},’%’)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="动态的SQL语句"><a href="#动态的SQL语句" class="headerlink" title="动态的SQL语句"></a>动态的SQL语句</h3><ul>
<li><p>在映射文件中获取数据的方式</p>
<ul>
<li>#()<ul>
<li>#()默认是预处理模式</li>
</ul>
</li>
<li>$()<ul>
<li>$()默认是直接拼接到SQL语句当中，并且需要提供KEY值，推荐在排序使用</li>
</ul>
</li>
</ul>
</li>
<li><p>if标签</p>
<ul>
<li>test属性 test=”类中属性或者Map中的KEY或者使用@Param指定KEY”</li>
</ul>
</li>
<li><p>where标签</p>
<ul>
<li><p>如果有内容，在内容的最前面加入where关键字，并且去掉内容最前面的and或者or</p>
</li>
<li><blockquote>
<where>
</where></blockquote>
</li>
<li><blockquote>
<if test="name != null &amp;&amp; name != ''">
</if></blockquote>
</li>
<li><blockquote>
<p>and user_name like concat(‘%’,#{name},’%’)</p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<if test="sex != null and sex != ''">
</if></blockquote>
</li>
<li><blockquote>
<p>and sex = #{sex}</p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
<li><p>set标签</p>
<ul>
<li><p>如果有内容，在内容的最前面加入set关键字，并且去掉内容最后面的逗号</p>
</li>
<li><blockquote>
<set>
</set></blockquote>
</li>
<li><blockquote>
<if test="user_name !=null and user_name != ''">
</if></blockquote>
</li>
<li><blockquote>
<p>user_name = #{user_name},</p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<if test="sex !=null and sex != ''">
</if></blockquote>
</li>
<li><blockquote>
<p>sex = #{sex},</p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p><if test="money != null"> <!--不是字符串就不要判断是否为空 --></if></p>
</blockquote>
</li>
<li><blockquote>
<p>money = #{money},</p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
<li><p>trim标签</p>
<ul>
<li><p>主要的目的是完成对动态添加SQL的拼写— 一般可以用来完成set和where功能</p>
</li>
<li><blockquote>
<p>&lt;trim prefix=”当发现有内容的时候,你在内容的最前面想加入什么内容”           </p>
</blockquote>
</li>
<li><blockquote>
<p>prefixOverrides=”当发现有内容的时候,你在内容的最前面想抹掉什么内容”            </p>
</blockquote>
</li>
<li><blockquote>
<p>suffix=”当发现有内容的时候,你在内容的最后面面想加入什么内容”            </p>
</blockquote>
</li>
<li><blockquote>
<p>suffixOverrides=”当发现有内容的时候,你在内容的最后面想抹掉什么内容”&gt;        </p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
<li><p>foreach标签</p>
<ul>
<li>如果你传递的数据的形参为一个数据，并且数据类型是数组或者List<ul>
<li>collection属性只能取array || list</li>
</ul>
</li>
<li>如果你传递的是Map或者对象(都有一个存储集合的属性或者KEY)<ul>
<li>collection=”集合对应的Map中的KEY或者类中的属性”</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="传递多个参数"><a href="#传递多个参数" class="headerlink" title="传递多个参数"></a>传递多个参数</h3><blockquote>
<p>/**</p>
</blockquote>
<blockquote>
<ul>
<li>传递多个参数</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>1.当你的形参传递&gt;1个的时候，parameterType不写，让其自动处理</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>2.#{值}，默认为arg0，arg1…..或param1，param2，，，</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>若在dao注解了@xxx(相当于指明了key值)，即也可以写xxx，默认的也可以写，相当于3个值</li>
</ul>
</blockquote>
<blockquote>
<p>*/</p>
</blockquote>
<blockquote>
<p>User getUser(@Param(“account”) String account, @Param(“password”) String password);</p>
</blockquote>
<h3 id="接口代理模式和传统模式"><a href="#接口代理模式和传统模式" class="headerlink" title="接口代理模式和传统模式"></a>接口代理模式和传统模式</h3><ul>
<li><p>接口代理模式</p>
</li>
<li><blockquote>
<p>只需要写接口，在测试类中调用，接口编程: 什么是接口? 简单理解:接口就是定义规范</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>接口返回类型跟你设置的resultMap或者resultType对应上即可,但是会根据你返回的类型完成selectone或者selectList操作</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>接口里方法如何写：sql语句返回的结果集类型 sql语句的id(要传的值);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>eg:List getSkillLike02(String name);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>List为SQL语句返回的结果集类型，getSkillLike02为映射文件中SQL语句的id，String name是传给映射文件的值</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>映射文件命名空间为接口的全路径</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>可以根据接口的返回类型自动判断使用selectOne还是selectList</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>eg:返回的是一个对象的为one，返回的是list的就是List，如果是List，也是List</p>
</blockquote>
</li>
<li><p>传统模式</p>
</li>
<li><blockquote>
<p>需要写接口，接口实现类，测试类，</p>
</blockquote>
</li>
<li><blockquote>
<p>映射文件命名空间为持久化类的全路径</p>
</blockquote>
</li>
</ul>
<h2 id="单元测试框架"><a href="#单元测试框架" class="headerlink" title="单元测试框架"></a>单元测试框架</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><ul>
<li>单元(方法)就是对类中方法的测试</li>
<li>命名规则<ul>
<li>类名 UserDaoTest</li>
<li>方法 testLoadMethod</li>
</ul>
</li>
</ul>
<h3 id="需要的jar包"><a href="#需要的jar包" class="headerlink" title="需要的jar包"></a>需要的jar包</h3><ul>
<li>hamcrest-core-1.3.jar</li>
<li>junit-4.12.jar</li>
</ul>
<h3 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h3><ul>
<li><p>@Before</p>
</li>
<li><blockquote>
<p>@Before //再每个单元测试运行之前都要进行这个方法</p>
</blockquote>
</li>
<li><blockquote>
<p>public void init() {</p>
</blockquote>
</li>
<li><blockquote>
<p>this.arithmeticService = new ArithmeticServiceImpl();    //想用哪个功能就实例化哪个</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>@Test</p>
</li>
<li><blockquote>
<p>@Test    //测试这个方法</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test01() {}</p>
</blockquote>
</li>
</ul>
<h2 id="日志框架Log4J"><a href="#日志框架Log4J" class="headerlink" title="日志框架Log4J"></a>日志框架Log4J</h2><h3 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h3><ul>
<li>在MyBatis中显示出SQL语句，信息等，放在classpath路径下log4j.properties</li>
</ul>
<h3 id="需要的jar包-1"><a href="#需要的jar包-1" class="headerlink" title="需要的jar包"></a>需要的jar包</h3><ul>
<li>log4j-1.2.17.jar</li>
</ul>
<h3 id="如何使用-1"><a href="#如何使用-1" class="headerlink" title="如何使用"></a>如何使用</h3><blockquote>
<h1 id="Global-logging-configuration"><a href="#Global-logging-configuration" class="headerlink" title="Global logging configuration"></a>Global logging configuration</h1></blockquote>
<blockquote>
<p>log4j.rootLogger=ERROR, stdout</p>
</blockquote>
<blockquote>
<h1 id="MyBatis-logging-configuration…"><a href="#MyBatis-logging-configuration…" class="headerlink" title="MyBatis logging configuration…"></a>MyBatis logging configuration…</h1></blockquote>
<blockquote>
<h1 id="如果要显示SQL语句，那么这个位置需要配置为命名空间"><a href="#如果要显示SQL语句，那么这个位置需要配置为命名空间" class="headerlink" title="如果要显示SQL语句，那么这个位置需要配置为命名空间"></a>如果要显示SQL语句，那么这个位置需要配置为命名空间</h1></blockquote>
<blockquote>
<p>log4j.logger.com.shxt.model.Skill=TRACE</p>
</blockquote>
<blockquote>
<h1 id="Console-output…"><a href="#Console-output…" class="headerlink" title="Console output…"></a>Console output…</h1></blockquote>
<blockquote>
<p>log4j.appender.stdout=org.apache.log4j.ConsoleAppender</p>
</blockquote>
<blockquote>
<p>log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</p>
</blockquote>
<blockquote>
<p>log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</p>
</blockquote>
<h2 id="SpringMVC框架"><a href="#SpringMVC框架" class="headerlink" title="SpringMVC框架"></a>SpringMVC框架</h2><h3 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h3><ul>
<li><p>核心配置文件DispatcherServlet的规则</p>
<ul>
<li><p>默认情况下：WEB-INF/[servlet-name]-servlet.xml</p>
</li>
<li><blockquote>
<servlet>
</servlet></blockquote>
</li>
<li><blockquote>
<!--默认的核心配置文件-->
</blockquote>
</li>
<li><blockquote>
<p><servlet-name>springmvc</servlet-name></p>
</blockquote>
</li>
<li><blockquote>
<p><servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class></p>
</blockquote>
</li>
<li><blockquote>
<!-- 服务器启动的时候就对DispatcherServlet进行实例化操作 -->
</blockquote>
</li>
<li><blockquote>
<!-- 值越小，越被越优先实例化 -->
</blockquote>
</li>
<li><blockquote>
<p><load-on-startup>2</load-on-startup></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p><servlet-mapping></servlet-mapping></p>
</blockquote>
</li>
<li><blockquote>
<p><servlet-name>springmvc</servlet-name></p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;!–  /</p>
</blockquote>
</li>
<li><blockquote>
<p>所有的资源访问都需要经过 DispatcherServlet处理</p>
</blockquote>
</li>
<li><blockquote>
<p>路径</p>
</blockquote>
</li>
<li><blockquote>
<p>href</p>
</blockquote>
</li>
<li><blockquote>
<p>src…..</p>
</blockquote>
</li>
<li><blockquote>
<p>区分   /* 和 /</p>
</blockquote>
</li>
<li><blockquote>
<p>–&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p><url-pattern>/</url-pattern></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>自定义规则</p>
</li>
<li><blockquote>
<servlet>
</servlet></blockquote>
</li>
<li><blockquote>
<p><servlet-name>springmvc</servlet-name></p>
</blockquote>
</li>
<li><blockquote>
<p><servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class></p>
</blockquote>
</li>
<li><blockquote>
<p><init-param></init-param></p>
</blockquote>
</li>
<li><blockquote>
<!--自定义的核心配置文件的名字和位置-->
</blockquote>
</li>
<li><blockquote>
<p><param-name>contextConfigLocation</param-name></p>
</blockquote>
</li>
<li><blockquote>
<p><param-value>/WEB-INF/springmvc.xml</param-value></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p><load-on-startup>1</load-on-startup></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p><servlet-mapping></servlet-mapping></p>
</blockquote>
</li>
<li><blockquote>
<p><servlet-name>springmvc</servlet-name></p>
</blockquote>
</li>
<li><blockquote>
<p><url-pattern>/</url-pattern></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="需要的jar包-2"><a href="#需要的jar包-2" class="headerlink" title="需要的jar包"></a>需要的jar包</h3><ul>
<li>spring-aop-4.3.6.RELEASE.jar</li>
</ul>
<p>spring-beans-4.3.6.RELEASE.jar</p>
<p>spring-context-4.3.6.RELEASE.jar</p>
<p>spring-context-support-4.3.6.RELEASE.jar</p>
<p>spring-core-4.3.6.RELEASE.jar</p>
<p>spring-expression-4.3.6.RELEASE.jar</p>
<p>spring-web-4.3.6.RELEASE.jar</p>
<p>spring-webmvc-4.3.6.RELEASE.jar</p>
<p>commons-logging-1.2.jar</p>
<h3 id="控制器专题"><a href="#控制器专题" class="headerlink" title="控制器专题"></a>控制器专题</h3><ul>
<li><p>控制传递的参数</p>
</li>
<li><blockquote>
<p>@RequestMapping(path = “/param02”,params = {“hs!=tomcat”,”method=add”})</p>
</blockquote>
</li>
<li><p>形参</p>
<ul>
<li>默认会对形参中的类进行自动的实例化操作</li>
</ul>
</li>
<li><p>页面跳转方式</p>
<ul>
<li>默认请求转发，能访问WEB-INF下</li>
<li>重定向，不能访问WEB-INF下</li>
<li>概要: 指明前缀，请求转发”forward:/hs011.jsp”,重定向redirect:/xxx</li>
</ul>
</li>
<li><p>返回类型</p>
<ul>
<li><p>ModelAndView</p>
<ul>
<li><p>JSP的请求转发的视图解析器</p>
</li>
<li><blockquote>
<p>&lt;!–jsp请求转发视图解析器</p>
</blockquote>
</li>
<li><blockquote>
<p>请求转发jsp页面的时候，在路径上加入前缀和后缀</p>
</blockquote>
</li>
<li><blockquote>
<p>–&gt;</p>
</blockquote>
</li>
<li><blockquote>
<!--下面相当于 InternalResourceViewResolver internalResourceViewResolver = new InternalResourceViewResolver()-->
</blockquote>
</li>
<li><blockquote>
<bean id="internalResourceViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
</bean></blockquote>
</li>
<li><blockquote>
<!--前缀-->
</blockquote>
</li>
<li><blockquote>
<!--相当于setPrefix("/WEB-INF/")-->
</blockquote>
</li>
<li><blockquote>
<property name="prefix" value="/WEB-INF/">
</property></blockquote>
</li>
<li><blockquote>
<!--后缀-->
</blockquote>
</li>
<li><blockquote>
<property name="suffix" value=".jsp">
</property></blockquote>
</li>
<li><blockquote>
<!--支持JSTL-->
</blockquote>
</li>
<li><blockquote>
<property name="viewClass" value="org.springframework.web.servlet.view.JstlView">
</property></blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
<li><p>void</p>
<ul>
<li>默认情况下是按照路径去请求转发找到对应的JSP页面_不推荐使用</li>
</ul>
</li>
<li><p>String</p>
<ul>
<li>推荐使用，跳转到页面或者另外的Controller，也满足JSP的请求转发的视图解析器<br>如果使用了前缀的标识那么一定是从Controller跳转到另一个Controller</li>
</ul>
</li>
<li><p>任意</p>
<ul>
<li>ResponseEntity<t></t></li>
<li>@ResponseBody—推荐，常用于JSON串的处理<ul>
<li>针对于你返回的数据的类型进行转换，可以转换任意类型，但是需要第三方库的支持</li>
</ul>
</li>
<li>情况说明<ul>
<li>字符串默认可以自动转换为文本</li>
<li>如果是其他类型需要使用第三方Jackson的支持，将返回的数据转换成JSON格式的字符串<ul>
<li>Jackson的jar包<ul>
<li>jackson-annotations-2.8.1.jar</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>jackson-core-2.8.1.jar</p>
<p>jackson-databind-2.8.1.jar</p>
<ul>
<li><p>访问路径</p>
<ul>
<li><p>路径的设置</p>
<ul>
<li>/sys/user</li>
<li>/sys/*或者/sys/**—不推荐使用</li>
<li>/sys/user/{hs}占位符路径<ul>
<li>使用占位符，一般只是传递主键和简单的字符串，完成REST风格的路径，优先级比通配符高，hs接收传过的值</li>
</ul>
</li>
</ul>
</li>
<li><p>请求方式的说明</p>
<ul>
<li><p>HTML页面中有且只有GET/POST请求</p>
</li>
<li><p>通过设置过滤器完成了8种请求方式</p>
</li>
<li><blockquote>
<p>&lt;!–http的请求转换过滤器</p>
</blockquote>
</li>
<li><blockquote>
<p>过滤器使html中支持除了get、post，的其他请求put，delete，patch–&gt;</p>
</blockquote>
</li>
<li><blockquote>
<filter>
</filter></blockquote>
</li>
<li><blockquote>
<p><filter-name>httpMethodFilter</filter-name></p>
</blockquote>
</li>
<li><blockquote>
<p><filter-class>org.springframework.web.filter.HiddenHttpMethodFilter</filter-class></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p><filter-mapping></filter-mapping></p>
</blockquote>
</li>
<li><blockquote>
<p><filter-name>httpMethodFilter</filter-name></p>
</blockquote>
</li>
<li><blockquote>
<!--设置需要过滤的Servlet的名字，就是下面那个servlet-->
</blockquote>
</li>
<li><blockquote>
<p><servlet-name>springmvc</servlet-name></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>为了支持其他的请求方式，把method都改为post，然后加入一个</p>
</blockquote>
</li>
<li><blockquote>
<input type="hidden" name="_method" value="get|post|put|delete|patch">
</blockquote>
</li>
<li><blockquote>
<p>value不分大小写，name=xxx固定</p>
</blockquote>
<ul>
<li>get：查询</li>
<li>post：添加</li>
<li>put：更新</li>
<li>delete：删除</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="静态资源-图片、js、css-排除方案，不经过DispatcherServlet"><a href="#静态资源-图片、js、css-排除方案，不经过DispatcherServlet" class="headerlink" title="静态资源(图片、js、css)排除方案，不经过DispatcherServlet"></a>静态资源(图片、js、css)排除方案，不经过DispatcherServlet</h3><blockquote>
<p>&lt;!–4.静态资源(图片、js、css之类的)(让这些资源不经过servlet处理)的</p>
</blockquote>
<blockquote>
<p>处理方式一  推荐方式–&gt;</p>
</blockquote>
<blockquote>
<p>&lt;mvc:default-servlet-handler default-servlet-name=”default”/&gt;</p>
</blockquote>
<blockquote>
<!--4.静态资源的处理方式二(可以写多个，从上而下找，找到就不再找) 映射方式(mapping中/image/后面的输进去，默认加到/WEB-INF/后面),-->
</blockquote>
<blockquote>
<!--<mvc:resources mapping="/image/**" location="/WEB-INF/"/>-->
</blockquote>
<h3 id="客户端传递数据转换成服务端对应的数据类型"><a href="#客户端传递数据转换成服务端对应的数据类型" class="headerlink" title="客户端传递数据转换成服务端对应的数据类型"></a>客户端传递数据转换成服务端对应的数据类型</h3><ul>
<li><p>@RequestParam注解</p>
</li>
<li><blockquote>
<p>public ModelAndView test02(@RequestParam(value = “user_name”, required = false) String name,</p>
</blockquote>
</li>
<li><blockquote>
<p>@RequestParam(name = “user_id”, required = false, defaultValue = “1111”) Integer id) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“姓名” + name);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“ID” + id);</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
<ul>
<li>name=”” | value=””对应传递数据的名称</li>
<li>required=”true”默认值</li>
<li>defaultValue=”设置默认值”</li>
</ul>
</li>
<li><p>简写方式 推荐：传递的name和形参中的名称保持一致即可</p>
</li>
<li><p>数组</p>
<ul>
<li><p>超链接获取数组</p>
</li>
<li><blockquote>
<p><a href="client04?role_id=100&role_id=200&role_id=300">传递数组</a></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client04”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test01(@RequestParam(name = “role_id”) Integer[] roles) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(Arrays.asList(roles));</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>复选框传递数组</p>
</li>
<li><blockquote>
<form action="client05">
</form></blockquote>
</li>
<li><blockquote>
<p><input type="checkbox" name="hobby" value="basketball">篮球</p>
</blockquote>
</li>
<li><blockquote>
<p><input type="checkbox" name="hobby" value="football">足球</p>
</blockquote>
</li>
<li><blockquote>
<p><input type="checkbox" name="hobby" value="book">看书</p>
</blockquote>
</li>
<li><blockquote>
<button>简写方式</button>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client05”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test02(String[] hobby) {</p>
</blockquote>
</li>
<li><blockquote>
<p>if (hobby != null) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(Arrays.asList(hobby));</p>
</blockquote>
</li>
<li><blockquote>
<p>} else {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“您没有爱好！”);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>文本框传递数据</p>
</li>
<li><blockquote>
<form action="client06">
</form></blockquote>
</li>
<li><blockquote>
<input type="text" name="hobby">
</blockquote>
</li>
<li><blockquote>
<input type="text" name="hobby">
</blockquote>
</li>
<li><blockquote>
<button>简写方式</button>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client06”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test03(String[] hobby) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(Arrays.asList(hobby));</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>多选列表传递数组</p>
</li>
<li><blockquote>
<form action="client07">
</form></blockquote>
</li>
<li><blockquote>
<select name="hobby" multiple="multiple">
</select></blockquote>
</li>
<li><blockquote>
<option value="music">音乐</option>
</blockquote>
</li>
<li><blockquote>
<option value="book">看书</option>
</blockquote>
</li>
<li><blockquote>
<option value="football">足球</option>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<button>简写方式</button>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client07”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test04(String[] hobby) {</p>
</blockquote>
</li>
<li><blockquote>
<p>if (hobby != null) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(Arrays.asList(hobby));</p>
</blockquote>
</li>
<li><blockquote>
<p>} else {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“您没有爱好！！”);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>对象</p>
<ul>
<li><p>简单对象，只是需要你传递的名称跟类中的属性名保持一致即可</p>
</li>
<li><blockquote>
<p>@GetMapping(“/client08”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test01(User user, String user_name, String sex) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(user);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“—–依然可以使用简单方式—-“);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(user_name);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(sex);</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>多个对象如果属性不相同，那么SpringMvc框架会帮我们自动完成转换</p>
</li>
<li><blockquote>
<p>@GetMapping(“/client09”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test02(User user, Role role) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(user);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“—–角色—-“);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(role);</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>关联对象，一个对象里有另外一个对象</p>
</li>
<li><blockquote>
<p>public class User {</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>private Role role;</p>
</blockquote>
<ul>
<li><p>后台处理</p>
<ul>
<li><blockquote>
<p>@GetMapping(“/client10”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test03(User user, Role role) {</p>
</blockquote>
</li>
<li><blockquote>
<p>//设置关联关系</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setRole(role);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(user);</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>前台处理</p>
</li>
<li><blockquote>
<h2>多个对象进行关联方式二：前台处理</h2>
</blockquote>
</li>
<li><blockquote>
<form action="client11">
</form></blockquote>
</li>
<li><blockquote>
<p>姓名：<input type="text" name="user_name"></p>
</blockquote>
</li>
<li><blockquote>
<p>性别：<input type="text" name="sex"></p>
</blockquote>
</li>
<li><blockquote>
<p>角色名称：<input type="text" name="role.role_name">&lt;%–name=类中.属性–%&gt;</p>
</blockquote>
</li>
<li><blockquote>
<button>提交数据</button>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client11”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test04(User user) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(user);</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>多个对象如果出现同属性问题，需要借助第三方类来区分数据的归属情况</p>
</li>
<li><blockquote>
<h2>不同对象同属性传递借助第三方类</h2>
</blockquote>
</li>
<li><blockquote>
<form action="client12">
</form></blockquote>
</li>
<li><blockquote>
<h3>用户</h3>
</blockquote>
</li>
<li><blockquote>
<p>姓名：<input type="text" name="user.user_name"></p>
</blockquote>
</li>
<li><blockquote>
<p>性别：<input type="text" name="user.sex"></p>
</blockquote>
</li>
<li><blockquote>
<p>角色信息：<input type="text" name="user.role.role_name"></p>
</blockquote>
</li>
<li><blockquote>
<h3>学生</h3>
</blockquote>
</li>
<li><blockquote>
<p>姓名：<input type="text" name="student.user_name"></p>
</blockquote>
</li>
<li><blockquote>
<p>性别：<input type="text" name="student.sex"></p>
</blockquote>
</li>
<li><blockquote>
<button>提交数据</button>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client12”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test05(HsModel hsModel) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(hsModel.getStudent());</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(hsModel.getUser());</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
<ul>
<li><p>第三方类含这些类</p>
<ul>
<li><blockquote>
<p>public class HsModel {</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>private User user;</p>
</blockquote>
</li>
<li><blockquote>
<p>private Student student;</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Map</p>
</li>
<li><blockquote>
<form action="client13">
</form></blockquote>
</li>
<li><blockquote>
<p>姓名：&lt;input type=”text” name=”query[‘user_name’]”&lt;%–属性[‘需要设置的key值’]–%&gt;&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>性别：<input type="text" name="query['sex']"></p>
</blockquote>
</li>
<li><blockquote>
<button>提交数据</button>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client13”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test01(HsModel hsModel) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(hsModel.getQuery());</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
<ul>
<li><p>需要借助第三方类的支持</p>
</li>
<li><blockquote>
<p>public class HsModel {</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>private Map&lt;String,Object&gt; query;</p>
</blockquote>
</li>
<li><p>一般做分页查询的时候使用 query[“设置Map中的KEY”]</p>
</li>
</ul>
</li>
<li><p>List</p>
</li>
<li><blockquote>
<form action="client14">
</form></blockquote>
</li>
<li><blockquote>
<p>姓名：<input type="text" name="studentList[0].user_name"> &lt;%–设置第1条数据的user_name–%&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>性别：<input type="text" name="studentList[0].sex">&lt;%–设置第1条数据的sex–%&gt;</p>
</blockquote>
</li>
<li><blockquote>
<hr>
</blockquote>
</li>
<li><blockquote>
<p>姓名：<input type="text" name="studentList[1].user_name"> &lt;%–设置第2条数据的user_name–%&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>性别：<input type="text" name="studentList[1].sex"></p>
</blockquote>
</li>
<li><blockquote>
<hr>
</blockquote>
</li>
<li><blockquote>
<p>姓名：<input type="text" name="studentList[5].user_name"> &lt;%–设置第6条数据的user_name,同时也设置了这个list长度是6–%&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>性别：<input type="text" name="studentList[5].sex"></p>
</blockquote>
</li>
<li><blockquote>
<button>提交数据</button>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>@Controller</p>
</blockquote>
</li>
<li><blockquote>
<p>public class    ListTypeDemoController {</p>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client14”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test01(HsModel hsModel) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(hsModel.getStudentList());</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
<ul>
<li><p>需要借助第三方类的支持</p>
</li>
<li><blockquote>
<p>public class HsModel {</p>
</blockquote>
</li>
<li><blockquote>
<p>private List<student> studentList;</student></p>
</blockquote>
</li>
<li><p>一般做批量添加</p>
</li>
</ul>
</li>
<li><p>占位符传递数据</p>
</li>
<li><blockquote>
<p><a href="client15/11110/tomcat?sex=man">占位符传递数据</a></p>
</blockquote>
<ul>
<li><p>普通接收数据</p>
</li>
<li><blockquote>
<p>@GetMapping(“/client15/{id}/{name}”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test01(</p>
</blockquote>
</li>
<li><blockquote>
<p>@PathVariable(“id”) int user_id,/<em>占位符的名字和形参不一样，在PathVariable中需要写占位符的名字</em>/</p>
</blockquote>
</li>
<li><blockquote>
<p>@PathVariable String name,/<em>一样则可以省略</em>/</p>
</blockquote>
</li>
<li><blockquote>
<p>String sex  /<em>@RequestParam的简写方式</em>/</p>
</blockquote>
</li>
<li><blockquote>
<p>) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(user_id);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(name);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(sex);</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>Map接收数据</p>
</li>
<li><blockquote>
<p>@GetMapping(“/client16/{id}/{name}”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test01(</p>
</blockquote>
</li>
<li><blockquote>
<p>@PathVariable Map&lt;String,Object&gt; map,/<em>占位符的名字作为key值</em>/</p>
</blockquote>
</li>
<li><blockquote>
<p>String sex  /<em>@RequestParam的简写方式</em>/</p>
</blockquote>
</li>
<li><blockquote>
<p>) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(map);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(sex);</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>JSON数据</p>
<ul>
<li><p>服务端使用@RequestBody接收数据</p>
</li>
<li><p>JSON数据—Java对象互转</p>
<ul>
<li><p>Map</p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test01() throws IOException {</p>
</blockquote>
</li>
<li><blockquote>
<p>Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“user_name”,”悟空”);</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“age”, 500);</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“hobby”,/<em>静态初始化数据</em>/ new String[]{“music”,”book”});</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“转换之前的Map:”+map);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//1.java对象转JSON格式的字符串</p>
</blockquote>
</li>
<li><blockquote>
<p>ObjectMapper objectMapper = new ObjectMapper();</p>
</blockquote>
</li>
<li><blockquote>
<p>String jsonString = objectMapper.writeValueAsString(map);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“java对象转JSON格式的字符串:”+jsonString);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//2.JSON字符串转换为java对象</p>
</blockquote>
</li>
<li><blockquote>
<p>Map&lt;String, Object&gt; hsMap = objectMapper.readValue(jsonString, Map.class);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“JSON字符串转换为java对象:”+hsMap);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>集合</p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test03() throws Exception {</p>
</blockquote>
</li>
<li><blockquote>
<p>List<user> userList = new ArrayList&lt;&gt;();</user></p>
</blockquote>
</li>
<li><blockquote>
<p>User user = new User();</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setUser_id(100);</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setUser_name(“八戒”);</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setSex(“男”);</p>
</blockquote>
</li>
<li><blockquote>
<p>Role role = new Role();</p>
</blockquote>
</li>
<li><blockquote>
<p>role.setRole_name(“超级管理员”);</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setRole(role);</p>
</blockquote>
</li>
<li><blockquote>
<p>userList.add(user);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>user = new User();</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setUser_id(100);</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setUser_name(“悟空”);</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setSex(“男”);</p>
</blockquote>
</li>
<li><blockquote>
<p>role = new Role();</p>
</blockquote>
</li>
<li><blockquote>
<p>role.setRole_name(“管理员”);</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setRole(role);</p>
</blockquote>
</li>
<li><blockquote>
<p>userList.add(user);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“转换之前的List<user>:”+userList);</user></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//1.java对象转json字符串</p>
</blockquote>
</li>
<li><blockquote>
<p>ObjectMapper objectMapper = new ObjectMapper();</p>
</blockquote>
</li>
<li><blockquote>
<p>String jsonString = objectMapper.writeValueAsString(userList);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“java对象转json字符串:”+jsonString);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//2.json字符串转java对象</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“组成的List<map>:”+objectMapper.readValue(jsonString, List.class)); //组成的是List<map></map></map></p>
</blockquote>
</li>
<li><blockquote>
<p>JavaType t = objectMapper.getTypeFactory().constructParametricType(List.class, User.class);</p>
</blockquote>
</li>
<li><blockquote>
<p>List<user> tempList = objectMapper.readValue(jsonString, t);</user></p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“json字符串转java对象:”+tempList);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>自定义对象</p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test02() throws Exception {</p>
</blockquote>
</li>
<li><blockquote>
<p>User user = new User();</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setUser_id(100);</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setUser_name(“八戒”);</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setSex(“男”);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>Role role = new Role();</p>
</blockquote>
</li>
<li><blockquote>
<p>role.setRole_name(“超级管理员”);</p>
</blockquote>
</li>
<li><blockquote>
<p>//建立联系</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setRole(role);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“转换之前的User:”+user);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//1.java对象转json字符串</p>
</blockquote>
</li>
<li><blockquote>
<p>ObjectMapper objectMapper = new ObjectMapper();</p>
</blockquote>
</li>
<li><blockquote>
<p>String jsonString = objectMapper.writeValueAsString(user);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“java对象转json字符串:”+jsonString);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//2.json字符串转java对象</p>
</blockquote>
</li>
<li><blockquote>
<p>User hsUser = objectMapper.readValue(jsonString, User.class);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“json字符串转java对象:”+hsUser);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>JavaScript对象—JSON格式字符互转</p>
</li>
<li><blockquote>
<script type="text/javascript">
</blockquote>
</li>
<li><blockquote>
<p>//给对象赋值的几种方 式</p>
</blockquote>
</li>
<li><blockquote>
<p>//javascript中，var 对象 = {}大括号，数组[]</p>
</blockquote>
</li>
<li><blockquote>
<p>var obj = {</p>
</blockquote>
</li>
<li><blockquote>
<p>user_name: “悟空”,</p>
</blockquote>
</li>
<li><blockquote>
<p>sex: “男”,</p>
</blockquote>
</li>
<li><blockquote>
<p>hobby: [“basktball”, “football”],</p>
</blockquote>
</li>
<li><blockquote>
<p>classInfo: {</p>
</blockquote>
</li>
<li><blockquote>
<p>class_name: “计算机”,</p>
</blockquote>
</li>
<li><blockquote>
<p>number:8</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>};</p>
</blockquote>
</li>
<li><blockquote>
<p>obj.nickname = “齐天大圣”;</p>
</blockquote>
</li>
<li><blockquote>
<p>obj[“age”] = 500;</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>console.log(obj);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//1.将JavaScript对象转换为JSON格式的字符串</p>
</blockquote>
</li>
<li><blockquote>
<p>var jsonStr = JSON.stringify(obj);</p>
</blockquote>
</li>
<li><blockquote>
<p>console.log(jsonStr);</p>
</blockquote>
</li>
<li><blockquote>
<p>//2.将JSON格式的字符串转换为JavaScript对象</p>
</blockquote>
</li>
<li><blockquote>
<p>var hs = JSON.parse(jsonStr);</p>
</blockquote>
</li>
<li><blockquote>
<p>console.log(hs);</p>
</blockquote>
</li>
<li><blockquote>
<p></script><p></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
</ul>
</li>
<li><p>文件上传</p>
<ul>
<li>配置上传文件的解析器，如果发现你是二进制流的方式传递数据，那么会使用该解析器处理数据</li>
</ul>
</li>
<li><p>数据类型的转换</p>
<ul>
<li><p>日期类型的转换@@DateTimeFormat</p>
</li>
<li><blockquote>
<p>/**</p>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>接收日期类型的客户端传递数据，简写方式</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>没有写注解，就写 2018/8/14 15:31:20</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>写了注解就按照他的格式来，如果没有写时间，你输入了时间也不会认</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>如果一个类中也有这样的属性，同时接收这个时间，注解里也要写格式</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<p>*</p>
</blockquote>
</li>
<li><blockquote>
<ul>
<li>@return</li>
</ul>
</blockquote>
</li>
<li><blockquote>
<p>*/</p>
</blockquote>
</li>
<li><blockquote>
<p>@GetMapping(“/client01”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test01(</p>
</blockquote>
</li>
<li><blockquote>
<p>@DateTimeFormat(pattern = “yyyy-MM-dd HH:mm:ss”) Date mydate,</p>
</blockquote>
</li>
<li><blockquote>
<p>User user) {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(mydate);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(user);</p>
</blockquote>
</li>
<li><blockquote>
<p>return null;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>@InitBinder</p>
</li>
<li><blockquote>
<p>@InitBinder</p>
</blockquote>
</li>
<li><blockquote>
<p>public void init01(WebDataBinder binder) {</p>
</blockquote>
</li>
<li><blockquote>
<p>//监控要转换(String)的数据类型</p>
</blockquote>
</li>
<li><blockquote>
<p>binder.registerCustomEditor(String.class, /<em>匿名对象</em>/new PropertyEditorSupport() {</p>
</blockquote>
</li>
<li><blockquote>
<p>//重写了setAsText方法</p>
</blockquote>
</li>
<li><blockquote>
<p>@Override</p>
</blockquote>
</li>
<li><blockquote>
<p>public void setAsText(String text) throws IllegalArgumentException {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“之前接收的值—-“ + text);</p>
</blockquote>
</li>
<li><blockquote>
<p>//对数据重新处理赋值，赋值给形参user_name</p>
</blockquote>
</li>
<li><blockquote>
<p>this.setValue(“对数据处理之后的值—-“ + text + “悟空”);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>});</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//监控Integer类型</p>
</blockquote>
</li>
<li><blockquote>
<p>binder.registerCustomEditor(Integer.class, new PropertyEditorSupport() {</p>
</blockquote>
</li>
<li><blockquote>
<p>@Override</p>
</blockquote>
</li>
<li><blockquote>
<p>public void setAsText(String text) throws IllegalArgumentException {</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(text);</p>
</blockquote>
</li>
<li><blockquote>
<p>this.setValue(“999”);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>});</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="客户端传递数据中文乱码"><a href="#客户端传递数据中文乱码" class="headerlink" title="客户端传递数据中文乱码"></a>客户端传递数据中文乱码</h3><ul>
<li><p>get请求</p>
<ul>
<li><p>tomcat7</p>
<ul>
<li><p>全局设置</p>
<ul>
<li><p>在tomcat里的sever.xml中修改</p>
</li>
<li><blockquote>
<connector connectiontimeout="20000" port="8080" protocol="HTTP/1.1" redirectport="8443">
</connector></blockquote>
</li>
<li><blockquote>
<p>这一行加入URIEncoding=”UTF-8”</p>
</blockquote>
</li>
</ul>
</li>
<li><p>单项目设置</p>
</li>
<li><blockquote>
<p>user_name = new String(user_name.getBytes(“ISO8859-1”),”UTF-8”);</p>
</blockquote>
</li>
</ul>
</li>
<li><p>tomcat8</p>
<ul>
<li>默认为UTF-8，不需要修改</li>
</ul>
</li>
</ul>
</li>
<li><p>post请求</p>
<ul>
<li><p>在web.xml中配置过滤器</p>
</li>
<li><blockquote>
<!--1.解决POST请求的中文乱码问题-->
</blockquote>
</li>
<li><blockquote>
<filter>
</filter></blockquote>
</li>
<li><blockquote>
<p><filter-name>characterEncodingFilter</filter-name></p>
</blockquote>
</li>
<li><blockquote>
<p><filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class></p>
</blockquote>
</li>
<li><blockquote>
<!--设置过滤器的一些变量的值-->
</blockquote>
</li>
<li><blockquote>
<p><init-param></init-param></p>
</blockquote>
</li>
<li><blockquote>
<p><param-name>encoding</param-name></p>
</blockquote>
</li>
<li><blockquote>
<p><param-value>UTF-8</param-value></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p><init-param></init-param></p>
</blockquote>
</li>
<li><blockquote>
<p><param-name>forceRequestEncoding</param-name></p>
</blockquote>
</li>
<li><blockquote>
<p><param-value>true</param-value></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p><init-param></init-param></p>
</blockquote>
</li>
<li><blockquote>
<p><param-name>forceResponseEncoding</param-name></p>
</blockquote>
</li>
<li><blockquote>
<p><param-value>true</param-value></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p><filter-mapping></filter-mapping></p>
</blockquote>
</li>
<li><blockquote>
<p><filter-name>characterEncodingFilter</filter-name></p>
</blockquote>
</li>
<li><blockquote>
<p><url-pattern>/*</url-pattern></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="服务端传递数据到客户端"><a href="#服务端传递数据到客户端" class="headerlink" title="服务端传递数据到客户端"></a>服务端传递数据到客户端</h3><ul>
<li><p>返回类型ModelAndView传递数据</p>
<ul>
<li><p>指明KEY</p>
</li>
<li><blockquote>
<p>@GetMapping(“/server02”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test02() {</p>
</blockquote>
</li>
<li><blockquote>
<p>ModelAndView mav = new ModelAndView();</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//        mav.addObject() 没有指明KEY</p>
</blockquote>
</li>
<li><blockquote>
<p>//一步一步的追源码，发现一个ModelMap的类实例化对象.用它的addAttribute方法添加，ModelMap又是继承了HashMap</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“title”, “通过ModelAndView传递数据”);</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“hs”, “中国和尚”);</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“class”, “计算机计科”);</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“number”, 11);</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.setViewName(“jsp/result02”);    //请求转发，通过视图解析器</p>
</blockquote>
</li>
<li><blockquote>
<p>return mav;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>没有指明KEY，默认传递数据的KEY的名称为类名的首字母小写</p>
</li>
<li><blockquote>
<p>@GetMapping(“/server03”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test03() {</p>
</blockquote>
</li>
<li><blockquote>
<p>ModelAndView mav = new ModelAndView();</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“integer”, 100);</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(200);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“string”, “字符串”);</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“悟空”);</p>
</blockquote>
</li>
<li><blockquote>
<p>//        规则：客户端获取没有加key的数据，默认key正常是数据对应的类型的首字母小写 Integer—integer  String—string</p>
</blockquote>
</li>
<li><blockquote>
<p>//      两个key一样的,只认最后一个</p>
</blockquote>
</li>
<li><blockquote>
<p>//        double是关键字，不能${double},只能${requestScope[“double”] }</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>double a = 123.123;</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(a);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>User user = new User();</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setMydate(new Date());</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(user);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>mav.setViewName(“jsp/result03”);    //请求转发，通过视图解析器</p>
</blockquote>
</li>
<li><blockquote>
<p>return mav;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>返回类型String传递数据</p>
<ul>
<li><p>Map</p>
</li>
<li><blockquote>
<p>@GetMapping(“/server04”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public String test01(Map&lt;String,Object&gt; map) {</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“title”, “Map在形参中定义，可以传递数据”);</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“hs”, “123”);</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“class”, “12222”);</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“number”, 1111);</p>
</blockquote>
</li>
<li><blockquote>
<p>return “jsp/result04”;  //通过请求转发视图解析器</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>ModelMap</p>
</li>
<li><blockquote>
<p>@GetMapping(“/server05”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public String test02(ModelMap modelMap) {</p>
</blockquote>
</li>
<li><blockquote>
<p>modelMap.addAttribute(“title”, “ModelMap进行传递数据”);</p>
</blockquote>
</li>
<li><blockquote>
<p>modelMap.addAttribute(“hs”, “123”);</p>
</blockquote>
</li>
<li><blockquote>
<p>modelMap.addAttribute(“class”, “12222”);</p>
</blockquote>
</li>
<li><blockquote>
<p>modelMap.addAttribute(“number”, 1111);</p>
</blockquote>
</li>
<li><blockquote>
<p>return “jsp/result04”;  //通过请求转发视图解析器</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>Model</p>
</li>
<li><blockquote>
<p>@GetMapping(“/server06”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public String test03(Model model) {</p>
</blockquote>
</li>
<li><blockquote>
<p>model.addAttribute(“title”, “Model接口进行传递数据”);</p>
</blockquote>
</li>
<li><blockquote>
<p>model.addAttribute(“hs”, “123”);</p>
</blockquote>
</li>
<li><blockquote>
<p>model.addAttribute(“class”, “12222”);</p>
</blockquote>
</li>
<li><blockquote>
<p>model.addAttribute(“number”, 1111);</p>
</blockquote>
</li>
<li><blockquote>
<p>return “jsp/result04”;  //通过请求转发视图解析器</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>@ResponseBody返回JSON数据格式</p>
<ul>
<li><p>返回JSON格式数据</p>
<ul>
<li><p>Map</p>
</li>
<li><blockquote>
<p>@GetMapping(“/json03”)</p>
</blockquote>
</li>
<li><blockquote>
<p>@ResponseBody   //把java数据转换为JSON的字符串 存在BUG(IE浏览器不好使，解决办法在springmvc.xml配置)</p>
</blockquote>
</li>
<li><blockquote>
<p>public Map&lt;String, Object&gt; test03() {</p>
</blockquote>
</li>
<li><blockquote>
<p>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“name”, “马老板”);</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“sex”, “男”);</p>
</blockquote>
</li>
<li><blockquote>
<p>return map;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>List<map></map></p>
</li>
<li><blockquote>
<p>@GetMapping(“/json04”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public @ResponseBody List&lt;Map&lt;String, Object&gt;&gt; test04() {</p>
</blockquote>
</li>
<li><blockquote>
<p>List&lt;Map&lt;String,Object&gt;&gt; tempList = new ArrayList&lt;Map&lt;String,Object&gt;&gt;();</p>
</blockquote>
</li>
<li><blockquote>
<p>Map&lt;String,Object&gt; map = new HashMap&lt;String, Object&gt;();</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“name”, “马老板”);</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“sex”, “男”);</p>
</blockquote>
</li>
<li><blockquote>
<p>tempList.add(map);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>map = new HashMap&lt;String, Object&gt;();</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“name”, “悟空”);</p>
</blockquote>
</li>
<li><blockquote>
<p>map.put(“sex”, “男”);</p>
</blockquote>
</li>
<li><blockquote>
<p>tempList.add(map);</p>
</blockquote>
</li>
<li><blockquote>
<p>return tempList;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>IE浏览器的下载问题</p>
</li>
<li><blockquote>
<!--解决@ResponseBody在IE浏览器的BUG问题-->
</blockquote>
</li>
<li><blockquote>
<bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">
</bean></blockquote>
</li>
<li><blockquote>
<property name="prettyPrint" value="true">
</property></blockquote>
</li>
<li><blockquote>
<property name="supportedMediaTypes">
</property></blockquote>
</li>
<li><blockquote>
<list>
</list></blockquote>
</li>
<li><blockquote>
<value>text/html;charset=UTF-8</value>
</blockquote>
</li>
<li><blockquote>
<value>text/plan;charset=UTF-8</value>
</blockquote>
</li>
<li><blockquote>
<value>application/json;charset=UTF-8</value>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>返回日期格式的问题</p>
<ul>
<li><p>@JsonFormat</p>
</li>
<li><blockquote>
<p>需要在user的date属性下加注解</p>
</blockquote>
</li>
<li><blockquote>
<p>//    相放哪里就放哪里，pattern:格式，timezone:时区，这是设置东八区</p>
</blockquote>
</li>
<li><blockquote>
<p>//    @JsonFormat(pattern = “yyyy-MM-dd HH:mm:ss”)</p>
</blockquote>
</li>
<li><blockquote>
<p>Date mydate;</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//    @JsonFormat(pattern = “yyyy-MM-dd HH:mm:ss”,timezone = “GMT+8”)</p>
</blockquote>
</li>
<li><blockquote>
<p>//        @JsonFormat(pattern = “yyyy-MM-dd”,timezone = “GMT+8”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public Date getMydate() {</p>
</blockquote>
</li>
<li><blockquote>
<p>return mydate;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>使用SpringMvc配置</p>
</li>
<li><blockquote>
<!--解决Jackson转换的日期问题，一劳永逸的办法，全局设置，但是和持久化类中的注解比，谁近更选择谁-->
</blockquote>
</li>
<li><blockquote>
<p><property name="objectMapper">  <!--property：xxx属性--></property></p>
</blockquote>
</li>
<li><blockquote>
<p><bean class="com.fasterxml.jackson.databind.ObjectMapper">  <!--bean：xx实例化了--></bean></p>
</blockquote>
</li>
<li><blockquote>
<property name="dateFormat">
</property></blockquote>
</li>
<li><blockquote>
<bean class="java.text.SimpleDateFormat">
</bean></blockquote>
</li>
<li><blockquote>
<!--yyyy-MM-dd HH:mm:ss只能这么写，如果不显示小时，就需要在持久化类中注解设置-->
</blockquote>
</li>
<li><blockquote>
<p><constructor-arg type="java.lang.String" value="yyyy-MM-dd HH:mm:ss">  <!--constructor-arg：xx构造函数--></constructor-arg></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>前台如何接收</p>
</li>
<li><blockquote>
<h2>${title}</h2>
</blockquote>
</li>
<li><blockquote>
<h2>${requestScope.hs} –指明范围了的</h2>
</blockquote>
</li>
<li><blockquote>
<h2>${requestScope[“class”]}</h2>
</blockquote>
</li>
<li><blockquote>
<h2>${number} —默认情况下是从pageContext-&gt;request-&gt;session-&gt;application下开始寻找</h2>
</blockquote>
</li>
<li><blockquote>
<h2>${requestScope.integer }</h2>
</blockquote>
</li>
<li><blockquote>
<h2>${requestScope.string }</h2>
</blockquote>
</li>
<li><blockquote>
<h2>${requestScope[“double”] }—–因为double是关键字，所以不能.double</h2>
</blockquote>
</li>
<li><blockquote>
<h2>${requestScope.user.mydate }</h2>
</blockquote>
</li>
<li><blockquote>
<h2>${requestScope[“user”][“mydate”] }</h2>
</blockquote>
</li>
</ul>
<h3 id="文件的上传和下载"><a href="#文件的上传和下载" class="headerlink" title="文件的上传和下载"></a>文件的上传和下载</h3><ul>
<li><p>上传</p>
</li>
<li><blockquote>
<p>&lt;%@ page contentType=”text/html;charset=UTF-8” language=”java” %&gt;</p>
</blockquote>
</li>
<li><blockquote>
<html>
</html></blockquote>
</li>
<li><blockquote>
<head>
</head></blockquote>
</li>
<li><blockquote>
<title>Title</title>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<body>
</body></blockquote>
</li>
<li><blockquote>
<h2>单文件上传</h2>
</blockquote>
</li>
<li><blockquote>
<form action="upload01" method="post" enctype="multipart/form-data" id="uploadForm">
</form></blockquote>
</li>
<li><blockquote>
<p>标题：<input type="text" name="title"></p>
</blockquote>
</li>
<li><blockquote>
<p>文件：<input type="file" name="myfile" id="myfile"><br></p>
</blockquote>
</li>
<li><blockquote>
<button>文件上传</button>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<script type="text/javascript" src="resource/jquery.js"></script>
</blockquote>
</li>
<li><blockquote>
<script type="text/javascript">
</blockquote>
</li>
<li><blockquote>
<p>$(function () {</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>//元素选择器</p>
</blockquote>
</li>
<li><blockquote>
<p>$(“button”).click(function () {</p>
</blockquote>
</li>
<li><blockquote>
<p>//1.获取上传文件的对象，是数组，获取的第一个</p>
</blockquote>
</li>
<li><blockquote>
<p>var myfile = $(“#myfile”).prop(“files”)[0];</p>
</blockquote>
</li>
<li><blockquote>
<p>//2.判断文件是否有</p>
</blockquote>
</li>
<li><blockquote>
<p>if (myfile) {</p>
</blockquote>
</li>
<li><blockquote>
<p>//3.获取文件名称</p>
</blockquote>
</li>
<li><blockquote>
<p>var fileName = myfile.name;</p>
</blockquote>
</li>
<li><blockquote>
<p>//4.获取文件的后缀名称</p>
</blockquote>
</li>
<li><blockquote>
<p>var ext = fileName.substring(fileName.lastIndexOf(“.”) + 1);</p>
</blockquote>
</li>
<li><blockquote>
<p>//5.设置允许上传的文件后缀名称</p>
</blockquote>
</li>
<li><blockquote>
<p>var allowFileTypes = [“jpg”, “png”, “gif”, “jpeg”, “dmp”, “rar”];</p>
</blockquote>
</li>
<li><blockquote>
<p>//6.设置一个标识，用来做判断</p>
</blockquote>
</li>
<li><blockquote>
<p>var flag = false;</p>
</blockquote>
</li>
<li><blockquote>
<p>//循环判断上传格式是否正确</p>
</blockquote>
</li>
<li><blockquote>
<p>for (var i = 0; i &lt; allowFileTypes.length; i++) {</p>
</blockquote>
</li>
<li><blockquote>
<p>if (ext == allowFileTypes[i]) {</p>
</blockquote>
</li>
<li><blockquote>
<p>flag = true;</p>
</blockquote>
</li>
<li><blockquote>
<p>break;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>if (!flag) {</p>
</blockquote>
</li>
<li><blockquote>
<p>alert(“您上传的文件格式不正确，允许的格式为：” + allowFileTypes.join(“  |  “));</p>
</blockquote>
</li>
<li><blockquote>
<p>return false;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>//7.判断文件的大小</p>
</blockquote>
</li>
<li><blockquote>
<p>if (myfile.size &gt; 20 <em> 1024 </em> 1024) {</p>
</blockquote>
</li>
<li><blockquote>
<p>alert(“您上传的文件过大，请重新选择”)</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>return false;</p>
</blockquote>
</li>
<li><blockquote>
<p>//8.表单提交</p>
</blockquote>
</li>
<li><blockquote>
<p>${“#uploadForm”}.submit();</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>else {</p>
</blockquote>
</li>
<li><blockquote>
<p>alert(“请选择您要上传的文件”);</p>
</blockquote>
</li>
<li><blockquote>
<p>return false;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>})</p>
</blockquote>
</li>
<li><blockquote>
<p>})</p>
</blockquote>
</li>
<li><blockquote>
<p></script><p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
<ul>
<li><p>要求</p>
<ul>
<li>form表单传递数据</li>
<li>请求必须为POST请求</li>
<li>使用二进制流的方式传递数据 enctype=”multipart/form-data”</li>
<li>文件域 <input type="file" name="myfile"></li>
</ul>
</li>
<li><p>工具</p>
<ul>
<li><p>Servlet3.0</p>
</li>
<li><p>Commons-FileUpload</p>
</li>
<li><blockquote>
<p>@PostMapping(“/upload01”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ModelAndView test01(String title, MultipartFile myfile, HttpServletRequest request) throws IOException {</p>
</blockquote>
</li>
<li><blockquote>
<p>ModelAndView mav = new ModelAndView();</p>
</blockquote>
</li>
<li><blockquote>
<p>//        System.out.println(title);</p>
</blockquote>
</li>
<li><blockquote>
<p>//1.获取上传文件的名称</p>
</blockquote>
</li>
<li><blockquote>
<p>String fileName = myfile.getOriginalFilename();</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“fileName”, fileName);</p>
</blockquote>
</li>
<li><blockquote>
<p>//2.判断文件名称是否有值,isEmpty是这个字符串的length=0为true</p>
</blockquote>
</li>
<li><blockquote>
<p>if (!fileName.isEmpty()) {</p>
</blockquote>
</li>
<li><blockquote>
<p>//3.获取服务器的绝对路径</p>
</blockquote>
</li>
<li><blockquote>
<p>String path = request.getServletContext().getRealPath(“/upload”);</p>
</blockquote>
</li>
<li><blockquote>
<p>//4.建立联系</p>
</blockquote>
</li>
<li><blockquote>
<p>File folder = new File(path);</p>
</blockquote>
</li>
<li><blockquote>
<p>//5.判断该文件是否存在，不存在则创建文件夹</p>
</blockquote>
</li>
<li><blockquote>
<p>if (!folder.exists()) {</p>
</blockquote>
</li>
<li><blockquote>
<p>folder.mkdirs();    //创建文件夹</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>//6,获取上传文件的后缀名称</p>
</blockquote>
</li>
<li><blockquote>
<p>String ext = FilenameUtils.getExtension(fileName);</p>
</blockquote>
</li>
<li><blockquote>
<p>//7.创建新的文件名称</p>
</blockquote>
</li>
<li><blockquote>
<p>//String newFileName = UUID.randomUUID().toString() + “.” + ext;</p>
</blockquote>
</li>
<li><blockquote>
<p>//或者用时间戳创建名称</p>
</blockquote>
</li>
<li><blockquote>
<p>String newFileName = new Date().getTime() + “_” + new Random().nextInt(100000) + “.” + ext;</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“newFileName”, newFileName);</p>
</blockquote>
</li>
<li><blockquote>
<p>//            System.out.println(newFileName);</p>
</blockquote>
</li>
<li><blockquote>
<p>//8.文件上传，File.separator为斜线</p>
</blockquote>
</li>
<li><blockquote>
<p>myfile.transferTo(new File(path + File.separator + newFileName));</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.addObject(“hs”, “和尚”);</p>
</blockquote>
</li>
<li><blockquote>
<p>mav.setViewName(“jsp/result”);</p>
</blockquote>
</li>
<li><blockquote>
<p>/*System.out.println(“测试是否可以获取正常的数据:”+title);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“=====”);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“文件的MIME类型 :”+myfile.getContentType());</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“文件NAME属性对应的值 :”+myfile.getName());</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“上传文件的名称 :”+myfile.getOriginalFilename());</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(“上传文件的大小 :”+myfile.getSize());*/</p>
</blockquote>
</li>
<li><blockquote>
<p>return mav;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
<ul>
<li>commons-fileupload-1.3.1.jar</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>下载</p>
</li>
<li><blockquote>
<p>@GetMapping(“/download”)</p>
</blockquote>
</li>
<li><blockquote>
<p>public ResponseEntity&lt;byte[]&gt; test02(String newFileName, String fileName, HttpServletRequest request) throws IOException {</p>
</blockquote>
</li>
<li><blockquote>
<p>//获取服务端的绝对路径</p>
</blockquote>
</li>
<li><blockquote>
<p>String path = request.getServletContext().getRealPath(“/upload/“);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>HttpHeaders headers = new HttpHeaders();</p>
</blockquote>
</li>
<li><blockquote>
<p>//设置相应的内容为流</p>
</blockquote>
</li>
<li><blockquote>
<p>headers.setContentType(MediaType.TEXT_EVENT_STREAM);</p>
</blockquote>
</li>
<li><blockquote>
<p>//设置下载的名称–和中文乱码的问题</p>
</blockquote>
</li>
<li><blockquote>
<p>headers.setContentDispositionFormData(“attachment”,</p>
</blockquote>
</li>
<li><blockquote>
<p>new String(fileName.getBytes(“UTF-8”), “ISO8859-1”)</p>
</blockquote>
</li>
<li><blockquote>
<p>);</p>
</blockquote>
</li>
<li><blockquote>
<p>//找到文件</p>
</blockquote>
</li>
<li><blockquote>
<p>File file = new File(path + File.separator + newFileName);</p>
</blockquote>
</li>
<li><blockquote>
<p>return new ResponseEntity&lt;byte[]&gt;(FileUtils.readFileToByteArray(file),/<em>将文件转换为byte数组</em>/</p>
</blockquote>
</li>
<li><blockquote>
<p>headers,</p>
</blockquote>
</li>
<li><blockquote>
<p>HttpStatus.CREATED);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>需要的jar包</p>
<ul>
<li>commons-io-2.4.jar</li>
</ul>
</li>
</ul>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><ul>
<li><p>注解方式</p>
<ul>
<li>局部处理@ExceptionHandler</li>
<li>全局处理@ControllerAdvice+@ExceptionHandler</li>
</ul>
</li>
<li><p>XML方式</p>
</li>
<li><blockquote>
<!--6.统一的简单异常处理，监听所有的页面异常-->
</blockquote>
</li>
<li><blockquote>
<bean id="simpleMappingExceptionResolver" class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
</bean></blockquote>
</li>
<li><blockquote>
<!--出现异常，默认跳转的页面-->
</blockquote>
</li>
<li><blockquote>
<property name="defaultErrorView" value="jsp/error">
</property></blockquote>
</li>
<li><blockquote>
<!--类似于这个mav.addObject("ex", ex);-->
</blockquote>
</li>
<li><blockquote>
<property name="exceptionAttribute" value="ex">
</property></blockquote>
</li>
<li><blockquote>
<!--异常映射，若出现下列异常，就跳转相应的页面，不跳默认的-->
</blockquote>
</li>
<li><blockquote>
<property name="exceptionMappings">
</property></blockquote>
</li>
<li><blockquote>
<props>
</props></blockquote>
</li>
<li><blockquote>
<prop key="ArithmeticException">jsp/error</prop>
</blockquote>
</li>
<li><blockquote>
<prop key="ArrayIndexOutOfBoundsException">jsp/error</prop>
</blockquote>
</li>
<li><blockquote>
<prop key="RuntimeException">jsp/error</prop>
</blockquote>
</li>
<li><blockquote>
<prop key="Exception">jsp/error</prop>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
</ul>
<h3 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h3><ul>
<li>拦截器有且只能拦截Controller</li>
</ul>
<h2 id="Spring框架"><a href="#Spring框架" class="headerlink" title="Spring框架"></a>Spring框架</h2><h3 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h3><ul>
<li>Spring是IoC(DI)和AOP的容器框架</li>
</ul>
<h3 id="IoC-控制反转：白话：让别人为我们服务，帮我new对象"><a href="#IoC-控制反转：白话：让别人为我们服务，帮我new对象" class="headerlink" title="IoC #控制反转：白话：让别人为我们服务，帮我new对象"></a>IoC #控制反转：白话：让别人为我们服务，帮我new对象</h3><ul>
<li>管理Bean的声明周期<ul>
<li>范围Scope<ul>
<li>默认情况下是单例模式single</li>
<li>多例模式prototype</li>
<li>request</li>
<li>session</li>
</ul>
</li>
</ul>
</li>
<li>实现方式有两种<ul>
<li><bean id="user" class="com.hs.model.User"></bean></li>
<li>注解方式<ul>
<li>@Component</li>
<li>@Controller</li>
<li>@Service</li>
<li>@Repository</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="DI-注入方式-白话：注入就是实例化，赋值"><a href="#DI-注入方式-白话：注入就是实例化，赋值" class="headerlink" title="DI(注入方式) #白话：注入就是实例化，赋值"></a>DI(注入方式) #白话：注入就是实例化，赋值</h3><ul>
<li><p>Setter方式–推荐</p>
<ul>
<li>XML方式<ul>
<li>com.hs.model.User类中的属性必须要提供set方法</li>
<li>形式如下<ul>
<li>&lt;property name=”属性名” value=”值”</li>
<li>ref引用对象</li>
<li>标准写法</li>
<li>缩写</li>
<li>p方式(p方式的引用)</li>
</ul>
</li>
<li>各个类型如何注入<ul>
<li>普通属性的值 value</li>
<li>集合 list/set/array</li>
<li>map/props</li>
<li>自定义类型<ul>
<li>内部使用<bean></bean></li>
<li>外部实例化，内部使用ref进行引用</li>
<li>外部实例化，使用p:xxx-ref引用</li>
</ul>
</li>
<li>接口注入实现类(接口回调)<ul>
<li>外部定义接口实现类实例化，内部使用<ref bean="">进行引用</ref></li>
<li>外部定义接口实现类实例化，使用p:xxx-ref引用</li>
</ul>
</li>
<li>util:list | set | map | properties—-不常用<ul>
<li>内部定义，内部引用</li>
<li>外部定义，p引用</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>注解方式<ul>
<li>@Autowired–推荐<ul>
<li>@Qualifier(“bookDaoImpl”)，指明具体的id</li>
</ul>
</li>
<li>@Resource</li>
<li>概要: 区别<ul>
<li>@Autowired先按类型再按照名称查找</li>
<li>@Resource先按名称再按照类型查找</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>构造函数注入方式</p>
<ul>
<li>XML方式<ul>
<li>标准写法</li>
<li>缩写</li>
<li>各个类型如何注入<ul>
<li>普通属性的值 value</li>
<li>集合 list/set/array</li>
<li>map/props</li>
<li>自定义类型<ul>
<li>内部使用<bean></bean></li>
<li>外部实例化，内部使用ref进行引用</li>
</ul>
</li>
<li>接口注入实现类(接口回调)<ul>
<li>外部定义接口实现类实例化，内部使用<ref bean="">进行引用</ref></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>注解方式<ul>
<li>@Autowired–推荐</li>
<li>@Resource</li>
</ul>
</li>
</ul>
</li>
<li><p>@Value注解注入值</p>
</li>
<li><blockquote>
<p>@Value(“我是其他属性”)</p>
</blockquote>
</li>
<li><blockquote>
<p>private String anotherValue;</p>
</blockquote>
</li>
<li><blockquote>
<p>或者写在set方法上</p>
</blockquote>
<ul>
<li>注入普通字符串</li>
<li>注入操作系统属性</li>
<li>注入表达式运算结果</li>
<li>注入其他bean的属性。 </li>
<li>注入文件内容。 </li>
<li>注入网址信息。 </li>
<li>注入属性文件。</li>
</ul>
</li>
</ul>
<h3 id="AOP-白话：在不改变原来代码的基础上，增加新的功能，AOP的底层的实现就是使用的是Java的动态代理"><a href="#AOP-白话：在不改变原来代码的基础上，增加新的功能，AOP的底层的实现就是使用的是Java的动态代理" class="headerlink" title="AOP #白话：在不改变原来代码的基础上，增加新的功能，AOP的底层的实现就是使用的是Java的动态代理"></a>AOP #白话：在不改变原来代码的基础上，增加新的功能，AOP的底层的实现就是使用的是Java的动态代理</h3><ul>
<li><p>概念</p>
<ul>
<li>Aspect Oriented Programming with Spring 面向切面（方面）编程<ul>
<li>面向切面编程是面向对象编程的一个补充而已</li>
<li>白话：我的理解—-&gt;在不改变原来的代码的基础上增强（增加）新的功能</li>
</ul>
</li>
</ul>
</li>
<li><p>静态代理</p>
</li>
<li><p>动态代理</p>
</li>
<li><p>CGLIB动态代理</p>
</li>
<li><blockquote>
<p>proxy-target-class=”true”</p>
</blockquote>
</li>
<li><p>切面</p>
<ul>
<li>@Aspect</li>
<li><a href="aop:aspect" target="_blank" rel="noopener">aop:aspect</a></li>
</ul>
</li>
<li><p>连接点</p>
<ul>
<li>表达式 execution(<em> com.hs..service.</em>Service.*(**)</li>
</ul>
</li>
<li><p>切点</p>
<ul>
<li>@PointCut</li>
<li>&lt;aop:point-cut</li>
</ul>
</li>
<li><p>通知</p>
<ul>
<li>前置通知<ul>
<li>不管程序是否正确都会执行</li>
</ul>
</li>
<li>后置通知<ul>
<li>不管程序是否正确都会执行</li>
</ul>
</li>
<li>返回通知<ul>
<li>只有程序是正确的时候才会执行，并且可以获取运行后的数据</li>
</ul>
</li>
<li>异常通知<ul>
<li>只有程序是错误的时候才会执行</li>
</ul>
</li>
<li>环绕通知——-不推荐！！！</li>
</ul>
</li>
<li><p>代理对象</p>
</li>
</ul>
<h3 id="JdbcTemplate工具类"><a href="#JdbcTemplate工具类" class="headerlink" title="JdbcTemplate工具类"></a>JdbcTemplate工具类</h3><ul>
<li><p>配置数据源</p>
</li>
<li><blockquote>
<bean id="druidDataSource" class="com.alibaba.druid.pool.DruidDataSource" destroy-method="close">
</bean></blockquote>
</li>
<li><blockquote>
<property name="driverClassName" value="${jdbc.mysql.driver}">
</property></blockquote>
</li>
<li><blockquote>
<property name="url" value="${jdbc.mysql.url}">
</property></blockquote>
</li>
<li><blockquote>
<property name="username" value="${jdbc.mysql.username}">
</property></blockquote>
</li>
<li><blockquote>
<property name="password" value="${jdbc.mysql.password}">
</property></blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>配置工具类</p>
</li>
<li><blockquote>
<bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
</bean></blockquote>
</li>
<li><blockquote>
<!--setter注入方式-->
</blockquote>
</li>
<li><blockquote>
<property name="dataSource" ref="druidDataSource">
</property></blockquote>
</li>
<li><blockquote>
<!--构造函数赋值-->
</blockquote>
</li>
<li><blockquote>
<!--<constructor-arg name="dataSource" ref="druidDataSource"/>-->
</blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>SQL语句</p>
<ul>
<li><p>查询</p>
<ul>
<li><p>返回Map数据</p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test01() {</p>
</blockquote>
</li>
<li><blockquote>
<p>/<em>String sql = “select </em> from oa_user where user_id = 3”;</p>
</blockquote>
</li>
<li><blockquote>
<p>Map&lt;String, Object&gt; map = this.jdbcTemplate.queryForMap(sql);*/</p>
</blockquote>
</li>
<li><blockquote>
<p>String sql = “select * from oa_user where user_id = ?”;</p>
</blockquote>
</li>
<li><blockquote>
<p>Map&lt;String, Object&gt; map = jdbcTemplate.queryForMap(sql, 2);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(map);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>返回List<map>数据</map></p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test02() {</p>
</blockquote>
</li>
<li><blockquote>
<p>String sql = “select * from oa_user”;</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(jdbcTemplate.queryForList(sql));</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>返回一个值</p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test03() {</p>
</blockquote>
</li>
<li><blockquote>
<p>String sql = “select count(*) from oa_user”;</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(jdbcTemplate.queryForObject(sql, Integer.class));</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>返回一个对象</p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test04() {</p>
</blockquote>
</li>
<li><blockquote>
<p>String sql = “select * from oa_user where user_id = ?”;</p>
</blockquote>
</li>
<li><blockquote>
<p>User user = jdbcTemplate.queryForObject(sql, /<em>匿名内部类</em>/new RowMapper<user>() {</user></p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>@Override</p>
</blockquote>
</li>
<li><blockquote>
<p>public User mapRow(ResultSet rs, int rowNum) throws SQLException {</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>User user = new User();</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setUser_id(rs.getInt(“user_id”));</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setUser_name(rs.getString(“User_name”));</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setSex(rs.getString(“sex”));</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setMoney(rs.getBigDecimal(“money”));</p>
</blockquote>
</li>
<li><blockquote>
<p>user.setBirthday((Date) rs.getObject(“birthday”));</p>
</blockquote>
</li>
<li><blockquote>
<p>return user;</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><blockquote>
<p>}, 2);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(user);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
<li><p>返回一个List&lt;对象&gt;</p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test06() {</p>
</blockquote>
</li>
<li><blockquote>
<p>String sql = “select * from oa_user where user_name like concat(‘%’,?,’%’)”;</p>
</blockquote>
</li>
<li><blockquote>
<p>List<user> userList = jdbcTemplate.query(sql,/<em>处理一条一条的数据，，，<user>可以不用写</user></em>/new BeanPropertyRowMapper<user>(User.class), “沙僧”);</user></user></p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(userList);</p>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
<li><p>增删改</p>
</li>
<li><blockquote>
<p>@Test</p>
</blockquote>
</li>
<li><blockquote>
<p>public void test07() {</p>
</blockquote>
</li>
<li><blockquote>
<p>String sql1 = “insert into oa_user(user_name,sex,money,birthday) values(?,?,?,?)”;</p>
</blockquote>
</li>
<li><blockquote>
<p>String sql2 = “update oa_user set user_name=?,sex=? where user_id = ?”;</p>
</blockquote>
</li>
<li><blockquote>
<p>String sql3 = “delete from oa_user where user_id = ?”;</p>
</blockquote>
</li>
<li><blockquote>
<p>int num1 = jdbcTemplate.update(sql1, “唐僧”, “男”, 220.00, “2018-8-9”);</p>
</blockquote>
</li>
<li><blockquote>
<p>int num2 = jdbcTemplate.update(sql2, “和尚”, “男”, 16);</p>
</blockquote>
</li>
<li><blockquote>
<p>int num3 = jdbcTemplate.update(sql3, 17);</p>
</blockquote>
</li>
<li><blockquote>
<p>System.out.println(num1+”–”+num2+”—“+num3);</p>
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>}</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><ul>
<li><p>事务</p>
<ul>
<li>概念<ul>
<li>一个工作单元由多个动作组成，只有动作全部正确的时候才能执行成功，如果有一个动作错了，其他的动作都是无效的（回滚）</li>
</ul>
</li>
<li>关键属性（ACID）<ul>
<li>原子性(atomicity):事务是一一个原子操作,由一系列动作组成，事务的原子性确保动作要么全部完成要么完全不起作用</li>
<li>一致性(consistency):一旦所有事务动作完成，事务就被提交，数据和资源就处于一种满足业务规则的一-致性状态中.</li>
<li>隔离性(isolation):可能有许多事务会同时处理相同的数据，因此每个事物都应该与其他事务隔离开来，防止数据损坏</li>
<li>持久性(durability): 一旦事务完成，无论发生什么系统错误，它的结果都不应该受到影响，通常情况下，事务的结果被写到持久化存储器中</li>
</ul>
</li>
</ul>
</li>
<li><p>事务管理</p>
<ul>
<li>事务管理就是管理事务，用来确保数据的完整性和一致性.</li>
</ul>
</li>
<li><p>事务管理器</p>
<ul>
<li>就是对事务管理的实现，数据的完整性和一致性（数据库—&gt;数据源）</li>
</ul>
</li>
<li><p>传播性</p>
<ul>
<li>当你事务方法被另一个事务方法调用的时候，需要检查其事务的传播性</li>
</ul>
</li>
<li><p>调用过程</p>
<ul>
<li><p>XML版—推荐 #XML版本完成事务，需要跟AOP配合使用</p>
<ul>
<li><p>配置事务管理器</p>
</li>
<li><blockquote>
<bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
</bean></blockquote>
</li>
<li><blockquote>
<property name="dataSource" ref="druidDataSource">
</property></blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>告知哪些方法是需要被事务管理器进行管理的</p>
</li>
<li><blockquote>
<p>&lt;!–6.告知哪些方法是需要被事务管理器进行管理的，</p>
</blockquote>
</li>
<li><blockquote>
<p>等价于注解版，在方法上面写@Transactional</p>
</blockquote>
</li>
<li><blockquote>
<p>–&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:advice transaction-manager=”transactionManager” id=”serviceAdvice”&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p><a href="tx:attributes" target="_blank" rel="noopener">tx:attributes</a></p>
</blockquote>
</li>
<li><blockquote>
<!--哪些方法，也可以设置属性，对应注解版的属性-->
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”get*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”load*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”list*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”find*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”query*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”sel*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”check*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”valid*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”login*” read-only=”true”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<!--这是方法都是查询的方法,设置为只读-->
</blockquote>
</li>
<li><blockquote>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:method name=”*” propagation=”REQUIRED”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;/tx:attributes&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;/tx:advice&gt;</p>
</blockquote>
</li>
<li><p>配置AOP和tx:advice配合使用，告知我哪个层次下的方法会被事务管理器进行管理</p>
</li>
<li><blockquote>
<p>&lt;aop:config proxy-target-class=”true”&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;aop:pointcut id=”servicePointCut” expression=”execution(<em> com.hs..service.</em>Service.*(..))”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;aop:advisor advice-ref=”serviceAdvice” pointcut-ref=”servicePointCut”/&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;/aop:config&gt;</p>
</blockquote>
</li>
<li><p>启动事务注解</p>
</li>
<li><blockquote>
<p>&lt;tx:annotation-driven transaction-manager=”transactionManager” proxy-target-class=”true”/&gt;</p>
</blockquote>
</li>
</ul>
</li>
<li><p>注解版</p>
<ul>
<li><p>配置事务管理器</p>
</li>
<li><blockquote>
<bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
</bean></blockquote>
</li>
<li><blockquote>
<property name="dataSource" ref="druidDataSource">
</property></blockquote>
</li>
<li><blockquote>
<p></p>
</blockquote>
</li>
<li><p>启动事务注解</p>
</li>
<li><blockquote>
<p>&lt;!–6.启动事务注解：告知该方法是事务方法(一个错，其他全部错)，而不是普通方法</p>
</blockquote>
</li>
<li><blockquote>
<p>transaction-manager=”transactionManager”可以省略</p>
</blockquote>
</li>
<li><blockquote>
<p>–&gt;</p>
</blockquote>
</li>
<li><blockquote>
<p>&lt;tx:annotation-driven transaction-manager=”transactionManager” proxy-target-class=”true”/&gt;</p>
</blockquote>
</li>
<li><p>在方法或者类的前面@Transactional，告之是事务方法</p>
</li>
<li><p>@Transactional的属性</p>
<ul>
<li>@Transactional(readOnly = true) //只读，一般只做查询操作使用</li>
<li>@Transactional(noRollbackForClassName = “RuntimeException”) //遇见这个异常，数据就不会回滚</li>
<li>传播性的行为<ul>
<li>默认：@Transactional(propagation = Propagation.REQUIRED)</li>
<li>@Transactional(propagation = Propagation.REQUIRES_NEW)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><em>XMind: ZEN - Trial Version</em></p>

      
    </div>

    


    
    
    


      


    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------哈哈哈<i class="fa fa-paw"></i>看完了吧！-------------</div>
    
</div>
      
    </div>


      
        <div>
          
            
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <style type="text/css">
    .my_post_copyright {
      width: 85%;
      max-width: 45em;
      margin: 2.8em auto 0;
      padding: 0.5em 1.0em;
      border: 1px solid #d3d3d3;
      font-size: 0.93rem;
      line-height: 1.6em;
      word-break: break-all;
      background: rgba(255,255,255,0.4);
    }
    .my_post_copyright p{margin:0;}
    .my_post_copyright span {
      display: inline-block;
      width: 5.2em;
      color: #b5b5b5;
      font-weight: bold;
    }
    .my_post_copyright .raw {
      margin-left: 1em;
      width: 5em;
    }
    .my_post_copyright a {
      color: #808080;
      border-bottom:0;
    }
    .my_post_copyright a:hover {
      color: #a3d2a3;
      text-decoration: underline;
    }
    .my_post_copyright:hover .fa-clipboard {
      color: #000;
    }
    .my_post_copyright .post-url:hover {
      font-weight: normal;
    }
    .my_post_copyright .copy-path {
      margin-left: 1em;
      width: 1em;
      +mobile(){display:none;}
    }
    .my_post_copyright .copy-path:hover {
      color: #808080;
      cursor: pointer;
    }

  </style>

  <p><span>本文标题:</span><a href="/2018/09/04/SSM框架总结—学习路线/">SSM框架总结—学习路线</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 和尚 的个人博客">和尚</a></p>
  <!-- <p><span>发布时间:</span>2018年09月04日 - 20:09</p>
  <p><span>最后更新:</span>2019年05月26日 - 21:05</p> -->
  <p><span>本文链接:</span><a href="/2018/09/04/SSM框架总结—学习路线/" title="SSM框架总结—学习路线">https://heshang.ink/2018/09/04/SSM框架总结—学习路线/</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://heshang.ink/2018/09/04/SSM框架总结—学习路线/"  aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
  });
    });  
</script>

          
        </div>
       

      
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>谢谢各位老板的打赏(90°鞠躬)！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="和尚 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="和尚 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/MyBatis/" rel="tag"><i class="fa fa-tag"></i> MyBatis</a>
          
            <a href="/tags/框架/" rel="tag"><i class="fa fa-tag"></i> 框架</a>
          
            <a href="/tags/SpringMvc/" rel="tag"><i class="fa fa-tag"></i> SpringMvc</a>
          
            <a href="/tags/Spring/" rel="tag"><i class="fa fa-tag"></i> Spring</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/09/03/Spring学习笔记（十五）Spring事务XML版-推荐/" rel="next" title="Spring学习笔记（十五）Spring事务XML版-推荐">
                <i class="fa fa-chevron-left"></i> Spring学习笔记（十五）Spring事务XML版-推荐
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/09/14/VM安装、Ubuntu的安装、Ubuntu设置为中文/" rel="prev" title="VM安装、Ubuntu的安装、Ubuntu设置为中文">
                VM安装、Ubuntu的安装、Ubuntu设置为中文 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zODI2My8xNDc5MQ"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/avatar.png#/images/avatar.gif"
                alt="和尚" />
            
              <p class="site-author-name" itemprop="name">和尚</p>
              <p class="site-description motion-element" itemprop="description">外面诱惑很多，希望自己能一直走下去</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">47</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">28</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/heshangcode" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:914727235@qq.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://blog.csdn.net/qq_39707130" target="_blank" title="CSDN"><i class="fa fa-fw fa-copyright"></i>CSDN</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                PY大军
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ltitan.github.io/" title="Ltitan" target="_blank">Ltitan</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://crazyeric.top/" title="Eric" target="_blank">Eric</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://coding.net/" title="Hosted by Coding Pages" target="_blank">Hosted by Coding Pages</a>
                  </li>
                
              </ul>
            </div>
          


    


          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#MyBatis框架"><span class="nav-text">MyBatis框架</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述"><span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CRUD操作"><span class="nav-text">CRUD操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#动态的SQL语句"><span class="nav-text">动态的SQL语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#传递多个参数"><span class="nav-text">传递多个参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#接口代理模式和传统模式"><span class="nav-text">接口代理模式和传统模式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#单元测试框架"><span class="nav-text">单元测试框架</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述-1"><span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#需要的jar包"><span class="nav-text">需要的jar包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何使用"><span class="nav-text">如何使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#日志框架Log4J"><span class="nav-text">日志框架Log4J</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述-2"><span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#需要的jar包-1"><span class="nav-text">需要的jar包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何使用-1"><span class="nav-text">如何使用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Global-logging-configuration"><span class="nav-text">Global logging configuration</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MyBatis-logging-configuration…"><span class="nav-text">MyBatis logging configuration…</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如果要显示SQL语句，那么这个位置需要配置为命名空间"><span class="nav-text">如果要显示SQL语句，那么这个位置需要配置为命名空间</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Console-output…"><span class="nav-text">Console output…</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SpringMVC框架"><span class="nav-text">SpringMVC框架</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述-3"><span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#需要的jar包-2"><span class="nav-text">需要的jar包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#控制器专题"><span class="nav-text">控制器专题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#静态资源-图片、js、css-排除方案，不经过DispatcherServlet"><span class="nav-text">静态资源(图片、js、css)排除方案，不经过DispatcherServlet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#客户端传递数据转换成服务端对应的数据类型"><span class="nav-text">客户端传递数据转换成服务端对应的数据类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">多个对象进行关联方式二：前台处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">不同对象同属性传递借助第三方类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-text">用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-text">学生</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#客户端传递数据中文乱码"><span class="nav-text">客户端传递数据中文乱码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务端传递数据到客户端"><span class="nav-text">服务端传递数据到客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${title}</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${requestScope.hs} –指明范围了的</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${requestScope[“class”]}</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${number} —默认情况下是从pageContext-&gt;request-&gt;session-&gt;application下开始寻找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${requestScope.integer }</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${requestScope.string }</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${requestScope[“double”] }—–因为double是关键字，所以不能.double</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${requestScope.user.mydate }</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">${requestScope[“user”][“mydate”] }</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#文件的上传和下载"><span class="nav-text">文件的上传和下载</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-text">单文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#异常处理"><span class="nav-text">异常处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#拦截器"><span class="nav-text">拦截器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring框架"><span class="nav-text">Spring框架</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述-4"><span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IoC-控制反转：白话：让别人为我们服务，帮我new对象"><span class="nav-text">IoC #控制反转：白话：让别人为我们服务，帮我new对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DI-注入方式-白话：注入就是实例化，赋值"><span class="nav-text">DI(注入方式) #白话：注入就是实例化，赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AOP-白话：在不改变原来代码的基础上，增加新的功能，AOP的底层的实现就是使用的是Java的动态代理"><span class="nav-text">AOP #白话：在不改变原来代码的基础上，增加新的功能，AOP的底层的实现就是使用的是Java的动态代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JdbcTemplate工具类"><span class="nav-text">JdbcTemplate工具类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事务"><span class="nav-text">事务</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
<div id="music163player">
         <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=106 src="//music.163.com/outchain/player?type=2&id=395434&auto=0&height=66"></iframe>
    </div>
    
    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>


<div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">和尚</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="站点总字数">326k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="站点阅读时长">10:51</span>
  
</div>






<!--
<div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



<div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.3.0</div>
-->





        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="总访客量">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>






  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=66105156";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  













  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.3.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  
  

  

  

  

  

  


  <!--爆炸-->
  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>

 

</body>
</html>
